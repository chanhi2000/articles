import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,b as n,t as r,e as s,n as e,g as t,f as d,r as o,o as u}from"./app-BgNevrm5.js";const k={},h={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},m={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},f=n("nav",{class:"table-of-contents"},[n("ul")],-1),v=n("hr",null,null,-1),b=d(`<p>We need to add three more methods to our view controller in order to bring this game to life: one to handle letter buttons being tapped, another to handle the current word being cleared, and a third to handle the current word being submitted. The first two are easiest, so let&#39;s get those done so we can get onto the serious stuff.</p><p>First, we already used the <code>addTarget()</code> method in <code>viewDidLoad()</code> to make all our letter buttons call the method <code>letterTapped()</code>, but right now itâ€™s empty. Please fill it in like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@objc</span> <span class="token keyword">func</span> <span class="token function-definition function">letterTapped</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> sender<span class="token punctuation">:</span> <span class="token class-name">UIButton</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">guard</span> <span class="token keyword">let</span> buttonTitle <span class="token operator">=</span> sender<span class="token punctuation">.</span>titleLabel<span class="token operator">?</span><span class="token punctuation">.</span>text <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span></span>
<span class="line">    currentAnswer<span class="token punctuation">.</span>text <span class="token operator">=</span> currentAnswer<span class="token punctuation">.</span>text<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">appending</span><span class="token punctuation">(</span>buttonTitle<span class="token punctuation">)</span></span>
<span class="line">    activatedButtons<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sender<span class="token punctuation">)</span></span>
<span class="line">    sender<span class="token punctuation">.</span>isHidden <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That does four things:</p><ol><li>It adds a safety check to read the title from the tapped button, or exit if it didnâ€™t have one for some reason.</li><li>Appends that button title to the playerâ€™s current answer.</li><li>Appends the button to the <code>activatedButtons</code> array</li><li>Hides the button that was tapped.</li></ol><p>The <code>activatedButtons</code> array is being used to hold all buttons that the player has tapped before submitting their answer. This is important because we&#39;re hiding each button as it is tapped, so if the user taps &quot;Clear&quot; we need to know which buttons are currently in use so we can re-show them. You already created an empty method for clear being tapped, so fill it in like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@objc</span> <span class="token keyword">func</span> <span class="token function-definition function">clearTapped</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> sender<span class="token punctuation">:</span> <span class="token class-name">UIButton</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    currentAnswer<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> btn <span class="token keyword">in</span> activatedButtons <span class="token punctuation">{</span></span>
<span class="line">        btn<span class="token punctuation">.</span>isHidden <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    activatedButtons<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As you can see, this method removes the text from the current answer text field, unhides all the activated buttons, then removes all the items from the <code>activatedButtons</code> array.</p><p>That just leaves one very important method to fill in, and you already created its stub: the <code>submitTapped()</code> method for when the player taps the submit button.</p><p>This method will use <code>firstIndex(of:)</code> to search through the <code>solutions</code> array for an item and, if it finds it, tells us its position. Remember, the return value of <code>firstIndex(of:)</code> is optional so that in situations where nothing is found you won&#39;t get a value back â€“ we need to unwrap its return value carefully.</p><p>If the user gets an answer correct, we&#39;re going to change the answers label so that rather than saying &quot;7 LETTERS&quot; it says &quot;HAUNTED&quot;, so they know which ones they have solved already.</p><p>The way we&#39;re going to do this is hopefully easy enough to understand: <code>firstIndex(of:)</code> will tell us which solution matched their word, then we can use that position to find the matching clue text. All we need to do is split the answer label text up by <code>\\n</code>, replace the line at the solution position with the solution itself, then re-join the answers label back together.</p><p>You&#39;ve already learned how to use <code>components(separatedBy:)</code> to split text into an array, and now it&#39;s time to meet its counterpart: <code>joined(separator:)</code>. This makes an array into a single string, with each array element separated by the string specified in its parameter.</p><p>Once that&#39;s done, we clear the current answer text field and add one to the score. If the score is evenly divisible by 7, we know they have found all seven words so we&#39;re going to show a <code>UIAlertController</code> that will prompt the user to go to the next level.</p><p>If you remember, Swift has a division remainder operator, <code>%</code>, that tells us what number remains when you divide one number evenly by another â€“ thatâ€™s perfect here.</p><p>That&#39;s all the parts explained, so here&#39;s the complete <code>submitTapped()</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@objc</span> <span class="token keyword">func</span> <span class="token function-definition function">submitTapped</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> sender<span class="token punctuation">:</span> <span class="token class-name">UIButton</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">guard</span> <span class="token keyword">let</span> answerText <span class="token operator">=</span> currentAnswer<span class="token punctuation">.</span>text <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">let</span> solutionPosition <span class="token operator">=</span> solutions<span class="token punctuation">.</span><span class="token function">firstIndex</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> answerText<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        activatedButtons<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">var</span> splitAnswers <span class="token operator">=</span> answersLabel<span class="token punctuation">.</span>text<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span>separatedBy<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;\\n&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        splitAnswers<span class="token operator">?</span><span class="token punctuation">[</span>solutionPosition<span class="token punctuation">]</span> <span class="token operator">=</span> answerText</span>
<span class="line">        answersLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> splitAnswers<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">joined</span><span class="token punctuation">(</span>separator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;\\n&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        currentAnswer<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span></span>
<span class="line">        score <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> score <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">let</span> ac <span class="token operator">=</span> <span class="token class-name">UIAlertController</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Well done!&quot;</span></span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Are you ready for the next level?&quot;</span></span><span class="token punctuation">,</span> preferredStyle<span class="token punctuation">:</span> <span class="token punctuation">.</span>alert<span class="token punctuation">)</span></span>
<span class="line">            ac<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Let&#39;s go!&quot;</span></span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> levelUp<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token function">present</span><span class="token punctuation">(</span>ac<span class="token punctuation">,</span> animated<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We havenâ€™t written a <code>levelUp()</code> method yet, but itâ€™s not so hard. It needs to:</p><ol><li>Add 1 to <code>level</code>.</li><li>Remove all items from the <code>solutions</code> array.</li><li>Call <code>loadLevel()</code> so that a new level file is loaded and shown.</li><li>Make sure all our letter buttons are visible.</li></ol><p>Add this <code>levelUp()</code> method now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">levelUp</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token class-name">UIAlertAction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    level <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">    solutions<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>keepingCapacity<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">loadLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> btn <span class="token keyword">in</span> letterButtons <span class="token punctuation">{</span></span>
<span class="line">        btn<span class="token punctuation">.</span>isHidden <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As you can see, that code clears out the existing <code>solutions</code> array before refilling it inside <code>loadLevel()</code>. Then of course you&#39;d need to create level2.txt, level3.txt and so on.</p><p>To get you started, I&#39;ve made an example level2.txt for you inside my example files for this project â€“ try adding that to the project and see what you think. Any further levels are for you to do â€“ just make sure there&#39;s a total of 20 letter groups each time!</p>`,23);function w(i,g){const a=o("VPCard"),p=o("VidStack");return u(),c("div",null,[n("h1",h,[n("a",m,[n("span",null,r(i.$frontmatter.title)+" ê´€ë ¨",1)])]),s(a,e(t({title:"Hacking with iOS â€“ learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials â€“ learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),f,v,s(a,e(t({title:"It's play time: firstIndex(of:) and joined() | Hacking with iOS",desc:"It's play time: firstIndex(of:) and joined()",link:"https://hackingwithswift.com/read/8/4/its-play-time-firstindexof-and-joined",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),s(p,{src:"youtube/InHeXXy3NFc"}),b])}const I=l(k,[["render",w],["__file","04-its-play-time-firstindexof-and-joined.html.vue"]]),A=JSON.parse(`{"path":"/hackingwithswift.com/read/08/04-its-play-time-firstindexof-and-joined.html","title":"It's play time: firstIndex(of:) and joined()","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"It's play time: firstIndex(of:) and joined()","description":"Article(s) > It's play time: firstIndex(of:) and joined()","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > It's play time: firstIndex(of:) and joined()"},{"property":"og:description","content":"It's play time: firstIndex(of:) and joined()"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/08/04-its-play-time-firstindexof-and-joined.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/08/04-its-play-time-firstindexof-and-joined.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"It's play time: firstIndex(of:) and joined()"}],["meta",{"property":"og:description","content":"Article(s) > It's play time: firstIndex(of:) and joined()"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"It's play time: firstIndex(of:) and joined()\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":3.35,"words":1005},"filePathRelative":"hackingwithswift.com/read/08/04-its-play-time-firstindexof-and-joined.md","excerpt":"\\n"}`);export{I as comp,A as data};
