import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,b as n,t as r,e as s,n as e,g as t,f as u,r as o,o as d}from"./app-BgNevrm5.js";const h={},k={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},m={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},g=n("nav",{class:"table-of-contents"},[n("ul")],-1),f=n("hr",null,null,-1),b=u(`<p>To begin with we&#39;re going to place a handful of things that are required to make our game work: a star field (not a static background picture this time), the player image, plus a score label. Those three things will use an <code>SKEmitterNode</code>, an <code>SKSpriteNode</code> and an <code>SKLabelNode</code> respectively, so let&#39;s declare them as properties now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> starfield<span class="token punctuation">:</span> <span class="token class-name">SKEmitterNode</span><span class="token operator">!</span></span>
<span class="line"><span class="token keyword">var</span> player<span class="token punctuation">:</span> <span class="token class-name">SKSpriteNode</span><span class="token operator">!</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> scoreLabel<span class="token punctuation">:</span> <span class="token class-name">SKLabelNode</span><span class="token operator">!</span></span>
<span class="line"><span class="token keyword">var</span> score <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">didSet</span> <span class="token punctuation">{</span></span>
<span class="line">        scoreLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Score: </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">score</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As per usual, we&#39;re using a property observer to update the score label as needed.</p><p>In order to get those properties set up with meaningful values, we&#39;re going to put a lot of code into <code>didMove(to:)</code> so that everything is created and positioned up front.</p><p>I&#39;m not going to bore you by going through every line of code â€“ three quarters of it you should know by heart at this point! â€“ but I do want to point out a few interesting things.</p><p>First, the star field particle emitter is positioned at X:1024 Y:384, which is the right edge of the screen and half way up. If you created particles like this normally it would look strange, because most of the screen wouldn&#39;t start with particles and they would just stream in from the right. But by using the <code>advanceSimulationTime()</code> method of the emitter weâ€™re going to ask SpriteKit to simulate 10 seconds passing in the emitter, thus updating all the particles as if they were created 10 seconds ago. This will have the effect of filling our screen with star particles.</p><p>Second, because the spaceship is an irregular shape and the objects in space are also irregular, we&#39;re going to use per-pixel collision detection. This means collisions happen not based on rectangles and circles but based on actual pixels from one object touching actual pixels in another.</p><p>Now, SpriteKit does a really great job of optimizing this so that it looks like it&#39;s using actual pixels when in fact it just uses a very close approximation, but you should still only use it when it&#39;s needed. If something can be created as a rectangle or a circle you should do so because it&#39;s much faster.</p><p>Third, we&#39;re going to set the contact test bit mask for our player to be 1. This will match the category bit mask we will set for space debris later on, and it means that we&#39;ll be notified when the player collides with debris.</p><p>Fourth, I&#39;m going to set the gravity of our physics world to be empty, because this is space and there isn&#39;t any gravity. Well, that&#39;s not strictly true because there is a small amount of gravity everywhere in space, but certainly nothing we can simulate effectively in this game!</p><p>Here&#39;s the new <code>didMove(to:)</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">didMove</span><span class="token punctuation">(</span>to view<span class="token punctuation">:</span> <span class="token class-name">SKView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    backgroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>black</span>
<span class="line"></span>
<span class="line">    starfield <span class="token operator">=</span> <span class="token class-name">SKEmitterNode</span><span class="token punctuation">(</span>fileNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;starfield&quot;</span></span><span class="token punctuation">)</span><span class="token operator">!</span></span>
<span class="line">    starfield<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">384</span><span class="token punctuation">)</span></span>
<span class="line">    starfield<span class="token punctuation">.</span><span class="token function">advanceSimulationTime</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>starfield<span class="token punctuation">)</span></span>
<span class="line">    starfield<span class="token punctuation">.</span>zPosition <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span>
<span class="line"></span>
<span class="line">    player <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;player&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    player<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">384</span><span class="token punctuation">)</span></span>
<span class="line">    player<span class="token punctuation">.</span>physicsBody <span class="token operator">=</span> <span class="token class-name">SKPhysicsBody</span><span class="token punctuation">(</span>texture<span class="token punctuation">:</span> player<span class="token punctuation">.</span>texture<span class="token operator">!</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> player<span class="token punctuation">.</span>size<span class="token punctuation">)</span></span>
<span class="line">    player<span class="token punctuation">.</span>physicsBody<span class="token operator">?</span><span class="token punctuation">.</span>contactTestBitMask <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    scoreLabel <span class="token operator">=</span> <span class="token class-name">SKLabelNode</span><span class="token punctuation">(</span>fontNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Chalkduster&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    scoreLabel<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span></span>
<span class="line">    scoreLabel<span class="token punctuation">.</span>horizontalAlignmentMode <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token keyword">left</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>scoreLabel<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    score <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line">    physicsWorld<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token class-name">CGVector</span><span class="token punctuation">(</span>dx<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    physicsWorld<span class="token punctuation">.</span>contactDelegate <span class="token operator">=</span> <span class="token keyword">self</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Did you see how easy it is to make per-pixel collision detection work? You just need to create the <code>SKPhysicsBody</code> by passing in a texture and size, and for us we just want to use the player&#39;s current texture and size. That&#39;s it!</p><p>The last line of code in that method sets our current game scene to be the contact delegate of the physics world, so you&#39;ll need to conform to the <code>SKPhysicsContactDelegate</code> protocol.</p><p><img src="https://hackingwithswift.com17-1https://hackingwithswift.com/img/books/hws/17-1@2x.png" alt="" loading="lazy">Our basic game has the user piloting a space rocket through space.</p>`,15);function v(i,w){const a=o("VPCard"),p=o("VidStack");return d(),l("div",null,[n("h1",k,[n("a",m,[n("span",null,r(i.$frontmatter.title)+" ê´€ë ¨",1)])]),s(a,e(t({title:"Hacking with iOS â€“ learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials â€“ learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),g,f,s(a,e(t({title:"Space: the final frontier | Hacking with iOS",desc:"Space: the final frontier",link:"https://hackingwithswift.com/read/17/2/up-and-running-with-mapkit",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),s(p,{src:"youtube/wT8EGUiUGPc"}),b])}const x=c(h,[["render",v],["__file","02-space-the-final-frontier.html.vue"]]),_=JSON.parse('{"path":"/hackingwithswift.com/read/17/02-space-the-final-frontier.html","title":"Space: the final frontier","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Space: the final frontier","description":"Article(s) > Space: the final frontier","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Space: the final frontier"},{"property":"og:description","content":"Space: the final frontier"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/17/02-up-and-running-with-mapkit.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/17/02-space-the-final-frontier.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Space: the final frontier"}],["meta",{"property":"og:description","content":"Article(s) > Space: the final frontier"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com17-1https://hackingwithswift.com/img/books/hws/17-1@2x.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Space: the final frontier\\",\\"image\\":[\\"https://hackingwithswift.com17-1https://hackingwithswift.com/img/books/hws/17-1@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":2.61,"words":783},"filePathRelative":"hackingwithswift.com/read/17/02-space-the-final-frontier.md","excerpt":"\\n"}');export{x as comp,_ as data};
