import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,b as t,t as l,e as n,n as s,g as i,a as e,r as h,o as u}from"./app-BgNevrm5.js";const p={},d={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},m={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},f=t("nav",{class:"table-of-contents"},[t("ul")],-1),g=t("hr",null,null,-1),w=t("details",{class:"hint-container details"},[t("summary",null,"Similar solutions‚Ä¶"),e(`
/quick-start/concurrency/what-is-an-asynchronous-function">What is an asynchronous function? 
/quick-start/swiftui/how-to-run-an-asynchronous-task-when-a-view-is-shown">How to run an asynchronous task when a view is shown 
/example-code/testing/how-to-test-throwing-functions">How to test throwing functions 
/example-code/testing/how-to-do-conditional-test-tear-down-using-addteardownblock">How to do conditional test tear down using addTeardownBlock() 
/example-code/language/how-to-pass-the-fizz-buzz-test">How to pass the Fizz Buzz test</a>
`)],-1);function y(a,x){const o=h("VPCard");return u(),r("div",null,[t("h1",d,[t("a",m,[t("span",null,l(a.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),n(o,s(i({title:"Testing - free Swift example code",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/example-code/testing/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),f,g,n(o,s(i({title:"How to test asynchronous functions using expectation() | Testing - free Swift example code",desc:"How to test asynchronous functions using expectation()",link:"https://hackingwithswift.com/example-code/testing/how-to-test-asynchronous-functions-using-expectation",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),e(" TODO: ÏûëÏÑ± "),e(' \n`XCTestCase` has the built-in ability to work with asynchronous code using a system of expectations. First, you create one of more instances of `XCTestExpectation` using the `expectation()` method, then you run your asynchronous code, and finally you call `waitForExpectations()` so the test doesn‚Äôt end prematurely. \n\nWhen your asynchronous code completes you call `fulfill()` on it to mark it as complete, and you can then call some variant of `XCTAssert()` to check whether the test succeeded or failed.\n\nAs an example, I have a `FeedParser` struct that loads stories from disk and parses them ready for display. It takes a few milliseconds to run, so to avoid freezing my app it has an asynchronous method called `loadStories()` that calls a completion handler when the stories are ready to be used. Using `XCTestCase` expectations I would write a test like this:\n\n```swift\nfunc testStoryLoading() throws {\n    let parser = FeedParser()\n\n    // create the expectation\n    let exp = expectation(description: "Loading stories")\n\n    // call my asynchronous method\n    parser.loadStories {\n        // when it finishes, mark my expectation as being fulfilled\n        exp.fulfill()\n    }\n\n    // wait three seconds for all outstanding expectations to be fulfilled\n    waitForExpectations(timeout: 3)\n\n    // our expectation has been fulfilled, so we can check the result is correct\n    XCTAssertEqual(parser.stories.count, 20, "We should have loaded exactly 20 stories.")\n}\n```\n\nIf my asynchronous code does not complete in the allotted time of three seconds, the test is considered an immediate failure.\n\n`XCTestExpectation` has two properties you might want to explore further. The first is `isInverted`: if you set that to true then the test will be considered a failure if `fulfill()` gets called before the time out, so for example you might want the AI in your game to wait at least two seconds before making its move so the player can see it‚Äôs definitely thinking. \n\nThe second is `expectedFulfillmentCount`: if you set this to 5 for example, it means `fulfill()` must be called five times before the time out is reached, which allows you to implement more advanced testing logic.\n\n'),w])}const _=c(p,[["render",y],["__file","how-to-test-asynchronous-functions-using-expectation.html.vue"]]),v=JSON.parse('{"path":"/hackingwithswift.com/example-code/testing/how-to-test-asynchronous-functions-using-expectation.html","title":"How to test asynchronous functions using expectation()","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"How to test asynchronous functions using expectation()","description":"Article(s) > How to test asynchronous functions using expectation()","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swift-5.10","ios","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > How to test asynchronous functions using expectation()"},{"property":"og:description","content":"How to test asynchronous functions using expectation()"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/example-code/testing/how-to-test-asynchronous-functions-using-expectation.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/example-code/testing/how-to-test-asynchronous-functions-using-expectation.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"How to test asynchronous functions using expectation()"}],["meta",{"property":"og:description","content":"Article(s) > How to test asynchronous functions using expectation()"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swift-5.10"}],["meta",{"property":"article:tag","content":"ios"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:published_time","content":"2018-03-28T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to test asynchronous functions using expectation()\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2018-03-28T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"date":"2018-03-28T00:00:00.000Z","isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":1.93,"words":579},"filePathRelative":"hackingwithswift.com/example-code/testing/how-to-test-asynchronous-functions-using-expectation.md","localizedDate":"2018ÎÖÑ 3Ïõî 28Ïùº","excerpt":"\\n"}');export{_ as comp,v as data};
