import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,b as n,t as u,e as s,n as t,g as e,f as r,r as o,o as d}from"./app-BgNevrm5.js";const k={},h={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},m={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},g=n("nav",{class:"table-of-contents"},[n("ul")],-1),w=n("hr",null,null,-1),v=r(`<p>The purpose of the game will be to drop your balls in such a way that they land in good slots and not bad ones. We have bouncers in place, but we need to fill the gaps between them with something so the player knows where to aim.</p><p>We&#39;ll be filling the gaps with two types of target slots: good ones (colored green) and bad ones (colored red). As with bouncers, we&#39;ll need to place a few of these, which means we need to make a method. This needs to load the slot base graphic, position it where we said, then add it to the scene, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">makeSlot</span><span class="token punctuation">(</span>at position<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">,</span> isGood<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> slotBase<span class="token punctuation">:</span> <span class="token class-name">SKSpriteNode</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> isGood <span class="token punctuation">{</span></span>
<span class="line">        slotBase <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;slotBaseGood&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        slotBase <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;slotBaseBad&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    slotBase<span class="token punctuation">.</span>position <span class="token operator">=</span> position</span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>slotBase<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Unlike <code>makeBouncer(at:)</code>, this method has a second parameter â€“ whether the slot is good or not â€“ and that affects which image gets loaded. But first, we need to call the new method, so add these lines just before the calls to <code>makeBouncer(at:)</code> in <code>didMove(to:)</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token function">makeSlot</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">128</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isGood<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">makeSlot</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">384</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isGood<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">makeSlot</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">640</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isGood<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">makeSlot</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">896</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isGood<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The X positions are exactly between the bouncers, so if you run the game now you&#39;ll see bouncer / slot / bouncer / slot and so on.</p><p>One of the obvious-but-nice things about using methods to create the bouncers and slots is that if we want to change the way slots look we only need to change it in one place. For example, we can make the slot colors look more obvious by adding a glow image behind them:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">makeSlot</span><span class="token punctuation">(</span>at position<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">,</span> isGood<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> slotBase<span class="token punctuation">:</span> <span class="token class-name">SKSpriteNode</span></span>
<span class="line">    <span class="token keyword">var</span> slotGlow<span class="token punctuation">:</span> <span class="token class-name">SKSpriteNode</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> isGood <span class="token punctuation">{</span></span>
<span class="line">        slotBase <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;slotBaseGood&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        slotGlow <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;slotGlowGood&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        slotBase <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;slotBaseBad&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        slotGlow <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;slotGlowBad&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    slotBase<span class="token punctuation">.</span>position <span class="token operator">=</span> position</span>
<span class="line">    slotGlow<span class="token punctuation">.</span>position <span class="token operator">=</span> position</span>
<span class="line"></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>slotBase<span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>slotGlow<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That basically doubles every line of code, changing &quot;Base&quot; to &quot;Glow&quot;, but the end result is quite pleasing and it&#39;s clear now which slots are good and which are bad.</p><p>We could even make the slots spin slowly by using a new class called <code>SKAction</code>. SpriteKit actions are ridiculously powerful and we&#39;re going to do some great things with them in later projects, but for now we just want the glow to rotate very gently.</p><p>Before we look at the code to make this happen, you need to learn a few things up front:</p><ul><li>Angles are specified in radians, not degrees. This is true in UIKit too. 360 degrees is equal to the value of 2 x Pi â€“ that is, the mathematical value Ï€. Therefore Ï€ radians is equal to 180 degrees.</li><li>Rather than have you try to memorize it, there is a built-in value of Ï€ called <code>CGFloat.pi</code>.</li><li>Yes <code>CGFloat</code> is yet another way of representing decimal numbers, just like <code>Double</code> and <code>Float</code>. Behind the scenes, <code>CGFloat</code> can be either a <code>Double</code> or a <code>Float</code> depending on the device your code runs on. Swift also has <code>Double.pi</code> and <code>Float.pi</code> for when you need it at different precisions.</li><li>When you create an action it will execute once. If you want it to run forever, you create another action to wrap the first using the <code>repeatForever()</code> method, then run that.</li></ul><p>Our new code will rotate the node by 180 degrees (available as the constant <code>CGFloat.pi</code> or just <code>.pi</code>) over 10 seconds, repeating forever. Put this code just before the end of the <code>makeSlot(at:)</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> spin <span class="token operator">=</span> <span class="token class-name">SKAction</span><span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>byAngle<span class="token punctuation">:</span> <span class="token punctuation">.</span>pi<span class="token punctuation">,</span> duration<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">let</span> spinForever <span class="token operator">=</span> <span class="token class-name">SKAction</span><span class="token punctuation">.</span><span class="token function">repeatForever</span><span class="token punctuation">(</span>spin<span class="token punctuation">)</span></span>
<span class="line">slotGlow<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>spinForever<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you run the game now, you&#39;ll see that the glow spins around very gently. It&#39;s a simple effect, but it makes a big difference.</p><figure><img src="https://hackingwithswift.com/img/books/hws/11-2@2x.png" alt="With bouncers and slots now in place, this pachinko game is starting to come together." tabindex="0" loading="lazy"><figcaption>With bouncers and slots now in place, this pachinko game is starting to come together.</figcaption></figure>`,16);function b(i,f){const a=o("VPCard"),p=o("VidStack");return d(),c("div",null,[n("h1",h,[n("a",m,[n("span",null,u(i.$frontmatter.title)+" ê´€ë ¨",1)])]),s(a,t(e({title:"Hacking with iOS â€“ learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials â€“ learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),g,w,s(a,t(e({title:"Spinning slots: SKAction | Hacking with iOS",desc:"Spinning slots: SKAction",link:"https://hackingwithswift.com/read/11/04-spinning-slots-skaction",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),s(p,{src:"youtube/7t9Vy529unw"}),v])}const G=l(k,[["render",b],["__file","04-spinning-slots-skaction.html.vue"]]),B=JSON.parse('{"path":"/hackingwithswift.com/read/11/04-spinning-slots-skaction.html","title":"Spinning slots: SKAction","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Spinning slots: SKAction","description":"Article(s) > Spinning slots: SKAction","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Spinning slots: SKAction"},{"property":"og:description","content":"Spinning slots: SKAction"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/11/04-spinning-slots-skaction.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/11/04-spinning-slots-skaction.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Spinning slots: SKAction"}],["meta",{"property":"og:description","content":"Article(s) > Spinning slots: SKAction"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/img/books/hws/11-2@2x.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Spinning slots: SKAction\\",\\"image\\":[\\"https://hackingwithswift.com/img/books/hws/11-2@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":2.67,"words":802},"filePathRelative":"hackingwithswift.com/read/11/04-spinning-slots-skaction.md","excerpt":"\\n"}');export{G as comp,B as data};
