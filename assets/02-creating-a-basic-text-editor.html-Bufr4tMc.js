import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,b as n,t as u,e as a,n as i,g as c,d as t,f as h,r as e,o as k}from"./app-BgNevrm5.js";const m={},b={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},g={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},w=n("nav",{class:"table-of-contents"},[n("ul")],-1),f=n("hr",null,null,-1),v=n("code",null,"Main.storyboard",-1),y=n("em",null,"not",-1),x=n("code",null,"secret",-1),_=n("code",null,"ViewController.swift",-1),C=h(`<p>We need to add the same code we used in project 19 to make the text view adjust its content and scroll insets when the keyboard appears and disappears. This code is identical apart from the outlet is called <code>secret</code> now.</p><p>First, put this into <code>viewDidLoad()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> notificationCenter <span class="token operator">=</span> <span class="token class-name">NotificationCenter</span><span class="token punctuation">.</span><span class="token keyword">default</span></span>
<span class="line">notificationCenter<span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> selector<span class="token punctuation">:</span> <span class="token other-directive property">#selector</span><span class="token punctuation">(</span>adjustForKeyboard<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token class-name">UIResponder</span><span class="token punctuation">.</span>keyboardWillHideNotification<span class="token punctuation">,</span> object<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span></span>
<span class="line">notificationCenter<span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> selector<span class="token punctuation">:</span> <span class="token other-directive property">#selector</span><span class="token punctuation">(</span>adjustForKeyboard<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token class-name">UIResponder</span><span class="token punctuation">.</span>keyboardWillChangeFrameNotification<span class="token punctuation">,</span> object<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As a reminder, that asks iOS to tell us when the keyboard changes or when it hides. As a double reminder: the hide is required because we do a little hack to make the hardware keyboard toggle work correctly ‚Äì see project 19 if you don&#39;t remember why this is needed.</p><p>Here&#39;s the <code>adjustKeyboard()</code> method, which again is identical apart from the outlet name to that seen in project 19:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@objc</span> <span class="token keyword">func</span> <span class="token function-definition function">adjustForKeyboard</span><span class="token punctuation">(</span>notification<span class="token punctuation">:</span> <span class="token class-name">Notification</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">guard</span> <span class="token keyword">let</span> keyboardValue <span class="token operator">=</span> notification<span class="token punctuation">.</span>userInfo<span class="token operator">?</span><span class="token punctuation">[</span><span class="token class-name">UIResponder</span><span class="token punctuation">.</span>keyboardFrameEndUserInfoKey<span class="token punctuation">]</span> <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">NSValue</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> keyboardScreenEndFrame <span class="token operator">=</span> keyboardValue<span class="token punctuation">.</span>cgRectValue</span>
<span class="line">    <span class="token keyword">let</span> keyboardViewEndFrame <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span>keyboardScreenEndFrame<span class="token punctuation">,</span> from<span class="token punctuation">:</span> view<span class="token punctuation">.</span>window<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> notification<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token class-name">UIResponder</span><span class="token punctuation">.</span>keyboardWillHideNotification <span class="token punctuation">{</span></span>
<span class="line">        secret<span class="token punctuation">.</span>contentInset <span class="token operator">=</span> <span class="token punctuation">.</span>zero</span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        secret<span class="token punctuation">.</span>contentInset <span class="token operator">=</span> <span class="token class-name">UIEdgeInsets</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">left</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> keyboardViewEndFrame<span class="token punctuation">.</span>height <span class="token operator">-</span> view<span class="token punctuation">.</span>safeAreaInsets<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> <span class="token keyword">right</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    secret<span class="token punctuation">.</span>scrollIndicatorInsets <span class="token operator">=</span> secret<span class="token punctuation">.</span>contentInset</span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> selectedRange <span class="token operator">=</span> secret<span class="token punctuation">.</span>selectedRange</span>
<span class="line">    secret<span class="token punctuation">.</span><span class="token function">scrollRangeToVisible</span><span class="token punctuation">(</span>selectedRange<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>None of that is new, so you&#39;re probably bored by now. Not to worry: we&#39;re going to fix up our storyboard in preparation for authentication, so re-open Main.storyboard.</p><p>Place a button over the text view, give it the title &quot;Authenticate&quot; and make it 44 points high. For constraints, give it a fixed height constraint, then make it align horizontally and vertically with its superview. Now use the assistant editor to create an action for it called ‚ÄúauthenticateTapped‚Äù.</p><p>Before you leave Interface Builder, you need to do something we haven&#39;t done yet, which is to move views backwards and forwards relative to each other. When the user has authenticated, we need to show the text box while making sure the button is no longer visible, and the easiest way to do that is to place the button behind the text view so that when the text is visible it covers up the button.</p><p>To move the text view to the front, select the Authenticate button in the document outline then drag it <em>above</em> the text view. When you do this the button will disappear on the canvas, but that&#39;s OK ‚Äì it&#39;s still there, and we can still use it.</p><p>The last thing to do is ensure the text view starts life hidden, so select it in Interface Builder, choose the attributes inspector, and check the Hidden box ‚Äì it&#39;s near the bottom, not far below Tag. That&#39;s our layout complete!</p>`,11);function I(p,S){const s=e("VPCard"),l=e("VidStack"),o=e("FontIcon");return k(),d("div",null,[n("h1",b,[n("a",g,[n("span",null,u(p.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),a(s,i(c({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),w,f,a(s,i(c({title:"Creating a basic text editor | Hacking with iOS",desc:"Creating a basic text editor",link:"https://hackingwithswift.com/read/28/2/creating-a-basic-text-editor",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),a(l,{src:"youtube/0lEWz4fBzoA"}),n("p",null,[t("Open "),a(o,{icon:"iconfont icon-xcode"}),v,t(" in Interface Builder, and embed the default view controller inside a navigation controller. Now place a text view inside ("),y,t(" a text field!) so that it fills up most of the space: it should touch the left and right edges of our view, go up to the bottom of the navigation bar, then go down to the bottom of the safe area ‚Äì that‚Äôs where IB will snap to when you drag near the virtual home indicator at the bottom of the view controller. We don‚Äôt need anything special for our Auto Layout constraints, so just go to Editor > Resolve Auto Layout Issues > Add Missing Constraints to place them automatically.")]),n("p",null,[t('Delete the "Lorem ipsum" text in the text view, then use the assistant editor to make an outlet for it called '),x,t(". That's us done with the storyboard for now; switch back to the standard editor and open "),a(o,{icon:"fa-brands fa-swift"}),_,t(".")]),C])}const V=r(m,[["render",I],["__file","02-creating-a-basic-text-editor.html.vue"]]),j=JSON.parse('{"path":"/hackingwithswift.com/read/28/02-creating-a-basic-text-editor.html","title":"Creating a basic text editor","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Creating a basic text editor","description":"Article(s) > Creating a basic text editor","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Creating a basic text editor"},{"property":"og:description","content":"Creating a basic text editor"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/28/02-creating-a-basic-text-editor.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/28/02-creating-a-basic-text-editor.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Creating a basic text editor"}],["meta",{"property":"og:description","content":"Article(s) > Creating a basic text editor"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Creating a basic text editor\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":2.5,"words":749},"filePathRelative":"hackingwithswift.com/read/28/02-creating-a-basic-text-editor.md","excerpt":"\\n"}');export{V as comp,j as data};
