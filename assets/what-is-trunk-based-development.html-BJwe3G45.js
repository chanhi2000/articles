import{_ as u}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,b as e,t as g,e as o,n as i,g as c,w as s,d as t,a as f,f as w,r,o as b}from"./app-BgNevrm5.js";const y={},v={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},_={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},k={class:"table-of-contents"},D=e("hr",null,null,-1),T=w('<p>The <strong>Software Development Lifecycle (SDLC)</strong> is different at every company.</p><p>The version control system used, peer review process, code review process, design review process, how you do CI, automated testing, and manual testing ‚Äì all vary greatly depending on where you work.</p><p>How a company plans, writes, builds, reviews, deploys, and releases software is optimized for their particular use-case, all with their own strengths and drawbacks in mind.</p><p>I started reading about how different big tech companies run their <strong>Software Development Lifecycles (SDLC)</strong> and heard the term <strong>Trunk-Based Development</strong> a few times. This is a practice Google follows and I was curious about how it&#39;s different than the way most other companies develop software.</p><hr><h2 id="two-different-ways-to-do-branching" tabindex="-1"><a class="header-anchor" href="#two-different-ways-to-do-branching"><span>Two Different Ways to Do Branching</span></a></h2><h3 id="release-branching" tabindex="-1"><a class="header-anchor" href="#release-branching"><span>Release Branching</span></a></h3><p>There are two common approaches to enable multiple developers to work on one codebase.</p><p>The first we&#39;ll refer to as the <strong>release branching</strong> method. I&#39;ve also seen it called <strong>feature branching</strong>. But both of these same approaches follow the same general pattern.</p>',9),B=e("code",null,"main",-1),A=e("strong",null,"whole branch",-1),S=e("code",null,"main",-1),x=e("p",null,[t("Here's an overview for how developers use the "),e("strong",null,"Release Branch"),t(" method:")],-1),I=e("figure",null,[e("img",{src:"https://freecodecamp.org/news/content/images/2024/06/ex1.png",alt:"Release Branching development workflow visualised.",tabindex:"0",loading:"lazy"}),e("figcaption",null,[e("strong",null,"Release Branching"),t(" development workflow visualised.")])],-1),W=e("code",null,"main",-1),R=e("strong",null,"release branches",-1),L=e("code",null,"main",-1),j=e("code",null,"main",-1),z=e("strong",null,"release branching",-1),C=e("h3",{id:"trunk-based-development-tbd",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#trunk-based-development-tbd"},[e("span",null,"Trunk Based Development (TBD)")])],-1),E=e("strong",null,"Trunk-Based Development (TBD)",-1),G=e("code",null,"main",-1),O=e("strong",null,"trunk",-1),H=e("p",null,[t("In small teams, they normally don't create a branch and merge the branch into the trunk. They commit "),e("em",null,"directly"),t(" into the trunk without branches.")],-1),M=e("p",null,[t("In a larger team (with checks and approvals necessary for MR's), they use "),e("em",null,"short-lived"),t(" branches. One "),e("strong",null,"release branch"),t(" with 100 commits in TBD would be 10 merge requests with 10 commits each.")],-1),P=e("p",null,"In TBD, their code changes generally don't stay around for more than a few hours. They constantly get merged and integrated with the code everyone else is writing.",-1),V={href:"https://amazon.com/dp/0321601912?tag=contindelive-20",target:"_blank",rel:"noopener noreferrer"},q=e("p",null,"It aims to avoid painful merges that so often occur when it is time to merge long-lived branches that have diverged histories from the trunk, or even merge multiple branches together into one from different teams/developers before merging with the trunk.",-1),N=e("hr",null,null,-1),F=e("h2",{id:"does-tbd-work-at-scale",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#does-tbd-work-at-scale"},[e("span",null,"Does TBD Work at Scale?")])],-1),Y={href:"https://youtu.be/W71BTkUbdqE",target:"_blank",rel:"noopener noreferrer"},J=e("ul",null,[e("li",null,"1 billion files"),e("li",null,"2 billion lines of code"),e("li",null,"86 terabytes of content"),e("li",null,"45,000 commits per workday"),e("li",null,"15 million lines changed in 250,000 files per week")],-1),K=e("p",null,[t("They used TBD in this codebase and it served their use cases very well. As Google is made up of many talented (most importantly, "),e("strong",null,"experienced"),t(") engineers, they rarely break their builds.")],-1),Q={href:"https://freecodecamp.org/news/what-google-taught-me-about-code-reviews/",target:"_blank",rel:"noopener noreferrer"},U=e("p",null,"TBD also works well for Agile methodologies where you have to ship software frequently to get feedback from your consumers/customers. You can continually integrate and get a good snapshot of your current state.",-1),Z=e("p",null,"Let's briefly discuss some TBD strengths.",-1),$=e("h3",{id:"strengths-of-tbd",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#strengths-of-tbd"},[e("span",null,"Strengths of TBD")])],-1),X=e("li",null,"Feedback (whether from code QA, or peer review) comes quickly, as you merge daily. This can stop you from doing the wrong thing for 3 weeks, and then getting feedback that your work isn't correct at the very end, causing you to miss deadlines.",-1),ee=e("li",null,[t("There's a mental benefit to TBD, where developers feel like the trunk is "),e("strong",null,"our"),t(" code, rather than everyone having their own feature branches and thinking this branch is "),e("strong",null,"my"),t(" code. This can foster a more collaborative culture, increasing communication.")],-1),te=e("code",null,"main",-1),oe=e("li",null,"Large projects with lots of work involved are forced to be broken down into smaller deliverables. This is much better for estimating timelines and also for breaking up your code into modular pieces.",-1),ne=e("li",null,"When lots of developers work in isolation on release branches, it can be harder to spot junior developers struggling in their own branch. But if they're expected to be committing their work daily, you can monitor their daily output and assist them when necessary.",-1),ae=e("li",null,"TBD really cleanly ties in with continuous integration. With lots of small, incremental commits to an eventual finished project, you get an always tested, always ### integrated codebase with (minimal) horrible merges.",-1),se=e("h3",{id:"weaknesses-of-tbd",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#weaknesses-of-tbd"},[e("span",null,"Weaknesses of TBD")])],-1),re=e("li",null,"One of the challenges of this approach is that you have an increased chance of breaking the trunk, and stopping lots of people from working. You have to make sure your commits run unit tests along with a good code review process so you don't lose time reverting commits all day.",-1),le=e("code",null,"main",-1),ie=e("li",null,"If you don't have a fast build process, you will spend a long time waiting for things to build while your team constantly commits.",-1),ce=e("li",null,`Often times with TBD you are incrementally adding new code to do something new, but you also need the "old" paths you're replacing to still work. Because of this you need to rely on feature toggles (normally from a database) to turn things on and off. This can add an extra level of complexity with debugging.`,-1),he=e("li",null,"A final challenge can be that, when you have constant commits, you are constantly in a state of churn. You need to make sure your team regularly pulls from the trunk and doesn't end up tripping over one another while merging things.",-1),de=e("hr",null,null,-1),me=e("h2",{id:"how-to-release-software-with-trunk-based-development",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#how-to-release-software-with-trunk-based-development"},[e("span",null,"How to Release Software with Trunk-Based Development")])],-1),ue=e("p",null,"Teams using TBD will typically have a different release process than a team using feature branches.",-1),pe=e("code",null,"main",-1),ge=e("code",null,"main",-1),fe=e("p",null,"Here's an overview of how TBD teams do their releases:",-1),we=e("figure",null,[e("img",{src:"https://freecodecamp.org/news/content/images/size/w600/2024/06/ex2.png",alt:"Overview of TBD process",tabindex:"0",loading:"lazy"}),e("figcaption",null,"Overview of TBD process")],-1),be=e("code",null,"main",-1),ye=e("p",null,'They provide a "snapshot" of your codebase at a stable state, ready for deployment and release.',-1),ve=e("p",null,[t("The only reason the TBD diagram above may need extra details is when something goes wrong with the release of "),e("code",null,"prj-123"),t(". Then we commit the result into the trunk and cherry pick the commits into our release branch to get it in a workable state as soon as possible.")],-1),_e=e("p",null,"Some places, if they are releasing regularly, don't even branch and can just release the trunk whenever it's required. It depends on your company oftentimes.",-1),ke=e("hr",null,null,-1),De=e("h2",{id:"conclusion",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#conclusion"},[e("span",null,"Conclusion")])],-1),Te={href:"https://trunkbaseddevelopment.com/",target:"_blank",rel:"noopener noreferrer"},Be=e("p",null,[t("I hope this has explained what "),e("strong",null,"Trunk Based Development"),t(" is and why it's used. It certainly helps alleviate some of the issues around merging long-lived branches containing major rewrites.")],-1),Ae={href:"https://x.com/kealanparr",target:"_blank",rel:"noopener noreferrer"},Se=e("code",null,"kealanparr",-1);function xe(h,Ie){const l=r("VPCard"),a=r("router-link"),d=r("SiteInfo"),n=r("FontIcon"),m=r("VidStack");return b(),p("div",null,[e("h1",v,[e("a",_,[e("span",null,g(h.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),o(l,i(c({title:"Git > Article(s)",desc:"Article(s)",link:"/programming/git/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),o(l,i(c({title:"Project Management > Article(s)",desc:"Article(s)",link:"/academics/pm/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),e("nav",k,[e("ul",null,[e("li",null,[o(a,{to:"#two-different-ways-to-do-branching"},{default:s(()=>[t("Two Different Ways to Do Branching")]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#release-branching"},{default:s(()=>[t("Release Branching")]),_:1})]),e("li",null,[o(a,{to:"#trunk-based-development-tbd"},{default:s(()=>[t("Trunk Based Development (TBD)")]),_:1})])])]),e("li",null,[o(a,{to:"#does-tbd-work-at-scale"},{default:s(()=>[t("Does TBD Work at Scale?")]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#strengths-of-tbd"},{default:s(()=>[t("Strengths of TBD")]),_:1})]),e("li",null,[o(a,{to:"#weaknesses-of-tbd"},{default:s(()=>[t("Weaknesses of TBD")]),_:1})])])]),e("li",null,[o(a,{to:"#how-to-release-software-with-trunk-based-development"},{default:s(()=>[t("How to Release Software with Trunk-Based Development")]),_:1})]),e("li",null,[o(a,{to:"#conclusion"},{default:s(()=>[t("Conclusion")]),_:1})])])]),D,o(d,{name:"What is Trunk Based Development? A Different Approach to the Software Development Lifecycle",desc:"The Software Development Lifecycle (SDLC) is different at every company. The version control system used, peer review process, code review process, design review process, how you do CI, automated testing, and manual testing ‚Äì all vary greatly depending on where you work. How a company plans, writes, builds, reviews, deploys...",url:"https://freecodecamp.org/news/what-is-trunk-based-development/",logo:"https://cdn.freecodecamp.org/universal/favicons/favicon.ico",preview:"https://freecodecamp.org/news/content/images/size/w2000/2021/01/Trunk-based-development.png"}),T,e("p",null,[t("Usually via Git, developers all clone the codebase (so they all have identical copies on their machines). Then they make a new feature/release branch based on "),o(n,{icon:"fas fa-code-branch"}),B,t(", and merge as the work is completed. The emphasis here is that they only merge once, at the end, when all the work is complete ‚Äì and they merge the "),A,t(" into "),o(n,{icon:"fas fa-code-branch"}),S,t(".")]),x,I,e("p",null,[t("The white dots represent commits, and the bottom solid black line is "),o(n,{icon:"fas fa-code-branch"}),W,t(". This is a very simple example, as "),R,t(" often end up with far more commits than I've shown in the diagram (sometimes hundreds).")]),e("p",null,[t("Developers branch off "),o(n,{icon:"fas fa-code-branch"}),L,t(", make their changes, and then when it's complete/has passed code QA, it gets merged back into "),o(n,{icon:"fas fa-code-branch"}),j,t(". That's "),z,t(".")]),C,e("p",null,[E,t(" is the second approach. Here, each developer splits the work they will do into small batches and merge into "),o(n,{icon:"fas fa-code-branch"}),G,t(" (which is often referred to as the "),O,t(") multiple times.")]),H,M,P,e("p",null,[t("Jez Humble is a Site Reliability Engineer at Google, and author of"),e("a",V,[o(n,{icon:"fa-brands fa-amazon"}),t("Continuous Delivery")]),t(', who says "branching is not the problem, merging is the problem" ‚Äì which is exactly what TBD tries to solve.')]),q,N,F,e("p",null,[t("In a "),e("a",Y,[o(n,{icon:"fa-brands fa-youtube"}),t("Google talk")]),t(", Rachel Potvin, who's an Engineering Manager at Google, described one codebase that has (as of Jan 2015):")]),o(m,{src:"youtube/W71BTkUbdqE"}),J,K,e("p",null,[t("Google also has a very thorough, strict code QA process (read about it "),e("a",Q,[o(n,{icon:"fa-brands fa-free-code-camp"}),t("here")]),t(") which, when using TBD, allows for fast, efficient software delivery. "),f(" TODO: ÏûëÏÑ± (/freecodecamp.org/what-google-taught-me-about-code-reviews.md) ")]),U,Z,$,e("ul",null,[X,ee,e("li",null,[t(`It results in early integration with all the other in-flight projects/tickets and helps you promote code re-use. It's much harder to "use code" that isn't merged into `),o(n,{icon:"fas fa-code-branch"}),te,t(" and you don't know when will be complete. It also stops merge hell when your 9 month old release branch needs to be merged back into the trunk.")]),oe,ne,ae]),se,e("ul",null,[re,e("li",null,[t("Your commit history into "),o(n,{icon:"fas fa-code-branch"}),le,t(" will likely be more verbose and it can be harder to see if something is wrong. If you are called at 3 AM and asked to fix a bug on your prod site with some dodgy commits that went on during business hours, would you prefer a day with 1 commit or 200 commits?")]),ie,ce,he]),de,me,ue,e("p",null,[t("Generally, if you use release branches, you release "),o(n,{icon:"fas fa-code-branch"}),pe,t(" whenever you have something that gets merged in (tickets, completed projects, and so on). Or some teams release "),o(n,{icon:"fas fa-code-branch"}),ge,t(" on a schedule, like once every week.")]),fe,we,e("p",null,[t("In TBD, branching is used for releases to allow everyone to keep committing into "),o(n,{icon:"fas fa-code-branch"}),be,t(".")]),ye,ve,_e,ke,De,e("p",null,[t("There is a whole site based on the theory and practice of TBD. Feel free to read more "),e("a",Te,[o(n,{icon:"fas fa-globe"}),t("here")]),t(".")]),Be,e("p",null,[t("I share my writing on "),e("a",Ae,[t("Twitter ("),o(n,{icon:"fa-brands fa-x-twitter"}),Se,t(")")]),t("if you enjoyed this article and want to see more.")])])}const Le=u(y,[["render",xe],["__file","what-is-trunk-based-development.html.vue"]]),je=JSON.parse('{"path":"/freecodecamp.org/what-is-trunk-based-development.html","title":"What is Trunk Based Development? A Different Approach to the Software Development Lifecycle","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"What is Trunk Based Development? A Different Approach to the Software Development Lifecycle","description":"Article(s) > What is Trunk Based Development? A Different Approach to the Software Development Lifecycle","icon":"iconfont icon-git","category":["Git","Project Management","Article(s)"],"tag":["blog","freecodecamp.org","git","project-management","pm"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > What is Trunk Based Development? A Different Approach to the Software Development Lifecycle"},{"property":"og:description","content":"What is Trunk Based Development? A Different Approach to the Software Development Lifecycle"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/freecodecamp.org/what-is-trunk-based-development.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/freecodecamp.org/what-is-trunk-based-development.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"What is Trunk Based Development? A Different Approach to the Software Development Lifecycle"}],["meta",{"property":"og:description","content":"Article(s) > What is Trunk Based Development? A Different Approach to the Software Development Lifecycle"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://freecodecamp.org/news/content/images/size/w2000/2021/01/Trunk-based-development.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://freecodecamp.org/news/content/images/size/w2000/2021/01/Trunk-based-development.png"}],["meta",{"name":"twitter:image:alt","content":"What is Trunk Based Development? A Different Approach to the Software Development Lifecycle"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"freecodecamp.org"}],["meta",{"property":"article:tag","content":"git"}],["meta",{"property":"article:tag","content":"project-management"}],["meta",{"property":"article:tag","content":"pm"}],["meta",{"property":"article:published_time","content":"2024-06-18T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"What is Trunk Based Development? A Different Approach to the Software Development Lifecycle\\",\\"image\\":[\\"https://freecodecamp.org/news/content/images/2024/06/ex1.png\\",\\"https://freecodecamp.org/news/content/images/size/w600/2024/06/ex2.png\\"],\\"datePublished\\":\\"2024-06-18T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"prev":"/programming/git/articles/README.md","date":"2024-06-18T00:00:00.000Z","isOriginal":false,"cover":"https://freecodecamp.org/news/content/images/size/w2000/2021/01/Trunk-based-development.png"},"headers":[{"level":2,"title":"Two Different Ways to Do Branching","slug":"two-different-ways-to-do-branching","link":"#two-different-ways-to-do-branching","children":[{"level":3,"title":"Release Branching","slug":"release-branching","link":"#release-branching","children":[]},{"level":3,"title":"Trunk Based Development (TBD)","slug":"trunk-based-development-tbd","link":"#trunk-based-development-tbd","children":[]}]},{"level":2,"title":"Does TBD Work at Scale?","slug":"does-tbd-work-at-scale","link":"#does-tbd-work-at-scale","children":[{"level":3,"title":"Strengths of TBD","slug":"strengths-of-tbd","link":"#strengths-of-tbd","children":[]},{"level":3,"title":"Weaknesses of TBD","slug":"weaknesses-of-tbd","link":"#weaknesses-of-tbd","children":[]}]},{"level":2,"title":"How to Release Software with Trunk-Based Development","slug":"how-to-release-software-with-trunk-based-development","link":"#how-to-release-software-with-trunk-based-development","children":[]},{"level":2,"title":"Conclusion","slug":"conclusion","link":"#conclusion","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":3}]},"readingTime":{"minutes":6,"words":1801},"filePathRelative":"freecodecamp.org/what-is-trunk-based-development.md","localizedDate":"2024ÎÖÑ 6Ïõî 18Ïùº","excerpt":"\\n"}');export{Le as comp,je as data};
