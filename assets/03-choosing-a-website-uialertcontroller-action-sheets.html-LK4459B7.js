import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,b as t,t as r,e as n,n as s,g as a,f as u,r as o,o as d}from"./app-BgNevrm5.js";const h={},k={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},g={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},m=t("nav",{class:"table-of-contents"},[t("ul")],-1),w=t("hr",null,null,-1),b=u(`<p>We&#39;re going to lock this app down so that it opens websites selected by the user. The first step to doing this is to give the user the option to choose from one of our selected websites, and that means adding a button to the navigation bar.</p><p>Somewhere in <code>viewDidLoad()</code> (but always after it has called <code>super.viewDidLoad()</code>), add this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">navigationItem<span class="token punctuation">.</span>rightBarButtonItem <span class="token operator">=</span> <span class="token class-name">UIBarButtonItem</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Open&quot;</span></span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>plain<span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token other-directive property">#selector</span><span class="token punctuation">(</span>openTapped<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We did exactly this in the previous project, except here we&#39;re using a custom title for our bar button rather than a system icon. Itâ€™s going to call the <code>openTapped()</code> method when the button is tapped, so let&#39;s add that now. Put this method below <code>viewDidLoad()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@objc</span> <span class="token keyword">func</span> <span class="token function-definition function">openTapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> ac <span class="token operator">=</span> <span class="token class-name">UIAlertController</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Open pageâ€¦&quot;</span></span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">,</span> preferredStyle<span class="token punctuation">:</span> <span class="token punctuation">.</span>actionSheet<span class="token punctuation">)</span></span>
<span class="line">    ac<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;apple.com&quot;</span></span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> openPage<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    ac<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;hackingwithswift.com&quot;</span></span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> openPage<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    ac<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Cancel&quot;</span></span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>cancel<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    ac<span class="token punctuation">.</span>popoverPresentationController<span class="token operator">?</span><span class="token punctuation">.</span>barButtonItem <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>rightBarButtonItem</span>
<span class="line">    <span class="token function">present</span><span class="token punctuation">(</span>ac<span class="token punctuation">,</span> animated<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We havenâ€™t written the <code>openPage()</code> method yet, so ignore any warnings you see about it for the time being. Just like in project 3 weâ€™re calling <code>openTapped()</code> from Appleâ€™s own Objective-C code in <code>UIBarButtonItem</code>, so the method must be marked <code>@objc</code>.</p><p>Just like in project 3, setting the alert controllerâ€™s <code>popoverPresentationController?.barButtonItem</code> property is used only on iPad, and tells iOS where it should make the action sheet be anchored.</p><p>We used the <code>UIAlertController</code> class in project 2, but here it&#39;s slightly different for three reason:</p><ol><li>We&#39;re using <code>nil</code> for the message, because this alert doesn&#39;t need one.</li><li>We&#39;re using the <code>preferredStyle</code> of <code>.actionSheet</code> because we&#39;re prompting the user for more information.</li><li>We&#39;re adding a dedicated Cancel button using style <code>.cancel</code>. It doesnâ€™t provide a <code>handler</code> parameter, which means iOS will just dismiss the alert controller if itâ€™s tapped.</li></ol><p>Both our website buttons point to the <code>openPage()</code> method, which, again, doesn&#39;t exist yet. This is going to be very similar to how we loaded the web page before, but now you will at least see why the handler method of <code>UIAlertAction</code> takes a parameter telling you which action was selected!</p><p>Add this method directly beneath the <code>openTapped()</code> method you just made:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">openPage</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token class-name">UIAlertAction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;https://&quot;</span></span> <span class="token operator">+</span> action<span class="token punctuation">.</span>title<span class="token operator">!</span><span class="token punctuation">)</span><span class="token operator">!</span></span>
<span class="line">    webView<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">URLRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> url<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This method takes one parameter, which is the <code>UIAlertAction</code> object that was selected by the user. Obviously it won&#39;t be called if Cancel was tapped, because that had a <code>nil</code> handler rather than <code>openPage</code>.</p><p>What the method does is use the <code>title</code> property of the action (apple.com, hackingwithswift.com), put &quot;https://&quot; in front of it to satisfy App Transport Security, then construct a <code>URL</code> out of it. It then wraps that inside an <code>URLRequest</code>, and gives it to the web view to load. All you need to do is make sure the websites in the <code>UIAlertController</code> are correct, and this method will load anything.</p><p>You can go ahead and test the app now, but there&#39;s one small change we can add to make the whole experience more pleasant: setting the title in the navigation bar. Now, we are the web view&#39;s navigation delegate, which means we will be told when any interesting navigation happens, such as when the web page has finished loading. We&#39;re going to use this to set the navigation bar title.</p><p>As soon as we told Swift that our <code>ViewController</code> class conformed to the <code>WKNavigationDelegate</code> protocol, Xcode updated its code completion system to support all the <code>WKNavigationDelegate</code> methods that can be called. As a result, if you go below the <code>openPage()</code> method and start typing &quot;web&quot; you&#39;ll see a list of all the <code>WKNavigationDelegate</code> methods we can use.</p><p>Scroll through the list of options until you see <code>didFinish</code> and press return to have Xcode fill in the method for you. Now modify it to this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">webView</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> webView<span class="token punctuation">:</span> <span class="token class-name">WKWebView</span><span class="token punctuation">,</span> didFinish navigation<span class="token punctuation">:</span> <span class="token class-name">WKNavigation</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    title <span class="token operator">=</span> webView<span class="token punctuation">.</span>title</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>All this method does is update our view controller&#39;s <code>title</code> property to be the title of the web view, which will automatically be set to the page title of the web page that was most recently loaded.</p><p>Press <kbd>Cmd</kbd>+<kbd>R</kbd> now to run the app, and you&#39;ll see things are starting to come together: your initial web page will load, and when the load finishes you&#39;ll see its page title in the navigation bar.</p><figure><img src="https://hackingwithswift.com/img/books/hws/4-2@2x.png" alt="Using a UIAlertController is an easy way to let users choose which website to visit." tabindex="0" loading="lazy"><figcaption>Using a UIAlertController is an easy way to let users choose which website to visit.</figcaption></figure>`,21);function f(i,v){const e=o("VPCard"),p=o("VidStack");return d(),l("div",null,[t("h1",k,[t("a",g,[t("span",null,r(i.$frontmatter.title)+" ê´€ë ¨",1)])]),n(e,s(a({title:"Hacking with iOS â€“ learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials â€“ learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),m,w,n(e,s(a({title:"Choosing a website: UIAlertController action sheets | Hacking with iOS",desc:"Choosing a website: UIAlertController action sheets",link:"https://hackingwithswift.com/read/4/3/choosing-a-website-uialertcontroller-action-sheets",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),n(p,{src:"youtube/LkqYPTSk3aQ"}),b])}const C=c(h,[["render",f],["__file","03-choosing-a-website-uialertcontroller-action-sheets.html.vue"]]),I=JSON.parse('{"path":"/hackingwithswift.com/read/04/03-choosing-a-website-uialertcontroller-action-sheets.html","title":"Choosing a website: UIAlertController action sheets","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Choosing a website: UIAlertController action sheets","description":"Article(s) > Choosing a website: UIAlertController action sheets","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Choosing a website: UIAlertController action sheets"},{"property":"og:description","content":"Choosing a website: UIAlertController action sheets"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/04/03-choosing-a-website-uialertcontroller-action-sheets.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/04/03-choosing-a-website-uialertcontroller-action-sheets.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Choosing a website: UIAlertController action sheets"}],["meta",{"property":"og:description","content":"Article(s) > Choosing a website: UIAlertController action sheets"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/img/books/hws/4-2@2x.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Choosing a website: UIAlertController action sheets\\",\\"image\\":[\\"https://hackingwithswift.com/img/books/hws/4-2@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":3.1,"words":929},"filePathRelative":"hackingwithswift.com/read/04/03-choosing-a-website-uialertcontroller-action-sheets.md","excerpt":"\\n"}');export{C as comp,I as data};
