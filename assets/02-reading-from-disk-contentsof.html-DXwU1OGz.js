import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,b as n,t as u,e as s,n as i,g as c,d as e,f as h,r as a,o as k}from"./app-BgNevrm5.js";const m={},f={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},g={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},w=n("nav",{class:"table-of-contents"},[n("ul")],-1),y=n("hr",null,null,-1),b=n("p",null,[e("We're going to make an anagram game, where the user is asked to make words out of a larger word. We're going to put together a list of possible starter words for the game, and that list will be stored in a separate file. But how do we get the text from the file into the app? Well, it turns out that Swift's "),n("code",null,"String"),e(" data type makes it a cinch ‚Äì thanks, Apple!")],-1),v={href:"https://github.com/twostraws/HackingWithSwift",target:"_blank",rel:"noopener noreferrer"},_=n("code",null,"twostraws/HackingWithSwift",-1),x=n("p",null,[e("The start.txt file contains over 12,000 eight-letter words we can use for our game, all stored one word per line. We need to turn that into an array of words we can play with. Behind the scenes, those line breaks are marked with a special line break character that is usually expressed as "),n("code",null,"\\n"),e(". So, we need to load that word list into a string, then split it into an array by breaking up wherever we see "),n("code",null,"\\n"),e(".")],-1),S=n("p",null,"First, go to the start of your class and make two new arrays. We‚Äôre going to use the first one to hold all the words in the input file, and the second one will hold all the words the player has currently used in the game.",-1),R=n("code",null,"ViewController.swift",-1),W=h(`<div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> allWords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">var</span> usedWords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Second, loading our array. This is done in three parts: finding the path to our start.txt file, loading the contents of that file, then splitting it into an array.</p><p>Finding a path to a file is something you&#39;ll do a lot, because even though you know the file is called &quot;start.txt&quot; you don&#39;t know where it might be on the filesystem. So, we use a built-in method of <code>Bundle</code> to find it: <code>path(forResource:)</code>. This takes as its parameters the name of the file and its path extension, and returns a <code>String?</code> ‚Äì i.e., you either get the path back or you get <code>nil</code> if it didn‚Äôt exist.</p><p>Loading a file into a string is also something you&#39;ll need to get familiar with, and again there&#39;s an easy way to do it: when you create a <code>String</code> instance, you can ask it to create itself from the contents of a file at a particular path.</p><p>Finally, we need to split our single string into an array of strings based on wherever we find a line break (<code>\\n</code>). This is as simple as another method call on <code>String</code>: <code>components(separatedBy:)</code>. Tell it what string you want to use as a separator (for us, that&#39;s <code>\\n</code>), and you&#39;ll get back an array.</p><p>Before we get onto the code, there are two things you should know: <code>path(forResource:)</code> and creating a <code>String</code> from the contents of a file both return <code>String?</code>, which means we need to check and unwrap the optional using <code>if let</code> syntax.</p><p>OK, time for some code. Put this into <code>viewDidLoad()</code>, after the <code>super</code> call:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token keyword">let</span> startWordsURL <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>forResource<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;start&quot;</span></span><span class="token punctuation">,</span> withExtension<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;txt&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">let</span> startWords <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token class-name">String</span><span class="token punctuation">(</span>contentsOf<span class="token punctuation">:</span> startWordsURL<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        allWords <span class="token operator">=</span> startWords<span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span>separatedBy<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;\\n&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> allWords<span class="token punctuation">.</span>isEmpty <span class="token punctuation">{</span></span>
<span class="line">    allWords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;silkworm&quot;</span></span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you look carefully, there&#39;s a new keyword in there: <code>try?</code>. You already saw <code>try!</code> previously, and really we could use that here too because we&#39;re loading a file from our app&#39;s bundle so any failure is likely to be catastrophic. However, this way I have a chance to teach you something new: <code>try?</code> means &quot;call this code, and if it throws an error just send me back <code>nil</code> instead.&quot; This means the code you call will always work, but you need to unwrap the result carefully.</p><p>I also added in a new and useful property of arrays: <code>isEmpty</code>. This returns true if the array is empty, and is effectively equal to writing <code>allWords.count == 0</code>. The reason we use <code>isEmpty</code> is because some collection types, such as string, have to calculate their size by counting over all the elements they contain, so reading <code>count == 0</code> can be significantly slower than using <code>isEmpty</code>.</p><p>As you can see, that code carefully checks for and unwraps the contents of our start file, then converts it to an array. When it has finished, <code>allWords</code> will contain 12,000+ strings ready for us to use in our game.</p><p>To prove that everything is working before we continue, let&#39;s create a new method called <code>startGame()</code>. This will be called every time we want to generate a new word for the player to work with, and it will use the <code>randomElement()</code> method of Swift‚Äôs arrays to choose one random item from all the strings.</p><p>Here‚Äôs the code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">startGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    title <span class="token operator">=</span> allWords<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    usedWords<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>keepingCapacity<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line">    tableView<span class="token punctuation">.</span><span class="token function">reloadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Line 1 sets our view controller&#39;s title to be a random word in the array, which will be the word the player has to find.</p><p>Line 2 removes all values from the <code>usedWords</code> array, which we&#39;ll be using to store the player&#39;s answers so far. We aren&#39;t adding anything to it right now, so <code>removeAll()</code> won&#39;t do anything just yet.</p><p>Line 3 is the interesting part: it calls the <code>reloadData()</code> method of <code>tableView</code>. That table view is given to us as a property because our <code>ViewController</code> class comes from <code>UITableViewController</code>, and calling <code>reloadData()</code> forces it to call <code>numberOfRowsInSection</code> again, as well as calling <code>cellForRowAt</code> repeatedly. Our table view doesn&#39;t have any rows yet, so this won&#39;t do anything for a few moments. However, the method is ready to be used, and allows us to check we&#39;ve loaded all the data correctly, so add this just before the end of <code>viewDidLoad()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token function">startGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now press <kbd>Cmd</kbd>+<kbd>R</kbd> to run the app, and you ought to see an eight-letter word at the top, ready for play to begin.</p><figure><img src="https://hackingwithswift.com/img/books/hws/5-1@2x.png" alt="Our game so far is less than impressive, but trust me: it&#39;s all going to come together shortly!" tabindex="0" loading="lazy"><figcaption>Our game so far is less than impressive, but trust me: it&#39;s all going to come together shortly!</figcaption></figure><p>Before we‚Äôre done, we need to add a few methods to handle the table view data: <code>numberOfRowsInSection</code> and <code>cellForRowAt</code>. These are identical to the implementations in project 1, except now we‚Äôre drawing on the <code>usedWords</code> array and the ‚ÄúWord‚Äù cell identifier. Add these two methods now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">tableView</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> tableView<span class="token punctuation">:</span> <span class="token class-name">UITableView</span><span class="token punctuation">,</span> numberOfRowsInSection section<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> usedWords<span class="token punctuation">.</span>count</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">tableView</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> tableView<span class="token punctuation">:</span> <span class="token class-name">UITableView</span><span class="token punctuation">,</span> cellForRowAt indexPath<span class="token punctuation">:</span> <span class="token class-name">IndexPath</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">UITableViewCell</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> cell <span class="token operator">=</span> tableView<span class="token punctuation">.</span><span class="token function">dequeueReusableCell</span><span class="token punctuation">(</span>withIdentifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Word&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">for</span><span class="token punctuation">:</span> indexPath<span class="token punctuation">)</span></span>
<span class="line">    cell<span class="token punctuation">.</span>textLabel<span class="token operator">?</span><span class="token punctuation">.</span>text <span class="token operator">=</span> usedWords<span class="token punctuation">[</span>indexPath<span class="token punctuation">.</span>row<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">return</span> cell</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>They won‚Äôt have any effect just yet because the <code>usedWords</code> array never changes, but at least the foundation is in place now.</p>`,23);function O(l,V){const t=a("VPCard"),r=a("VidStack"),o=a("FontIcon");return k(),d("div",null,[n("h1",f,[n("a",g,[n("span",null,u(l.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),s(t,i(c({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),w,y,s(t,i(c({title:"Reading from disk: contentsOf | Hacking with iOS",desc:"Reading from disk: contentsOf",link:"https://hackingwithswift.com/read/5/2/reading-from-disk-contentsof",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),s(r,{src:"youtube/bOURBKBRR3A"}),b,n("p",null,[e("If you haven't already downloaded the assets for this project from "),n("a",v,[e("GitHub ("),s(o,{icon:"iconfont icon-github"}),_,e(")")]),e(`, please do so now. In the project5-files folder you'll find the file start.txt ‚Äì please drag that into your Xcode project, making sure that "Copy items if needed" is checked.`)]),x,S,n("p",null,[e("So, open "),s(o,{icon:"fa-brands fa-swift"}),R,e(" and add these two properties:")]),W])}const q=p(m,[["render",O],["__file","02-reading-from-disk-contentsof.html.vue"]]),A=JSON.parse('{"path":"/hackingwithswift.com/read/05/02-reading-from-disk-contentsof.html","title":"Reading from disk: contentsOf","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Reading from disk: contentsOf","description":"Article(s) > Reading from disk: contentsOf","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Reading from disk: contentsOf"},{"property":"og:description","content":"Reading from disk: contentsOf"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/05/02-reading-from-disk-contentsof.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/05/02-reading-from-disk-contentsof.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Reading from disk: contentsOf"}],["meta",{"property":"og:description","content":"Article(s) > Reading from disk: contentsOf"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/img/books/hws/5-1@2x.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Reading from disk: contentsOf\\",\\"image\\":[\\"https://hackingwithswift.com/img/books/hws/5-1@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":4.36,"words":1307},"filePathRelative":"hackingwithswift.com/read/05/02-reading-from-disk-contentsof.md","excerpt":"\\n"}');export{q as comp,A as data};
