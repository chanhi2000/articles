import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,b as n,t as h,e as a,n as v,g as m,w as e,d as s,f as o,r as i,o as b}from"./app-BgNevrm5.js";const y={},f={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},C={class:"table-of-contents"},_=n("hr",null,null,-1),T=o('<p>Cross-cutting concerns are software aspects that affect the entire application. These are your common application-level functionalities that span several layers and tiers. Cross-cutting concerns should be centralized in one location. This prevents code duplication and tight coupling between components.</p><p>A few examples of cross-cutting concerns are:</p><ul><li>Authentication &amp; Authorization</li><li>Logging and tracing</li><li>Exception handling</li><li>Validation</li><li>Caching</li></ul><p>In today&#39;s newsletter, I&#39;ll show you how to integrate cross-cutting concerns in Clean Architecture.</p><hr><h2 id="cross-cutting-concerns-in-clean-architecture" tabindex="-1"><a class="header-anchor" href="#cross-cutting-concerns-in-clean-architecture"><span>Cross-Cutting Concerns in Clean Architecture</span></a></h2>',6),R={href:"https://en.wikipedia.org/wiki/Cross-cutting_concern",target:"_blank",rel:"noopener noreferrer"},q=n("figure",null,[n("img",{src:"https://milanjovanovic.tech/blogs/mnw_073/clean_architecture_cross_cutting_concerns.png?imwidth=3840",alt:"Cross-cutting concerns in Clean Architecture",tabindex:"0",loading:"lazy"}),n("figcaption",null,"Cross-cutting concerns in Clean Architecture")],-1),x=n("p",null,"Let's see how to implement logging, validation, and caching as cross-cutting concerns.",-1),I=n("hr",null,null,-1),A=n("h2",{id:"cross-cutting-concern-1-logging",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#cross-cutting-concern-1-logging"},[n("span",null,"Cross-Cutting Concern #1 - Logging")])],-1),j=n("p",null,"Logging is a fundamental aspect of software development, allowing you to look into an application's behavior. It's vital for debugging, monitoring application health, and tracking user activities and system anomalies. In the context of Clean Architecture, logging must be implemented in a way that maintains the separation of concerns.",-1),B=n("code",null,"IPipelineBehavior",-1),E=o(`<div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token keyword">using</span> <span class="token namespace">Serilog<span class="token punctuation">.</span>Context</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">internal</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token generic-method"><span class="token function">RequestLoggingPipelineBehavior</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">ILogger<span class="token punctuation">&lt;</span>RequestLoggingPipelineBehavior<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> logger<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">:</span> IPipelineBehavior<span class="token operator">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token keyword">where</span> <span class="token class-name">TRequest</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token keyword">class</span></span></span>
<span class="line">    <span class="token keyword">where</span> <span class="token class-name">TResponse</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Result</span></span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> <span class="token function">Handle</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token class-name">TRequest</span> request<span class="token punctuation">,</span></span>
<span class="line">        <span class="token class-name">RequestHandlerDelegate<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> next<span class="token punctuation">,</span></span>
<span class="line">        <span class="token class-name">CancellationToken</span> cancellationToken<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name"><span class="token keyword">string</span></span> requestName <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">TRequest</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;Processing request {RequestName}&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            requestName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">TResponse</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>IsSuccess<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span></span>
<span class="line">                <span class="token string">&quot;Completed request {RequestName}&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                requestName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">else</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">using</span> <span class="token punctuation">(</span>LogContext<span class="token punctuation">.</span><span class="token function">PushProperty</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>Error<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                logger<span class="token punctuation">.</span><span class="token function">LogError</span><span class="token punctuation">(</span></span>
<span class="line">                    <span class="token string">&quot;Completed request {RequestName} with error&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                    requestName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">return</span> result<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="cross-cutting-concern-2-validation" tabindex="-1"><a class="header-anchor" href="#cross-cutting-concern-2-validation"><span>Cross-Cutting Concern #2 - Validation</span></a></h2><p>Validation is a critical cross-cutting concern in software engineering. It serves as the first line of defense against incorrect data entering your system. Validation guards the application against inconsistent data states and potential security vulnerabilities.</p>`,4),N=o(`<p>In approaching validation, it&#39;s crucial to distinguish between two types:</p><ul><li>Input validation</li><li>Business rule validation</li></ul><p>Input validation checks for the correctness and format of the data (like string length, number ranges, and date formats), ensuring it meets the basic criteria before processing.</p><p>On the other hand, business rule validation is more about ensuring that the data adheres to your domain&#39;s specific rules and logic.</p><p>Effective validation practices significantly contribute to the resilience and reliability of an application. By enforcing validation rules, you can maintain a high data quality standard and ensure a better user experience.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token keyword">internal</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token generic-method"><span class="token function">ValidationPipelineBehavior</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>IValidator<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> validators<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">:</span> IPipelineBehavior<span class="token operator">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token keyword">where</span> <span class="token class-name">TRequest</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token keyword">class</span></span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> <span class="token function">Handle</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token class-name">TRequest</span> request<span class="token punctuation">,</span></span>
<span class="line">        <span class="token class-name">RequestHandlerDelegate<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> next<span class="token punctuation">,</span></span>
<span class="line">        <span class="token class-name">CancellationToken</span> cancellationToken<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">ValidationFailure<span class="token punctuation">[</span><span class="token punctuation">]</span></span> validationFailures <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">ValidateAsync</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>validationFailures<span class="token punctuation">.</span>Length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValidationException</span><span class="token punctuation">(</span>validationFailures<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ValidationFailure<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&gt;</span></span> <span class="token function">ValidateAsync</span><span class="token punctuation">(</span><span class="token class-name">TRequest</span> request<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>validators<span class="token punctuation">.</span><span class="token function">Any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValidationContext<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">ValidationResult<span class="token punctuation">[</span><span class="token punctuation">]</span></span> validationResults <span class="token operator">=</span> <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">WhenAll</span><span class="token punctuation">(</span></span>
<span class="line">            validators<span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>validator <span class="token operator">=&gt;</span> validator<span class="token punctuation">.</span><span class="token function">ValidateAsync</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">ValidationFailure<span class="token punctuation">[</span><span class="token punctuation">]</span></span> validationFailures <span class="token operator">=</span> validationResults</span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>validationResult <span class="token operator">=&gt;</span> <span class="token operator">!</span>validationResult<span class="token punctuation">.</span>IsValid<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">SelectMany</span><span class="token punctuation">(</span>validationResult <span class="token operator">=&gt;</span> validationResult<span class="token punctuation">.</span>Errors<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">return</span> validationFailures<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="cross-cutting-concern-3-caching" tabindex="-1"><a class="header-anchor" href="#cross-cutting-concern-3-caching"><span>Cross-Cutting Concern #3: Caching</span></a></h2><p>Caching is an essential cross-cutting concern in software development. It&#39;s primarily aimed at enhancing performance and scalability. Caching involves temporarily storing data in a fast-access layer. This reduces the need to fetch or calculate the same information repeatedly.</p>`,9),V={href:"https://learn.microsoft.com/en-us/azure/architecture/patterns/cache-aside",target:"_blank",rel:"noopener noreferrer"},L={href:"https://youtu.be/LOEYZRE72wE",target:"_blank",rel:"noopener noreferrer"},P=o(`<p>When implementing caching, it&#39;s crucial to consider:</p><ul><li><strong>What to Cache:</strong> Identify data that is expensive to compute or retrieve and stable enough to be cached.</li><li><strong>Cache Invalidations:</strong> Determine when and how cached data should be invalidated.</li><li><strong>Cache Configuration:</strong> Configure cache settings like expiration and size appropriately.</li></ul><p>Effective caching improves response times and reduces the load on your system, making it a critical strategy for building scalable .NET applications.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token keyword">internal</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token generic-method"><span class="token function">QueryCachingPipelineBehavior</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">ICacheService</span> cacheService<span class="token punctuation">,</span></span>
<span class="line">    <span class="token class-name">ILogger<span class="token punctuation">&lt;</span>QueryCachingPipelineBehavior<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> logger<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">:</span> IPipelineBehavior<span class="token operator">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token keyword">where</span> <span class="token class-name">TRequest</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ICachedQuery</span></span></span>
<span class="line">    <span class="token keyword">where</span> <span class="token class-name">TResponse</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Result</span></span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> <span class="token function">Handle</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token class-name">TRequest</span> request<span class="token punctuation">,</span></span>
<span class="line">        <span class="token class-name">RequestHandlerDelegate<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> next<span class="token punctuation">,</span></span>
<span class="line">        <span class="token class-name">CancellationToken</span> cancellationToken<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">TResponse<span class="token punctuation">?</span></span> cachedResult <span class="token operator">=</span> <span class="token keyword">await</span> cacheService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span></span>
<span class="line">            request<span class="token punctuation">.</span>CacheKey<span class="token punctuation">,</span></span>
<span class="line">            cancellationToken<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name"><span class="token keyword">string</span></span> requestName <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">TRequest</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>cachedResult <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token string">&quot;Cache hit for {RequestName}&quot;</span><span class="token punctuation">,</span> requestName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">return</span> cachedResult<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token string">&quot;Cache miss for {RequestName}&quot;</span><span class="token punctuation">,</span> requestName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">TResponse</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>IsSuccess<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">await</span> cacheService<span class="token punctuation">.</span><span class="token function">SetAsync</span><span class="token punctuation">(</span></span>
<span class="line">                request<span class="token punctuation">.</span>CacheKey<span class="token punctuation">,</span></span>
<span class="line">                result<span class="token punctuation">,</span></span>
<span class="line">                request<span class="token punctuation">.</span>Expiration<span class="token punctuation">,</span></span>
<span class="line">                cancellationToken<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">return</span> result<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="what-to-do-next" tabindex="-1"><a class="header-anchor" href="#what-to-do-next"><span>What To Do Next</span></a></h2>`,6),S=n("p",null,"Remember, the beauty of software development lies in the continuous evolution and relentless pursuit of improvement.",-1),D=n("p",null,"Hope this was helpful.",-1),M=n("p",null,"See you next week.",-1);function F(p,z){const r=i("VPCard"),c=i("router-link"),u=i("SiteInfo"),l=i("FontIcon"),t=i("RouteLink"),d=i("VidStack");return b(),g("div",null,[n("h1",f,[n("a",w,[n("span",null,h(p.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),a(r,v(m({title:"C# > Article(s)",desc:"Article(s)",link:"/programming/cs/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",C,[n("ul",null,[n("li",null,[a(c,{to:"#cross-cutting-concerns-in-clean-architecture"},{default:e(()=>[s("Cross-Cutting Concerns in Clean Architecture")]),_:1})]),n("li",null,[a(c,{to:"#cross-cutting-concern-1-logging"},{default:e(()=>[s("Cross-Cutting Concern #1 - Logging")]),_:1})]),n("li",null,[a(c,{to:"#cross-cutting-concern-2-validation"},{default:e(()=>[s("Cross-Cutting Concern #2 - Validation")]),_:1})]),n("li",null,[a(c,{to:"#cross-cutting-concern-3-caching"},{default:e(()=>[s("Cross-Cutting Concern #3: Caching")]),_:1})]),n("li",null,[a(c,{to:"#what-to-do-next"},{default:e(()=>[s("What To Do Next")]),_:1})])])]),_,a(u,{name:"Balancing Cross-Cutting Concerns in Clean Architecture",desc:"Cross-cutting concerns are software aspects that affect the entire application. These are your common application-level functionalities that span several layers and tiers. Cross-cutting concerns should be centralized in one location. This prevents code duplication and tight coupling between components. In today's newsletter, I'll show you how to integrate cross-cutting concerns in Clean Architecture.",url:"https://milanjovanovic.tech/blog/balancing-cross-cutting-concerns-in-clean-architecture/",logo:"https://milanjovanovic.tech/profile_favicon.png",preview:"https://milanjovanovic.tech/blog-covers/mnw_073.png"}),T,n("p",null,[s("In Clean Architecture, "),n("a",R,[a(l,{icon:"fa-brands fa-wikipedia-w"}),s("cross-cutting concerns")]),s(" play an essential role in ensuring the maintainability and scalability of your system. Ideally, these concerns should be handled separately from the core business logic. This aligns with Clean Architecture's principles, emphasizing the decoupling of concerns and modularity. Your core business rules remain uncluttered, and the architecture stays clean and adaptable.")]),n("p",null,[s("Ideally, you want to implement cross-cutting concerns in the Infrastructure layer. You can use ASP.NET Core middleware, "),a(t,{to:"/milanjovanovic.tech/decorator-pattern-in-asp-net-core.html"},{default:e(()=>[s("decorators")]),_:1}),s(", or MediatR pipeline behaviors. Whichever approach you decide to use, the guiding idea remains the same.")]),q,x,I,A,j,n("p",null,[s("An elegant way to achieve this is with "),a(t,{to:"/milanjovanovic.tech/cqrs-pattern-with-mediatr.html"},{default:e(()=>[s("MediatR's")]),_:1}),s(),B,s(". By encapsulating the logging logic inside a pipeline behavior, we ensure that logging is treated as a distinct concern, separate from business logic. This approach enables us to capture detailed information about requests flowing through the application.")]),n("p",null,[s("Effective logging should be consistent, context-rich, and non-intrusive. Using "),a(t,{to:"/milanjovanovic.tech/5-serilog-best-practices-for-better-structured-logging.html"},{default:e(()=>[s("Serilog's")]),_:1}),s(" structured logging capabilities, we can create logs that are not only informative but also easily queryable. This is essential for understanding the state of the application at any given moment.")]),n("p",null,[s("When done correctly, "),a(t,{to:"/milanjovanovic.tech/structured-logging-in-asp-net-core-with-serilog.html"},{default:e(()=>[s("structured logging")]),_:1}),s(" provides invaluable insights into your application without cluttering the core logic. It's a balance of granularity and clarity, ensuring that your logs are a helpful tool rather than a source of noise.")]),E,n("p",null,[s("In the example below, I'm creating a "),a(t,{to:"/milanjovanovic.tech/cqrs-validation-with-mediatr-pipeline-and-fluentvalidation.html"},{default:e(()=>[s("validation pipeline behavior")]),_:1}),s(". This setup allows for a clean separation of validation logic from business logic. The pipeline behavior ensures that each request is validated before it reaches the core processing logic.")]),N,n("p",null,[s("The caching pipeline behavior, which you see below, implements the "),n("a",V,[a(l,{icon:"fa-brands fa-microsoft"}),s("Cache Aside pattern.")]),s(" This pattern involves checking the cache before processing the request and updating the cache with new data as needed. It's a popular caching strategy due to its simplicity and effectiveness. Here's a "),n("a",L,[a(l,{icon:"fa-brands fa-youtube"}),s("video tutorial")]),s(" if you want to see how I implemented this.")]),a(d,{src:"youtube/LOEYZRE72wE"}),P,n("p",null,[s("Managing cross-cutting concerns such as logging, caching, validation, and exception handling is not just about technical implementation. It's about aligning these aspects with the core principles of "),a(t,{to:"/milanjovanovic.tech/clean-architecture-and-the-benefits-of-structured-software-design.html"},{default:e(()=>[s("Clean Architecture.")]),_:1}),s(" By adopting the decoupling techniques we discussed, you can ensure that your .NET projects are robust and maintainable.")]),n("p",null,[s("Each step you take towards refining your handling of cross-cutting concerns is a step towards a better software architecture. I encourage you to experiment with these strategies in your own .NET projects. If you want a structured guide covering these aspects in-depth, take a look at "),a(t,{to:"/milanjovanovic.tech/pragmatic-clean-architecture/"},{default:e(()=>[s("Pragmatic Clean Architecture.")]),_:1})]),S,D,M])}const J=k(y,[["render",F],["__file","balancing-cross-cutting-concerns-in-clean-architecture.html.vue"]]),K=JSON.parse('{"path":"/milanjovanovic.tech/balancing-cross-cutting-concerns-in-clean-architecture.html","title":"Balancing Cross-Cutting Concerns in Clean Architecture","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Balancing Cross-Cutting Concerns in Clean Architecture","description":"Article(s) > Balancing Cross-Cutting Concerns in Clean Architecture","icon":"iconfont icon-csharp","category":["C#","DotNet","Article(s)"],"tag":["blog","milanjovanovic.tech","cs","c#","csharp","dotnet"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Balancing Cross-Cutting Concerns in Clean Architecture"},{"property":"og:description","content":"Balancing Cross-Cutting Concerns in Clean Architecture"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/balancing-cross-cutting-concerns-in-clean-architecture.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/balancing-cross-cutting-concerns-in-clean-architecture.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Balancing Cross-Cutting Concerns in Clean Architecture"}],["meta",{"property":"og:description","content":"Article(s) > Balancing Cross-Cutting Concerns in Clean Architecture"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://milanjovanovic.tech/blog-covers/mnw_073.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://milanjovanovic.tech/blog-covers/mnw_073.png"}],["meta",{"name":"twitter:image:alt","content":"Balancing Cross-Cutting Concerns in Clean Architecture"}],["meta",{"property":"article:author","content":"Milan Jovanoviƒá"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"milanjovanovic.tech"}],["meta",{"property":"article:tag","content":"cs"}],["meta",{"property":"article:tag","content":"c#"}],["meta",{"property":"article:tag","content":"csharp"}],["meta",{"property":"article:tag","content":"dotnet"}],["meta",{"property":"article:published_time","content":"2024-01-20T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Balancing Cross-Cutting Concerns in Clean Architecture\\",\\"image\\":[\\"https://milanjovanovic.tech/blogs/mnw_073/clean_architecture_cross_cutting_concerns.png?imwidth=3840\\"],\\"datePublished\\":\\"2024-01-20T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Milan Jovanoviƒá\\"}]}"]],"prev":"/programming/cs/articles/README.md","date":"2024-01-20T00:00:00.000Z","isOriginal":false,"author":"Milan Jovanoviƒá","cover":"https://milanjovanovic.tech/blog-covers/mnw_073.png"},"headers":[{"level":2,"title":"Cross-Cutting Concerns in Clean Architecture","slug":"cross-cutting-concerns-in-clean-architecture","link":"#cross-cutting-concerns-in-clean-architecture","children":[]},{"level":2,"title":"Cross-Cutting Concern #1 - Logging","slug":"cross-cutting-concern-1-logging","link":"#cross-cutting-concern-1-logging","children":[]},{"level":2,"title":"Cross-Cutting Concern #2 - Validation","slug":"cross-cutting-concern-2-validation","link":"#cross-cutting-concern-2-validation","children":[]},{"level":2,"title":"Cross-Cutting Concern #3: Caching","slug":"cross-cutting-concern-3-caching","link":"#cross-cutting-concern-3-caching","children":[]},{"level":2,"title":"What To Do Next","slug":"what-to-do-next","link":"#what-to-do-next","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":4.58,"words":1374},"filePathRelative":"milanjovanovic.tech/balancing-cross-cutting-concerns-in-clean-architecture.md","localizedDate":"2024ÎÖÑ 1Ïõî 20Ïùº","excerpt":"\\n","copyright":{"author":"Milan Jovanoviƒá"}}');export{J as comp,K as data};
