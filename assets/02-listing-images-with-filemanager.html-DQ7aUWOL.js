import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,b as e,t as h,e as t,n as i,g as l,d as s,f as u,r as n,o as m}from"./app-BgNevrm5.js";const f={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},g={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},k=e("nav",{class:"table-of-contents"},[e("ul")],-1),y=e("hr",null,null,-1),b=e("p",null,"The images I've provided you with come from the National Oceanic and Atmospheric Administration (NOAA), which is a US government agency and thus produces public domain content that we can freely reuse. Once they are copied into your project, Xcode will automatically build them into your finished app so that you can access them.",-1),v=e("p",null,"Behind the scenes, an iOS app is actually a directory containing lots of files: the binary itself (that's the compiled version of your code, ready to run), all the media assets your app uses, any visual layout files you have, plus a variety of other things such as metadata and security entitlements.",-1),_=e("p",null,`These app directories are called bundles, and they have the file extension .app. Because our media files are loose inside the folder, we can ask the system to tell us all the files that are in there then pull out the ones we want. You may have noticed that all the images start with the name "nssl" (short for National Severe Storms Laboratory), so our task is simple: list all the files in our app's directory, and pull out the ones that start with "nssl".`,-1),x=e("p",null,"For now, we‚Äôll load that list and just print it to Xcode‚Äôs built in log viewer, but soon we‚Äôll make them appear in our app.",-1),S=e("code",null,"ViewController.swift",-1),q=e("code",null,"ViewController.swift",-1),L=u(`<div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token class-name">UIKit</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">ViewController</span><span class="token punctuation">:</span> <span class="token class-name">UIViewController</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment">// Do any additional setup after loading the view, typically from a nib.</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That contains four interesting things I want to discuss before moving on.</p><ol><li>The file starts with <code>import UIKit</code>, which means ‚Äúthis file will reference the iOS user interface toolkit.‚Äù</li><li>The <code>class ViewController: UIViewController</code> line means ‚ÄúI want to create a new screen of data called ViewController, based on UIViewController.‚Äù When you see a data type that starts with ‚ÄúUI‚Äù, it means it comes from UIKit. <code>UIViewController</code> is Apple‚Äôs default screen type, which is empty and white until we change it.</li><li>The line <code>override func viewDidLoad()</code> starts a method. As you know, the <code>override</code> keyword is needed because it means ‚Äúwe want to change Apple‚Äôs default behavior from <code>UIViewController</code>.‚Äù <code>viewDidLoad()</code> is called by UIKit when the screen has loaded, and is ready for you to customize.</li><li>The <code>viewDidLoad()</code> method contains one line of code saying <code>super.viewDidLoad()</code> and one line of comment (that‚Äôs the line starting with <code>//</code>). This <code>super</code> call means ‚Äútell Apple‚Äôs <code>UIViewController</code> to run its own code before I run mine,‚Äù and you‚Äôll see this used a lot.</li></ol><p>We‚Äôll come back to this code a <em>lot</em> in future projects; don‚Äôt worry if it‚Äôs all a bit hazy right now.</p><p><strong>No line numbers?</strong> While you‚Äôre reading code, it‚Äôs frequently helpful to have line numbers enabled so you can refer to specific code more easily. If your Xcode isn&#39;t showing line numbers by default, I suggest you turn them on now: go to the Xcode menu and choose Preferences, then choose the Text Editing tab and make sure &quot;Line numbers&quot; is checked.</p><p>As I said before, the <code>viewDidLoad()</code> method is called when the screen has loaded and is ready for you to customize. We&#39;re going to put some more code into that method to load the NSSL images. Add this beneath the line that says <code>super.viewDidLoad()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> fm <span class="token operator">=</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span></span>
<span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span>resourcePath<span class="token operator">!</span></span>
<span class="line"><span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">!</span> fm<span class="token punctuation">.</span><span class="token function">contentsOfDirectory</span><span class="token punctuation">(</span>atPath<span class="token punctuation">:</span> path<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> item <span class="token keyword">in</span> items <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> item<span class="token punctuation">.</span><span class="token function">hasPrefix</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;nssl&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// this is a picture to load!</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>Some experienced Swift developers will read that code, see <code>try!</code>, then write me an angry email. If you‚Äôre considering doing just that, please continue reading first.</p></div><p>That‚Äôs a big chunk of code, most of which is new. Let‚Äôs walk through what it does line by line:</p><ul><li>The line <code>let fm = FileManager.default</code> declares a constant called <code>fm</code> and assigns it the value returned by <code>FileManager.default</code>. This is a data type that lets us work with the filesystem, and in our case we&#39;ll be using it to look for files.</li><li>The line <code>let path = Bundle.main.resourcePath!</code> declares a constant called <code>path</code> that is set to the resource path of our app&#39;s bundle. Remember, a bundle is a directory containing our compiled program and all our assets. So, this line says, &quot;tell me where I can find all those images I added to my app.&quot;</li><li>The line <code>let items = try! fm.contentsOfDirectory(atPath: path)</code> declares a third constant called <code>items</code> that is set to the contents of the directory at a path. Which path? Well, the one that was returned by the line before. As you can see, Apple&#39;s long method names really does make their code quite self-descriptive! The <code>items</code> constant will be an array of strings containing filenames.</li><li>The line <code>for item in items {</code> starts a loop that will execute once for every item we found in the app bundle. Remember: the line has an opening brace at the end, signaling the start of a new block of code, and there&#39;s a matching closing brace four lines beneath. Everything inside those braces will be executed each time the loop goes around.</li><li>The line <code>if item.hasPrefix(&quot;nssl&quot;) {</code> is the first line inside our loop. By this point, we&#39;ll have the first filename ready to work with, and it&#39;ll be called <code>item</code>. To decide whether it&#39;s one we care about or not, we use the <code>hasPrefix()</code> method: it takes one parameter (the prefix to search for) and returns either true or false. That &quot;if&quot; at the start means this line is a conditional statement: if the item has the prefix &quot;nssl&quot;, then‚Ä¶ that&#39;s right, another opening brace to mark another new code block. This time, the code will be executed only if <code>hasPrefix()</code> returned true.</li><li>Finally, the line <code>// this is a picture to load!</code> is a comment ‚Äì if we reach here, <code>item</code> contains the name of a picture to load from our bundle, so we need to store it somewhere.</li></ul><p>In this instance it‚Äôs perfectly fine to use <code>Bundle.main.resourcePath!</code> and <code>try!</code>, because if this code fails it means our app can&#39;t read its own data so something must be seriously wrong. Some Swift developers attempt to write code to handle these catastrophic errors at runtime, but sadly all too often they just mask the actual problem that occurred.</p><p>Right now our code loads the list of files that are inside our app bundle, then loops over them all to find the ones with a name that begins with ‚Äúnssl‚Äù. However, it doesn‚Äôt actually <em>do</em> anything with those files, so our next step is to create an array of all the ‚Äúnssl‚Äù pictures so we can refer to them later rather than having to re-read the resources directory again and again.</p><p>The three constants we already created ‚Äì <code>fm</code>, <code>path</code>, and <code>items</code> ‚Äì live inside the <code>viewDidLoad()</code> method, and will be destroyed as soon as that method finishes. What we want is a way to attach data to the whole <code>ViewController</code> type so that it will exist for as long as our screen exists. So, this a perfect example of when to use a property ‚Äì we can give our <code>ViewController</code> class as many of these properties as we want, then read and write them as often as needed while the screen exists.</p><p>To create a property, you need to declare it <em>outside</em> of methods. We‚Äôve been creating constants using <code>let</code> so far, but this array is going to be changed inside our loop so we need to make it variable. We also need to tell Swift exactly what kind of data it will hold ‚Äì in our case that‚Äôs an array of strings, where each item will be the name of an ‚Äúnssl‚Äù picture.</p><p>Add this line of code <em>before</em> <code>viewDidLoad()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> pictures <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If you‚Äôve placed it correctly, your code should look like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">ViewController</span><span class="token punctuation">:</span> <span class="token class-name">UIViewController</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> pictures <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">let</span> fm <span class="token operator">=</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That <code>pictures</code> array will be created when the <code>ViewController</code> screen is created, and exist for as long as the screen exists. It will be empty, because we haven‚Äôt actually filled it with anything, but at least it‚Äôs there ready for us to fill.</p><p>What we <em>really</em> want is to add to the <code>pictures</code> array all the files we match inside our loop. To do that, we need to replace the existing <code>// this is a picture to load!</code> comment with code to add each picture to the <code>pictures</code> array.</p><p>Helpfully, Swift‚Äôs arrays have a built-in method called <code>append</code> that we can use to add any items we want. So, replace the <code>// this is a picture to load!</code> comment with this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">pictures<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That‚Äôs it! Annoyingly, after all that work our app won‚Äôt appear to do anything when you press play ‚Äì you‚Äôll see the same white screen as before. Did it work, or did things just silently fail?</p><p>To find out, add this line of code at the end of <code>viewDidLoad()</code>, just before the closing brace:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token function">print</span><span class="token punctuation">(</span>pictures<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That tells Swift to print the contents of <code>pictures</code> to the Xcode debug console. When you run the program now, you should see this text appear at the bottom of your Xcode window: ‚Äú[&quot;nssl0033.jpg&quot;, &quot;nssl0034.jpg&quot;, &quot;nssl0041.jpg&quot;, &quot;nssl0042.jpg&quot;, &quot;nssl0043.jpg&quot;, &quot;nssl0045.jpg&quot;, &quot;nssl0046.jpg&quot;, &quot;nssl0049.jpg&quot;, &quot;nssl0051.jpg&quot;, &quot;nssl0091.jpg‚Äù]‚Äù</p><p>Note: iOS likes to print lots of uninteresting debug messages in the Xcode debug console. Don‚Äôt fret if you see lots of other text in there that you don‚Äôt recognize ‚Äì just scroll around until you see the text above, and if you see that then you‚Äôre good to go.</p>`,27);function T(c,I){const a=n("VPCard"),r=n("VidStack"),o=n("FontIcon");return m(),d("div",null,[e("h1",w,[e("a",g,[e("span",null,h(c.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(a,i(l({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),k,y,t(a,i(l({title:"Listing images with FileManager | Hacking with iOS",desc:"Listing images with FileManager",link:"https://hackingwithswift.com/read/1/2/listing-images-with-filemanager",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),t(r,{src:"youtube/XqFSZUM04fg"}),b,v,_,x,e("p",null,[s("So, step 1: open "),t(o,{icon:"fa-brands fa-swift"}),S,s(". A view controller is best thought of as being one screen of information, and for us that‚Äôs just one big blank screen. "),t(o,{icon:"fa-brands fa-swift"}),q,s(" is responsible for showing that blank screen, and right now it won‚Äôt contain much code. You should see something like this:")]),L])}const A=p(f,[["render",T],["__file","02-listing-images-with-filemanager.html.vue"]]),D=JSON.parse('{"path":"/hackingwithswift.com/read/01/02-listing-images-with-filemanager.html","title":"Listing images with FileManager","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Listing images with FileManager","description":"Article(s) > Listing images with FileManager","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Listing images with FileManager"},{"property":"og:description","content":"Listing images with FileManager"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/01/02-listing-images-with-filemanager.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/01/02-listing-images-with-filemanager.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Listing images with FileManager"}],["meta",{"property":"og:description","content":"Article(s) > Listing images with FileManager"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Listing images with FileManager\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":6.09,"words":1828},"filePathRelative":"hackingwithswift.com/read/01/02-listing-images-with-filemanager.md","excerpt":"\\n"}');export{A as comp,D as data};
