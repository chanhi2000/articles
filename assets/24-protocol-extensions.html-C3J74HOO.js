import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,b as n,t as l,e as a,n as e,g as t,f as c,r,o as d}from"./app-BgNevrm5.js";const u={},k={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},m={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},h=n("nav",{class:"table-of-contents"},[n("ul")],-1),f=n("hr",null,null,-1),w=c(`<p>One of Swift‚Äôs most powerful features is its ability to extend whole swathes of data types at the same time. These are known as protocol extensions, and they are commonly used to build flexibility into large apps.</p><p>You‚Äôve already seen how protocols let us define contracts that conforming types must adopt. Well, protocol <em>extensions</em> let us define implementations of things inside the protocol, adding the functionality to all types that conform to the protocol in a single place.</p><p>To demonstrate how this works, let‚Äôs look at another simple extension for the <code>Int</code> data type: we‚Äôre going to add a <code>clamp()</code> method that makes sure one number falls within the lower and upper bounds that are specified:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">extension</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">func</span> <span class="token function-definition function">clamp</span><span class="token punctuation">(</span>low<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">self</span> <span class="token operator">&gt;</span> high <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// if we are higher than the upper bound, return the upper bound</span></span>
<span class="line">            <span class="token keyword">return</span> high</span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">self</span> <span class="token operator">&lt;</span> low <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// if we are lower than the lower bound, return the lower bound</span></span>
<span class="line">            <span class="token keyword">return</span> low</span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// we are inside the range, so return our value</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">self</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">8</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">clamp</span><span class="token punctuation">(</span>low<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Because 8 is higher than the upper bound of 5, that will print 5.</p><p>I explicitly made <code>i</code> an <code>Int</code> for a reason: there are other kinds of integers available in Swift. For example, <code>UInt</code> is an unsigned integer, which means it sacrifices the ability to hold negative numbers in exchange for the ability to hold much larger positive numbers.</p><p>There are also integers of different sizes, e.g. <code>Int8</code> holds an integer made up of 8 binary digits, which holds a maximum value of 127, and <code>UInt64</code> is the largest type of integer and holds up to 18,446,744,073,709,551,615 ‚Äì that‚Äôs 18 quintillion four hundred and forty-six quadrillion in case you were wondering.</p><p>Our extension modifies the <code>Int</code> data type specifically, rather than <em>all</em> variations of integers, which means code like this won‚Äôt work because <code>UInt64</code> doesn‚Äôt have the extension:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> j<span class="token punctuation">:</span> <span class="token class-name">UInt64</span> <span class="token operator">=</span> <span class="token number">8</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>j<span class="token punctuation">.</span><span class="token function">clamp</span><span class="token punctuation">(</span>low<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Swift‚Äôs solution is to let us create protocol extensions: extensions that modify several data types at once.</p><p>You‚Äôve already seen how the <code>self</code> keyword lets us refer to our current value, so <code>self * self</code> means ‚Äúmultiply my current number by itself.‚Äù Well, there‚Äôs also <code>Self</code> with a capital S, which has a subtly different meaning: it means ‚Äúmy current data type.‚Äù So, <code>self</code> means ‚Äúmy current value‚Äù and <code>Self</code> means ‚Äúmy current data type.‚Äù</p><p>This <em>matters</em> when it comes to extending protocols because of the way our <code>clamp()</code> method is declared. Take a look again:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">clamp</span><span class="token punctuation">(</span>low<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">self</span> <span class="token operator">&gt;</span> high <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> high</span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">self</span> <span class="token operator">&lt;</span> low <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> low</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">self</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If we want <code>clamp()</code> to apply to all types of integer, we can‚Äôt very well make it return <code>Int</code> - that‚Äôs not big enough to hold the full range of a <code>UInt64</code>, so Swift will refuse to build. Instead, we need to make the method return <code>Self</code>, which means ‚ÄúI‚Äôll return whatever data type I was used with.‚Äù</p><p>Here‚Äôs the rewritten extension:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">extension</span> <span class="token class-name">BinaryInteger</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">func</span> <span class="token function-definition function">clamp</span><span class="token punctuation">(</span>low<span class="token punctuation">:</span> <span class="token keyword">Self</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token keyword">Self</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">Self</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">self</span> <span class="token operator">&gt;</span> high <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> high</span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">self</span> <span class="token operator">&lt;</span> low <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> low</span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">self</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This time I‚Äôve made it apply to <code>BinaryInteger</code>, which is a protocol that all of Swift‚Äôs integer types conform to. This means <em>all</em> integer types get access to the <code>clamp()</code> method, and work as expected ‚Äì we don‚Äôt need to extend them all individually.</p><figure><img src="https://hackingwithswift.com/img/books/hws/protocol-extensions-1.png" alt=" now works with , which conforms to the  protocol." tabindex="0" loading="lazy"><figcaption><code>clamp</code> now works with <code>UInt8</code>, which conforms to the <code>BinaryInteger</code> protocol.</figcaption></figure><p>Protocol extensions are helpful for providing default method implementations so that conforming types don‚Äôt need to implement those methods themselves unless they specifically want to.</p><p>As an example, we might define an extension for our <code>Employee</code> protocol so that all conforming types automatically get a <code>doWork()</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">protocol</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token keyword">set</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">var</span> jobTitle<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token keyword">set</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">func</span> <span class="token function-definition function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">extension</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">func</span> <span class="token function-definition function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;I&#39;m busy!&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://hackingwithswift.com/img/books/hws/protocol-extensions-2@2x.png" alt="The struct  can use the  method defined in the extension." tabindex="0" loading="lazy"><figcaption>The struct <code>OfficeDrone</code> can use the <code>doWork</code> method defined in the extension.</figcaption></figure>`,22);function g(o,v){const s=r("VPCard");return d(),p("div",null,[n("h1",k,[n("a",m,[n("span",null,l(o.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),a(s,e(t({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),h,f,a(s,e(t({title:"Protocol extensions | Hacking with iOS",desc:"Protocol extensions",link:"https://hackingwithswift.com/read/0/24/protocol-extensions",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),w])}const x=i(u,[["render",g],["__file","24-protocol-extensions.html.vue"]]),I=JSON.parse('{"path":"/hackingwithswift.com/read/00/24-protocol-extensions.html","title":"Protocol extensions","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Protocol extensions","description":"Article(s) > Protocol extensions","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Protocol extensions"},{"property":"og:description","content":"Protocol extensions"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/00/24-protocol-extensions.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/00/24-protocol-extensions.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Protocol extensions"}],["meta",{"property":"og:description","content":"Article(s) > Protocol extensions"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/img/books/hws/protocol-extensions-1.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Protocol extensions\\",\\"image\\":[\\"https://hackingwithswift.com/img/books/hws/protocol-extensions-1.png\\",\\"https://hackingwithswift.com/img/books/hws/protocol-extensions-2@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":2.74,"words":822},"filePathRelative":"hackingwithswift.com/read/00/24-protocol-extensions.md","excerpt":"\\n"}');export{x as comp,I as data};
