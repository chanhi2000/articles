import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,b as e,t as g,e as t,n as u,g as v,w as n,d as o,f as a,r,o as f}from"./app-BgNevrm5.js";const y={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},_={class:"table-of-contents"},k=e("hr",null,null,-1),C={href:"https://dzone.com/articles/new-research-shows-63-percent-of-enterprises-are-a",target:"_blank",rel:"noopener noreferrer"},M=e("strong",null,"Microservices",-1),T=a('<p>As more businesses adopt the use of Microservice architectures, we as developers have to become more skilled with Microservices communication.</p><p>Working with <strong>distributed systems</strong> is both fun and challenging at the same time. One of those challenges is designing <strong>effective communication</strong> between services.</p><p>More centralization or less centralization? More coupling or less coupling? More control or less control?</p><p>These are only a few questions you need to answer.</p><p>In this week&#39;s newsletter, we will:</p><ul><li>Break down <strong>Orchestration vs. Choreography</strong></li><li>Understand key differences and <strong>tradeoffs</strong> between them</li><li>Create a framework for deciding which approach to use</li></ul><p>Let&#39;s dive in!</p><hr><h2 id="what-are-microservices" tabindex="-1"><a class="header-anchor" href="#what-are-microservices"><span>What Are Microservices?</span></a></h2><p><strong>Microservices</strong> are a <strong>software architecture</strong> style where an application is built from small, autonomous services. Each microservice serves a distinct purpose and can be independently deployed.</p><p>You probably already know this, so this is a quick refresher.</p><figure><img src="https://milanjovanovic.tech/blogs/mnw_052/microservices_hell.png?imwidth=1920" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Here are the key tenets of Microservices:</p><ul><li>Independent development</li><li>Deployment independence</li><li>Technological freedom</li><li>Scalability</li><li>Resilience</li></ul><p>A significant challenge is designing effective inter-service communication within this distributed environment.</p><p>Inside a Monolith system, communication happens through direct method calls. This is a straightforward approach that works well when all components live within a single process. However, this doesn&#39;t work with microservices.</p><hr><h2 id="orchestration-command-driven-communication" tabindex="-1"><a class="header-anchor" href="#orchestration-command-driven-communication"><span>Orchestration - Command-driven Communication</span></a></h2><p><strong>Orchestration</strong> is a centralized approach to Microservices communication. One of the services takes on the role of the <strong>orchestrator</strong> and coordinates the communication between services.</p><p>Orchestration uses <strong>command-driven</strong> communication. The command communicates the intent of the action. The sender wants something to happen, and the recipient doesn&#39;t need to know who sent the command.</p>',20),O=e("strong",null,"Saga implemented with RabbitMQ.",-1),x=a('<figure><img src="https://milanjovanovic.tech/blogs/mnw_052/orchestration.png?imwidth=2048" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>It has some nice <strong>benefits</strong>:</p><ul><li>Simple</li><li>Centralized</li><li>Ease of troubleshooting</li><li>Monitoring is straightforward</li></ul><p><strong>Orchestration</strong> is typically <strong>simpler</strong> to implement and maintain than choreography. Because there is a central coordinator, you can manage and monitor service interactions. This, in turn, improves troubleshooting, as you know where to look when something goes wrong.</p><p>The <strong>drawbacks</strong> of orchestration are:</p><ul><li>Tight coupling</li><li>Single point of failure</li><li>Difficulty adding, removing, or replacing microservices</li></ul><hr><h2 id="choreography-event-driven-communication" tabindex="-1"><a class="header-anchor" href="#choreography-event-driven-communication"><span>Choreography - Event-driven Communication</span></a></h2><p><strong>Choreography</strong> is a <strong>decentralized</strong> communication approach. Choreography uses <strong>event-driven</strong> communication - as opposed to orchestration, which uses commands.</p><p>An <strong>event</strong> is something that has happened in the past and is a fact. The sender does not know who will handle the event or what will happen after processing it.</p>',10),A=e("strong",null,"publishing domain events.",-1),j=a('<figure><img src="https://milanjovanovic.tech/blogs/mnw_052/choreography.png?imwidth=2048" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>The most important <strong>benefits</strong> of choreography are:</p><ul><li>Loose coupling</li><li>Ease of maintenance</li><li>Decentralized control</li><li>Asynchronous communication</li></ul><p><strong>Choreography</strong> allows microservices to be <strong>loosely coupled</strong>, which means they can operate independently and asynchronously. This makes the system more scalable and resilient. A failure of one microservice won&#39;t necessarily affect microservices.</p><p>Of course, there are <strong>downsides</strong> to choreography:</p><ul><li>Complexity</li><li>Monitoring is difficult</li><li>Difficulty troubleshooting</li></ul><p>It&#39;s more complex to implement and maintain than orchestration.</p><p>Effective monitoring is the biggest challenge from my experience.</p><hr><h2 id="the-crossroads-which-one-should-you-choose" tabindex="-1"><a class="header-anchor" href="#the-crossroads-which-one-should-you-choose"><span>The Crossroads: Which One Should You Choose?</span></a></h2><p>So, how do you know which one to pick for your system?</p><p>I always start with the requirements of the system I&#39;m building. And then, I look at the pros and cons of orchestration vs. choreography. Here&#39;s a small framework to help you decide.</p><p><strong>Orchestration</strong> excels when:</p><ul><li>You need to wait for the completion of intermediate steps (such as credit card payment confirmation)</li><li>You need to make a conditional choice of subsequent steps</li><li>The process must be carried out atomically (entirely or not at all)</li><li>The process needs to be centralized in one place for monitoring</li></ul><p>This also means you will need a central database managed by the orchestrator to handle all workflow-related state.</p><p><strong>Choreography</strong> works best when:</p><ul><li>The process can rely on the input message without needing additional context</li><li>Steps clearly follow one another</li><li>Progress is made in one direction</li></ul><p>You can benefit from increased flexibility (such as modifying individual steps in isolation) Unfortunately, choreography can make it difficult to trace, debug, or monitor the processes triggered by an event. And the larger the event stream is, the more challenging it becomes.</p><p>So, think carefully before opting for orchestration or choreography.</p><p>Both approaches bring their advantages but also downsides.</p><hr><h2 id="takeaway" tabindex="-1"><a class="header-anchor" href="#takeaway"><span>Takeaway</span></a></h2><p><strong>Orchestration</strong> defines a sequence of steps that each microservice must follow. This is great for identifying and addressing complex service interdependencies. Another benefit is that business logic can be managed and monitored in one place.</p><p><strong>Choreography</strong>, on the other hand, is a decentralized technique for microservices communication. Each service can operate independently while still being part of the larger architecture.</p><p>To decide which approach to use, you should observe your system and identify what you stand to gain or lose. Everything is a tradeoff.</p><p>There&#39;s also an <strong>alternative approach</strong> I want to mention.</p><p>You could go for a <strong>hybrid approach</strong> that integrates orchestration and choreography.</p><p>In a <strong>hybrid approach</strong>, you decide which communication technique to use for a specific workflow. Some workflows can benefit from orchestration, and others can benefit more from choreography.</p><p>Hope this was helpful.</p><p>I&#39;ll see you next week!</p>',30);function z(c,S){const h=r("VPCard"),i=r("router-link"),l=r("SiteInfo"),p=r("FontIcon"),s=r("RouteLink");return f(),d("div",null,[e("h1",w,[e("a",b,[e("span",null,g(c.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(h,u(v({title:"System Design > Article(s)",desc:"Article(s)",link:"/academics/system-design/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),e("nav",_,[e("ul",null,[e("li",null,[t(i,{to:"#what-are-microservices"},{default:n(()=>[o("What Are Microservices?")]),_:1})]),e("li",null,[t(i,{to:"#orchestration-command-driven-communication"},{default:n(()=>[o("Orchestration - Command-driven Communication")]),_:1})]),e("li",null,[t(i,{to:"#choreography-event-driven-communication"},{default:n(()=>[o("Choreography - Event-driven Communication")]),_:1})]),e("li",null,[t(i,{to:"#the-crossroads-which-one-should-you-choose"},{default:n(()=>[o("The Crossroads: Which One Should You Choose?")]),_:1})]),e("li",null,[t(i,{to:"#takeaway"},{default:n(()=>[o("Takeaway")]),_:1})])])]),k,t(l,{name:"Orchestration vs Choreography",desc:"More than 63%+ of organizations said in a Dzone survey that they are adopting Microservices for some or all of their applications. As more businesses adopt the use of Microservice architectures, we as developers have to become more skilled with Microservices communication. Working with distributed systems is both fun and challenging at the same time. One of those challenges is designing effective communication between services. More centralization or less centralization? More coupling or less coupling? More control or less control? These are only a few questions you need to answer.",url:"https://milanjovanovic.tech/blog/orchestration-vs-choreography/",logo:"https://milanjovanovic.tech/profile_favicon.png",preview:"https://milanjovanovic.tech/blog-covers/mnw_052.png?imwidth=1920"}),e("p",null,[o("More than 63%+ of organizations said in a "),e("a",C,[t(p,{icon:"fas fa-globe"}),o("Dzone survey")]),o(" that they are adopting "),M,o(" for some or all of their applications.")]),T,e("p",null,[o("An example of orchestration can be a "),t(s,{to:"/milanjovanovic.tech/implementing-the-saga-pattern-with-rebus-and-rabbitmq.html"},{default:n(()=>[O]),_:1})]),x,e("p",null,[o("I talked about events in-depth in the newsletter about "),t(s,{to:"/milanjovanovic.tech/how-to-use-domain-events-to-build-loosely-coupled-systems.html"},{default:n(()=>[A]),_:1})]),j])}const D=m(y,[["render",z],["__file","orchestration-vs-choreography.html.vue"]]),R=JSON.parse('{"path":"/milanjovanovic.tech/orchestration-vs-choreography.html","title":"Orchestration vs Choreography","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Orchestration vs Choreography","description":"Article(s) > Orchestration vs Choreography","icon":"fas fa-pen","category":["Design","System","Article(s)"],"tag":["blog","milanjovanovic.tech","system","design"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Orchestration vs Choreography"},{"property":"og:description","content":"Orchestration vs Choreography"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/orchestration-vs-choreography.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/orchestration-vs-choreography.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Orchestration vs Choreography"}],["meta",{"property":"og:description","content":"Article(s) > Orchestration vs Choreography"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://milanjovanovic.tech/blog-covers/mnw_052.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://milanjovanovic.tech/blog-covers/mnw_052.png"}],["meta",{"name":"twitter:image:alt","content":"Orchestration vs Choreography"}],["meta",{"property":"article:author","content":"Milan Jovanoviƒá"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"milanjovanovic.tech"}],["meta",{"property":"article:tag","content":"system"}],["meta",{"property":"article:tag","content":"design"}],["meta",{"property":"article:published_time","content":"2023-08-26T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Orchestration vs Choreography\\",\\"image\\":[\\"https://milanjovanovic.tech/blogs/mnw_052/microservices_hell.png?imwidth=1920\\",\\"https://milanjovanovic.tech/blogs/mnw_052/orchestration.png?imwidth=2048\\",\\"https://milanjovanovic.tech/blogs/mnw_052/choreography.png?imwidth=2048\\"],\\"datePublished\\":\\"2023-08-26T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Milan Jovanoviƒá\\"}]}"]],"prev":"/academics/system-design/articles/README.md","date":"2023-08-26T00:00:00.000Z","isOriginal":false,"author":"Milan Jovanoviƒá","cover":"https://milanjovanovic.tech/blog-covers/mnw_052.png"},"headers":[{"level":2,"title":"What Are Microservices?","slug":"what-are-microservices","link":"#what-are-microservices","children":[]},{"level":2,"title":"Orchestration - Command-driven Communication","slug":"orchestration-command-driven-communication","link":"#orchestration-command-driven-communication","children":[]},{"level":2,"title":"Choreography - Event-driven Communication","slug":"choreography-event-driven-communication","link":"#choreography-event-driven-communication","children":[]},{"level":2,"title":"The Crossroads: Which One Should You Choose?","slug":"the-crossroads-which-one-should-you-choose","link":"#the-crossroads-which-one-should-you-choose","children":[]},{"level":2,"title":"Takeaway","slug":"takeaway","link":"#takeaway","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":3.71,"words":1114},"filePathRelative":"milanjovanovic.tech/orchestration-vs-choreography.md","localizedDate":"2023ÎÖÑ 8Ïõî 26Ïùº","excerpt":"\\n","copyright":{"author":"Milan Jovanoviƒá"}}');export{D as comp,R as data};
