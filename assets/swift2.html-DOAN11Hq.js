import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as w,b as n,t as m,e as s,n as o,g as l,w as e,d as a,f as p,r as c,o as f}from"./app-BgNevrm5.js";const g={},v={id:"frontmatter-title-관련",tabindex:"-1"},y={class:"header-anchor",href:"#frontmatter-title-관련"},b={class:"table-of-contents"},S=n("hr",null,null,-1),_={href:"https://hackingwithswift.com/",target:"_blank",rel:"noopener noreferrer"},q=n("p",null,"If you liked this article, you might also want to read:",-1),x=n("p",null,"All set to go? Here's the least you need to know…",-1),I=n("hr",null,null,-1),A=n("h2",{id:"new-watch-my-swift-2-0-video",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#new-watch-my-swift-2-0-video"},[n("span",null,"NEW: Watch my Swift 2.0 video")])],-1),T={href:"http://x.com/twostraws",target:"_blank",rel:"noopener noreferrer"},j=n("hr",null,null,-1),C=n("h2",{id:"try-catch",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#try-catch"},[n("span",null,"try/catch")])],-1),W=n("p",null,"::: infor Update",-1),E=n("p",null,"I wrote a tutorial on Swift 2's try catch error handling – check it out!",-1),N=p(`<p>:::</p><p>This is a common feature of other languages, but something notably missing from Swift – at least until now. I&#39;m not going to wade into the larger debate about the merits of <code>try/catch</code> (trust me, this can cause major fights!), I&#39;m just going to explain what it does and how you can use it once you install Xcode 7.</p><p><code>try</code>/<code>catch</code> is a way of programming that means &quot;try this thing, but if it fails do this other thing instead.&quot; Swift uses enums for error types so that it can ensure your error catching is exhaustive, just like with <code>switch</code> statements. So for example, you might define your error list something like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">enum</span> <span class="token class-name">MyError</span><span class="token punctuation">:</span> <span class="token class-name">ErrorType</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token class-name">UserError</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token class-name">NetworkError</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token class-name">DiscoverydError</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Notice how my error type builds on the built-in <code>ErrorType</code> protocol; this is required.</p><p>Once you&#39;ve defined the various errors you want to work with, it&#39;s time to introduce three new keywords: <code>throws</code>, <code>try</code>, <code>do</code> and <code>catch</code>.</p><p>First up, <code>throws</code> is a simple keyword that you add to your method to tell Swift it might fail. You put it right before where you put your method&#39;s return type, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Once that&#39;s done, you cannot call that method unless your code is written to handle any errors it throws – Xcode simply won&#39;t compile. When you want to throw an error from inside your methods, you just write <code>throw</code> followed by the type of error you want to throw, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Do stuff 1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Do stuff 2&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token class-name">MyError</span><span class="token punctuation">.</span><span class="token class-name">NetworkError</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;Some return value&quot;</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The dummy <code>print()</code> calls are there so you can follow the program flow, as you&#39;ll see in a moment.</p><p>But first, on to the next keyword: <code>try</code>. This is placed before any call to a method that throws an error, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">try</span> <span class="token function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This literally writes into your code &quot;I acknowledge that this code might fail,&quot; so it&#39;s effectively syntactic sugar to ensure safety. But even with that your code still won&#39;t compile, because you don&#39;t catch the errors: you need to use <code>do</code> and <code>catch</code>.</p><p>Catching errors has two forms: catching specific errors and catching all errors. You can mix and match, meaning your code can say &quot;if the error is X, I want to handle it like this; all other errors should be handled this other way.&quot;</p><p>Here&#39;s a very basic example showing how to catch all errors:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">do</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">try</span> <span class="token function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Success&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;An error occurred.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you remember, we made the <code>doStuff()</code> method print &quot;Do stuff 1&quot; then &quot;Do stuff 2&quot; before throwing a network error. So, what will happen is:</p><ul><li>&quot;Do stuff 1&quot; will be printed</li><li>&quot;Do stuff 2&quot; will be printed</li><li>The NetworkError error will be thrown, immediately exiting the <code>doStuff()</code> method – its return statement will never be reached</li><li>Control will jump to the <code>catch</code> block</li><li>&quot;An error occurred&quot; will be printed</li></ul><p>To be clear: in the code above, &quot;Success&quot; will never be printed – as soon as any <code>try</code> methods throw an error, execution stops and jumps to the <code>catch</code> block.</p><p>As I said, you can mix and match generic and specific <code>catch</code> blocks, but you do need to be sure that all possible errors are caught. For example, this will execute one chunk of code for NetworkError errors, and another chunk for all other errors:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">do</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">try</span> <span class="token function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Success&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token class-name">MyError</span><span class="token punctuation">.</span><span class="token class-name">NetworkError</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;A network error occurred&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;An error occurred&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="automatically-synthesized-headers" tabindex="-1"><a class="header-anchor" href="#automatically-synthesized-headers"><span>Automatically synthesized headers</span></a></h2><p>This is a small change, but trust me: it&#39;s a welcome one. To try it out in Xcode 7, go to Navigate &gt; Generated Interface.</p><p>In Objective C header files provided a list of the functionality exposed by classes – think of them like summaries telling you what methods are available and what parameters they take, but with none of the code.</p>`,26),O=n("code",null,".swift",-1),D=n("p",null,"But in losing header files, Swift lost one important piece of functionality: being able to see at a glance what functions are inside a class. So if you give me a 1000-line Swift file and I just want to see how I can call your functions, I have to dig through all the code, which is unpleasant.",-1),M=n("p",null,"Apple's solution is simple and efficient: Xcode can now show synthesized header files: it scans through your code and produces virtual header files that summarise the exposed methods with none of the code, just like you see if you try to inspect any of Apple's own classes.",-1),V=n("hr",null,null,-1),z=n("h2",{id:"the-guard-keyword",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#the-guard-keyword"},[n("span",null,'The "guard" keyword')])],-1),P={class:"hint-container info"},U=n("p",{class:"hint-container-title"},"update",-1),F=n("p",null,"I wrote a tutorial on the guard keyword in Swift 2 – check it out!",-1),X=p(`<p>It&#39;s very common to place some conditional checks at the start of a method to ensure that various data is configured ready to go. For example, if a Submit button is tapped, you might want to check that the user has entered a username in your user interface. To do this, you&#39;d use this code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">submitTapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">guard</span> username<span class="token punctuation">.</span>text<span class="token punctuation">.</span>characters<span class="token punctuation">.</span>count <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;All good&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Using <code>guard</code> might not seem much different to using <code>if</code>, but with <code>guard</code> your intention is clearer: execution should not continue if your conditions are not met. Plus it has the advantage of being shorter and more readable, so <code>guard</code> is a real improvement, and I&#39;m sure it will be adopted quickly.</p><p>There is one bonus to using <code>guard</code> that might make it even more useful to you: if you use it to unwrap any optionals, those unwrapped values stay around for you to use in the rest of your code block. For example:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">guard</span> <span class="token keyword">let</span> unwrappedName <span class="token operator">=</span> userName <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Your username is </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">unwrappedName</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is in comparison to a straight <code>if</code> statement, where the unwrapped value would be available only inside the <code>if</code> block, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token keyword">let</span> unwrappedName <span class="token operator">=</span> userName <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Your username is </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">unwrappedName</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// this won&#39;t work – unwrappedName doesn&#39;t exist here!</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Your username is </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">unwrappedName</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="measuring-strings-has-changed-again" tabindex="-1"><a class="header-anchor" href="#measuring-strings-has-changed-again"><span>Measuring strings has changed. Again.</span></a></h2><p>If you just read <code>username.text.characters.count</code> and did a double take, I don&#39;t blame you: Apple has changed how strings are measured yet again. What was <code>countElements()</code> became <code>count()</code>, and has now gone away entirely – and in fact if you try to use <code>count()</code> with a String you&#39;ll get an error.</p><p>Instead, you should access the <code>characters</code> property of your String, then call <code>count</code> on that. Or at least that&#39;s what you should do until Apple changes its mind again…</p><hr><h2 id="the-defer-keyword" tabindex="-1"><a class="header-anchor" href="#the-defer-keyword"><span>The &quot;defer&quot; keyword</span></a></h2>`,13),H={class:"hint-container info"},B=n("p",{class:"hint-container-title"},"Update",-1),R=n("p",null,"I wrote a tutorial on the defer keyword of Swift 2 – check it out!",-1),Y=p(`<p>Some languages have a concept of <code>try/finally</code> which lets you tell your app &quot;no matter what happens, I want this code to be executed.&quot; Swift 2 introduces its own take on this requirement using the <code>defer</code> keyword: it means &quot;I want this work to take place, but not just yet.&quot; In practice, this usually means the work will happen just before your method ends, but here&#39;s the cool thing: this will still happen if you throw an error.</p><p>First, a simple example:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 4&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function-definition function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 2&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">defer</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Do clean up here&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 3&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you run that, you&#39;ll see &quot;Checkpoint 1&quot;, &quot;Checkpoint 2&quot;, &quot;Checkpoint 3&quot;, &quot;Do clean up here&quot;, then &quot;Checkpoint 4&quot;. So, even though the <code>defer</code> line appears before checkpoint 3, it gets executed after – it gets deferred until the method is about to end.</p><p>I put &quot;Do clean up code here&quot; in there because that&#39;s exactly what <code>defer</code> is good at: when you know you need to flush a cache, write out a file or whatever, and you want to make sure that code gets executed regardless of what path is taken through your method.</p><p>As I said, work you schedule with <code>defer</code> will execute no matter what route your code takes through your method, and that includes if you throw any errors. For example:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">do</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Error!&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 4&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function-definition function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 2&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">defer</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Do clean up here&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token class-name">MyError</span><span class="token punctuation">.</span><span class="token class-name">UserError</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Checkpoint 3&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As soon as <code>doStuff()</code> throws its error, the method is exited and at that point the deferred code is called.</p><hr><h2 id="mutability-warnings" tabindex="-1"><a class="header-anchor" href="#mutability-warnings"><span>Mutability warnings</span></a></h2><p>This is a simple change that is going to go a long way to help code readability. As you know, Swift developers prefer declaring things as constants (using <code>let</code>) rather than variables (using <code>var</code>). But what if you made something a variable by accident? Or if you thought you might need to change it, then never do?</p><p>As of Xcode 7 and Swift 2, you&#39;ll get warnings in your code whenever you declare variables that never change – Xcode literally examines the way you use the variable and knows if you never change it.</p><hr><h2 id="checking-api-availability" tabindex="-1"><a class="header-anchor" href="#checking-api-availability"><span>Checking API availability</span></a></h2>`,14),L={class:"hint-container info"},K=n("p",{class:"hint-container-title"},"Update",-1),Z=n("p",null,"I wrote a tutorial on #availability – check it out!",-1),G=p(`<p>One regular problem that iOS developers hit is that we need to be careful when using new APIs – if you try and use <code>UIStackView</code> on iOS 8, for example, your app will crash. In the olden days, Objective C developers would write code like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">NSClassFromString</span><span class="token punctuation">(</span>@<span class="token string-literal"><span class="token string">&quot;UIAlertController&quot;</span></span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token nil constant">nil</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That means, &quot;if the UIAlertController class exists,&quot; which was a way of checking if we were running on iOS 8 or later. But because Xcode didn&#39;t know that was our goal, it couldn&#39;t ensure we got things right. Well, this is fixed with Swift 2, because you can now write code like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token other-directive property">#available</span><span class="token punctuation">(</span>iOS <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> stackView <span class="token operator">=</span> <span class="token class-name">UIStackView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// do stuff</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The magic happens with <code>#available</code>: it will automatically check whether we are running on iOS 9 or later, and, if so, will run the code with the <code>UIStackView</code>. The <code>*</code> after &quot;iOS 9&quot; is there as a catch all for any future platforms that Apple introduces, and it&#39;s required.</p><p>So, <code>#available</code> is cool, but even better is the fact that you can give it an <code>else</code> block and, because Xcode now knows this block will only execute if the device is iOS 8 or earlier, it can warn you if you new APIs. For example, if you wrote something like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token other-directive property">#available</span><span class="token punctuation">(</span>iOS <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// do cool iOS 9 stuff</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> stackView <span class="token operator">=</span> <span class="token class-name">UIStackView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>…that will now fail to build: Xcode can see we&#39;re trying to use <code>UIStackView</code> where it is not available, and it simply will not allow this to happen. So, by switching from &quot;is this class available&quot; to telling Xcode our actual intent, we get a huge boost in safety.</p><hr><h2 id="and-there-s-more" tabindex="-1"><a class="header-anchor" href="#and-there-s-more"><span>And there&#39;s more…</span></a></h2><p>There&#39;s so much I haven&#39;t even touched on, not least being able to write Markdown in comments and the much-improved Whole Module Optimization. But even though this little article is about Swift, I do want to add one Objective C thing: Apple has finally added generics to Objective C! You just use <code>NSArray&lt;NSString *&gt;*</code> to declare an array of strings, which is a cinch.</p>`,11);function J(d,$){const i=c("VPCard"),t=c("router-link"),r=c("FontIcon"),u=c("RouteLink"),h=c("VidStack");return f(),w("div",null,[n("h1",v,[n("a",y,[n("span",null,m(d.$frontmatter.title)+" 관련",1)])]),s(i,o(l({title:"Swift > Article(s)",desc:"Article(s)",link:"/programming/swift/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",b,[n("ul",null,[n("li",null,[s(t,{to:"#new-watch-my-swift-2-0-video"},{default:e(()=>[a("NEW: Watch my Swift 2.0 video")]),_:1})]),n("li",null,[s(t,{to:"#try-catch"},{default:e(()=>[a("try/catch")]),_:1})]),n("li",null,[s(t,{to:"#automatically-synthesized-headers"},{default:e(()=>[a("Automatically synthesized headers")]),_:1})]),n("li",null,[s(t,{to:"#the-guard-keyword"},{default:e(()=>[a('The "guard" keyword')]),_:1})]),n("li",null,[s(t,{to:"#measuring-strings-has-changed-again"},{default:e(()=>[a("Measuring strings has changed. Again.")]),_:1})]),n("li",null,[s(t,{to:"#the-defer-keyword"},{default:e(()=>[a('The "defer" keyword')]),_:1})]),n("li",null,[s(t,{to:"#mutability-warnings"},{default:e(()=>[a("Mutability warnings")]),_:1})]),n("li",null,[s(t,{to:"#checking-api-availability"},{default:e(()=>[a("Checking API availability")]),_:1})]),n("li",null,[s(t,{to:"#and-there-s-more"},{default:e(()=>[a("And there's more…")]),_:1})])])]),S,s(i,o(l({title:"What's new in Swift 2.0 – Hacking with Swift",desc:"What's new in Swift 2.0",link:"https://hackingwithswift.com/swift2",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),n("p",null,[a("Swift 2.0 is here, and packed full with features. If you already completed the entire "),n("a",_,[s(r,{icon:"fas fa-globe"}),a("Hacking with Swift coding series")]),a(" (it's free!), you'll have watched Apple's WWDC15 keynote with as much excitement as I did. And yes: Swift 2 is now available with Xcode 7, so if you're keen to start learning then I'm here to help.")]),n("p",null,[a("While I'm busy updating my free online Swift tutorial series, I wrote this article about some of the new features in Swift 2 and another "),s(u,{to:"/hackingwithswift.com/ios9.html"},{default:e(()=>[a("showing off what's new in iOS 9")]),_:1}),a(". I've even put up a whole page of "),s(u,{to:"/hackingwithswift.com/ios9-tutorials.html"},{default:e(()=>[a("free tutorials for iOS 9")]),_:1}),a(" teaching many of the amazing new features – you should check it out!")]),q,s(i,o(l({title:"What's new in Swift 2.2 – Hacking with Swift",desc:"What's new in Swift 2.2",link:"/hackingwithswift.com/swift2-2.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),s(i,o(l({title:"What's new in iOS 9 for developers – Hacking with Swift",desc:"What's new in iOS 9 for developers",link:"/hackingwithswift.com/ios9.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),x,I,A,n("p",null,[a("I made a super-fast video going over the key new features in Swift 2. You can read the original article below, or watch this video for my lightning summary. Feedback? "),n("a",T,[s(r,{icon:"fa-brands fa-x-twitter"}),a("Find me on Twitter @twostraws")]),a(".")]),s(h,{src:"youtube/pHsvYPMqsOc"}),j,C,W,E,s(i,o(l({title:"Error handling in Swift: try, catch, do and throw – Hacking with Swift",desc:"Error handling in Swift: try, catch, do and throw",link:"/hackingwithswift.com/new-syntax-swift-2-error-handling-try-catch.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),N,n("p",null,[a("Swift doesn't have header files, whch means you write all your code in a "),s(r,{icon:"fa-brands fa-swift"}),O,a(` file and don't have to worry about updating header files. Instead, you use keywords like "private" to mark how methods should be exposed to the outside world.`)]),D,M,V,z,n("div",P,[U,F,s(i,o(l({title:"The guard keyword in Swift: early returns made easy – Hacking with Swift",desc:"The guard keyword in Swift: early returns made easy",link:"/hackingwithswift.com/new-syntax-swift-2-guard.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16)]),X,n("div",H,[B,R,s(i,o(l({title:"The defer keyword in Swift: try/finally done right – Hacking with Swift",desc:"The defer keyword in Swift: try/finally done right",link:"/hackingwithswift.com/new-syntax-swift-2-defer.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16)]),Y,n("div",L,[K,Z,s(i,o(l({title:"Availability checking in Swift: backwards compatibility the smart way – Hacking with Swift",desc:"Availability checking in Swift: backwards compatibility the smart way",link:"/hackingwithswift.com/new-syntax-swift-2-availability-checking.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16)]),G])}const sn=k(g,[["render",J],["__file","swift2.html.vue"]]),an=JSON.parse(`{"path":"/hackingwithswift.com/swift2.html","title":"What's new in Swift 2.0","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"What's new in Swift 2.0","description":"What's new in Swift 2.0","icon":"fa-brands fa-swift","category":["Swift","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swift-2.0","ios","xcode"],"head":[[{"meta":null},{"property":"og:title","content":"What's new in Swift 2.0"},{"property":"og:description","content":"What's new in Swift 2.0"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swift2.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swift2.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"What's new in Swift 2.0"}],["meta",{"property":"og:description","content":"What's new in Swift 2.0"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swift-2.0"}],["meta",{"property":"article:tag","content":"ios"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:published_time","content":"2015-06-08T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"What's new in Swift 2.0\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2015-06-08T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"prev":"/programming/swift/articles/README.md","date":"2015-06-08T00:00:00.000Z","isOriginal":false},"headers":[{"level":2,"title":"NEW: Watch my Swift 2.0 video","slug":"new-watch-my-swift-2-0-video","link":"#new-watch-my-swift-2-0-video","children":[]},{"level":2,"title":"try/catch","slug":"try-catch","link":"#try-catch","children":[]},{"level":2,"title":"Automatically synthesized headers","slug":"automatically-synthesized-headers","link":"#automatically-synthesized-headers","children":[]},{"level":2,"title":"The \\"guard\\" keyword","slug":"the-guard-keyword","link":"#the-guard-keyword","children":[]},{"level":2,"title":"Measuring strings has changed. Again.","slug":"measuring-strings-has-changed-again","link":"#measuring-strings-has-changed-again","children":[]},{"level":2,"title":"The \\"defer\\" keyword","slug":"the-defer-keyword","link":"#the-defer-keyword","children":[]},{"level":2,"title":"Mutability warnings","slug":"mutability-warnings","link":"#mutability-warnings","children":[]},{"level":2,"title":"Checking API availability","slug":"checking-api-availability","link":"#checking-api-availability","children":[]},{"level":2,"title":"And there's more…","slug":"and-there-s-more","link":"#and-there-s-more","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":8.36,"words":2507},"filePathRelative":"hackingwithswift.com/swift2.md","localizedDate":"2015년 6월 8일","excerpt":"\\n"}`);export{sn as comp,an as data};
