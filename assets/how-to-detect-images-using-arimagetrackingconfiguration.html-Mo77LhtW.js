import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,b as e,t as l,e as o,n,g as i,a as t,r as g,o as d}from"./app-BgNevrm5.js";const m={},h={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},u={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},p=e("nav",{class:"table-of-contents"},[e("ul")],-1),f=e("hr",null,null,-1),w=e("blockquote",null,[e("p",null,"Available from iOS 12.0")],-1),y=e("details",{class:"hint-container details"},[e("summary",null,"Similar solutions‚Ä¶"),t(`
/quick-start/swiftui/how-to-draw-images-using-image-views">How to draw images using Image views 
/quick-start/swiftui/how-to-use-decorative-images-to-reduce-screen-reader-clutter">How to use decorative images to reduce screen reader clutter 
/quick-start/swiftui/how-to-render-images-using-sf-symbols">How to render images using SF Symbols 
/example-code/xcode/how-to-use-vector-images-in-your-asset-catalog">How to use vector images in your asset catalog 
/quick-start/swiftui/how-to-insert-images-into-text">How to insert images into text</a>
`)],-1);function k(r,b){const a=g("VPCard");return d(),c("div",null,[e("h1",h,[e("a",u,[e("span",null,l(r.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),o(a,n(i({title:"ARKit - free Swift example code",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/example-code/arkit/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),p,f,o(a,n(i({title:"How to detect images using ARImageTrackingConfiguration | ARKit - free Swift example code",desc:"How to detect images using ARImageTrackingConfiguration",link:"https://hackingwithswift.com/example-code/arkit/how-to-detect-images-using-arimagetrackingconfiguration",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),w,t(" TODO: ÏûëÏÑ± "),t(`
ARKit can automatically scan for images in the world, which means you can attach overlays showing more detail or trigger other behaviors inside your app depending on what was found. There are two important drawbacks you should be aware of before you start:

1. The images need to be visually distinct, which means they need some amount of detail and color variation. Xcode will warn you if your images aren‚Äôt good enough.
2. ARKit can detect a fixed number of images at a time, so if you want to detect many you either need to decide which to search for based on location (e.g. iBeacons in an art gallery), or cycle between your picture selection constantly. 25 or fewer is the target Apple recommends.

To get started detecting images, create a new iOS project using the Augmented Reality App template and SceneKit, then clean it up: open <FontIcon icon="fa-brands fa-swift"/>\`ViewController.swift\`, clear out everything in \`viewDidLoad()\` except the call to \`super.viewDidLoad()\` and \`sceneView.delegate = self\`, and finally delete the three empty methods at the end. You can also delete art.scnassets, which isn‚Äôt needed here.

The first step is to import the pictures you want ARKit to recognize. Remember, these should be digital copies of real-world pictures, so either scan the real-world objects or print your images. These pictures should *not* just be dragged into your asset catalog ‚Äì we need to add them in a special way.

In your asset catalog, right-click on the blank space below AppIcon and choose New AR Resource Group. It will be named ‚ÄúAR Resources‚Äù by default, but I‚Äôd like you to change that to something that represents your images. For example, if you were looking for pictures in an art gallery you might call it Paintings. Now drag your images to where it says ‚ÄúNo AR items‚Äù, to add those numbers to the resource group.

This process creates a set of images that ARKit is able to scan for, and although you can create as many as you want you can have only one active at a given time.

When you next press <kbd>Cmd</kbd>+B to build your project, Xcode will scan your ARKit images to make sure they are suitable for AR detection. You should, at least at first, always get warnings for your images, because Xcode should report the images need ‚Äúnon-zero, positive width‚Äù. This is because adding PNG files to the ARKit catalog isn‚Äôt enough: Xcode needs to know an estimated *size* of the images in the real world, so it can detect them more accurately. So, select each of your images, then enter their size into the attributes inspector ‚Äì the default unit is meters, but you‚Äôll probably find it easier to change that to centimeters.

Once you‚Äôve entered a valid size for each image, Xcode‚Äôs warnings should go away ‚Äì if any warnings remain it means your images fail the detection criteria, so read Xcode‚Äôs suggestions and try again.

The next step is to tell ARKit that we want to scan for images, and in particular those images we just added. Open <FontIcon icon="fa-brands fa-swift"/>\`ViewController.swift\` and change \`viewWillAppear()\` to this:

\`\`\`swift
override func viewWillAppear(_ animated: Bool) {
    super.viewWillAppear(animated)

    let configuration = ARImageTrackingConfiguration()

    guard let trackingImages = ARReferenceImage.referenceImages(inGroupNamed: "YourGroupNameHere", bundle: nil) else {
        // failed to read them ‚Äì crash immediately!
        fatalError("Couldn't load tracking images.")
    }

    configuration.trackingImages = trackingImages
    sceneView.session.run(configuration)
}
\`\`\`

**Note:** Obviously you should change ‚ÄúYourGroupNameHere‚Äù to name of your AR resource group.

That loads the AR resource group you created and asks ARKit to track them. If for some reason you need to track more than one image at a time, you can set the \`maximumNumberOfTrackedImages\` property on your session to whatever you need ‚Äì it defaults to 1, but modern iPhones can handle about 4.

Now that tracking is running, the final step is to make the app do something when your image is detected. Here‚Äôs some code for the \`ViewController\` class that places a translucent blue layer over each detected image:

\`\`\`swift
func renderer(_ renderer: SCNSceneRenderer, nodeFor anchor: ARAnchor) -> SCNNode? {
    // make sure this is an image anchor, otherwise bail out
    guard let imageAnchor = anchor as? ARImageAnchor else { return nil }

    // create a plane at the exact physical width and height of our reference image
    let plane = SCNPlane(width: imageAnchor.referenceImage.physicalSize.width, height: imageAnchor.referenceImage.physicalSize.height)

    // make the plane have a transparent blue color
    plane.firstMaterial?.diffuse.contents = UIColor.blue.withAlphaComponent(0.5)

    // wrap the plane in a node and rotate it so it's facing us
    let planeNode = SCNNode(geometry: plane)
    planeNode.eulerAngles.x = -.pi / 2

    // now wrap that in another node and send it back
    let node = SCNNode()
    node.addChildNode(planeNode)
    return node
}
\`\`\`

Wrapping our node in a parent is helpful so that ARKit can move, rotate, and scale the parent without affecting the child node inside.

**Tip:** You can read the name of the detected image by using \`imageAnchor.referenceImage.name\` ‚Äì this will match whatever name it has in your asset catalog.

That‚Äôs all the code you need, so if you run the app on a real device you should be able to try scanning your images. When it runs for the first time you‚Äôll be asked for camera permissions, but after that you‚Äôll find you can detect your images in any orientation, pick them up, move them around, and so on ‚Äì ARKit is remarkably good at detecting all sorts of variations.

`),y])}const v=s(m,[["render",k],["__file","how-to-detect-images-using-arimagetrackingconfiguration.html.vue"]]),I=JSON.parse('{"path":"/hackingwithswift.com/example-code/arkit/how-to-detect-images-using-arimagetrackingconfiguration.html","title":"How to detect images using ARImageTrackingConfiguration","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"How to detect images using ARImageTrackingConfiguration","description":"Article(s) > How to detect images using ARImageTrackingConfiguration","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swift-5.10","ios","ios-12.0","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > How to detect images using ARImageTrackingConfiguration"},{"property":"og:description","content":"How to detect images using ARImageTrackingConfiguration"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/example-code/arkit/how-to-detect-images-using-arimagetrackingconfiguration.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/example-code/arkit/how-to-detect-images-using-arimagetrackingconfiguration.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"How to detect images using ARImageTrackingConfiguration"}],["meta",{"property":"og:description","content":"Article(s) > How to detect images using ARImageTrackingConfiguration"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swift-5.10"}],["meta",{"property":"article:tag","content":"ios"}],["meta",{"property":"article:tag","content":"ios-12.0"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:published_time","content":"2019-03-28T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to detect images using ARImageTrackingConfiguration\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2019-03-28T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"date":"2019-03-28T00:00:00.000Z","isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":3.86,"words":1157},"filePathRelative":"hackingwithswift.com/example-code/arkit/how-to-detect-images-using-arimagetrackingconfiguration.md","localizedDate":"2019ÎÖÑ 3Ïõî 28Ïùº","excerpt":"\\n"}');export{v as comp,I as data};
