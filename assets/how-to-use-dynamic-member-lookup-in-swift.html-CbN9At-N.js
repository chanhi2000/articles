import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,b as s,t as m,e as a,n as h,g as b,w as e,d as n,f as p,r as t,o as g}from"./app-BgNevrm5.js";const y={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},v={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},f={class:"table-of-contents"},S=s("hr",null,null,-1),_=s("figure",null,[s("img",{src:"https://hackingwithswift.com/uploads/coding-man-3.jpg",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),x={href:"https://github.com/apple/swift-evolution/blob/master/proposals/0195-dynamic-member-lookup.md",target:"_blank",rel:"noopener noreferrer"},q=s("code",null,"apple/swift-evolution",-1),I=p(`<p>In this article I want to walk you through the rationale for the change and provide code some samples showing how it works. If you‚Äôre short on time, the TL;DR version is that this change will help dynamic languages such as Python be used much more easily from Swift code, similar to the way we can already call into Objective-C.</p><hr><h2 id="why-change" tabindex="-1"><a class="header-anchor" href="#why-change"><span>Why change?</span></a></h2><p>There are lots of words you could use to describe Swift, but I think ‚Äúsafe‚Äù is probably the one that comes to mind first for many people ‚Äì strong type safety, optionality, throwing functions, and more all combine to make it harder to make mistakes in Swift.</p><p>On the other end of the spectrum, languages such as PHP, Python, and JavaScript are more relaxed about safety. That doesn‚Äôt mean they encourage bad code (after all, you can write bad code in any language), just that they require developers to keep more information in their head while working.</p><p>You might think these two worlds can‚Äôt easily be reconciled, but SE-0195 takes a good stab at it. At its core is a new attribute called <code>@dynamicMemberLookup</code>, which instructs Swift to call a subscript method when accessing properties. This subscript method, <code>subscript(dynamicMember:)</code>, is <em>required</em>: you‚Äôll get passed the string name of the property that was requested, and can return any value you like.</p><p>Let‚Äôs look at a trivial example so you can understand the basics. We could create a <code>Person</code> struct that reads its values from a dictionary like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@dynamicMemberLookup</span></span>
<span class="line"><span class="token keyword">struct</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember member<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">let</span> properties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;name&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Taylor Swift&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;city&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Nashville&quot;</span></span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">return</span> properties<span class="token punctuation">[</span>member<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>@dynamicMemberLookup</code> attribute requires the type to implement a <code>subscript(dynamicMember:)</code> method to handle the actual work of dynamic member lookup. As you can see, I‚Äôve written one that accepts the member name as string and returns a string, and internally it just looks up the member name in a dictionary and returns its value.</p><p>That struct allows us to write code like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> taylor <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>taylor<span class="token punctuation">.</span>name<span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>taylor<span class="token punctuation">.</span>city<span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>taylor<span class="token punctuation">.</span>favoriteIceCream<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That will compile cleanly and run, even though <code>name</code>, <code>city</code>, and <code>favoriteIceCream</code> do not exist as properties on the <code>Person</code> type. Instead, they are all looked up at runtime: that code will print ‚ÄúTaylor Swift‚Äù and ‚ÄúNashville‚Äù for the first two calls to <code>print()</code>, then an empty string for the final one because our dictionary doesn‚Äôt store anything for <code>favoriteIceCream</code>.</p><p>My <code>subscript(dynamicMember:)</code> method <em>must</em> return a string, which is where Swift‚Äôs type safety comes in: even though you‚Äôre dealing with dynamic data, Swift will still ensure you get back what you expected. And if you want multiple different types, just implement different <code>subscript(dynamicMember:)</code> methods, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@dynamicMemberLookup</span></span>
<span class="line"><span class="token keyword">struct</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember member<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">let</span> properties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;name&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Taylor Swift&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;city&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Nashville&quot;</span></span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">return</span> properties<span class="token punctuation">[</span>member<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember member<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">let</span> properties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;age&quot;</span></span><span class="token punctuation">:</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;height&quot;</span></span><span class="token punctuation">:</span> <span class="token number">178</span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">return</span> properties<span class="token punctuation">[</span>member<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now that any property can be accessed in more than one way, Swift requires you to be clear which one should be run. That might be implicit, for example if you send the return value into a function that accepts only strings, or it might be explicit, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> taylor <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">let</span> age<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> taylor<span class="token punctuation">.</span>age</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Either way, Swift must know for sure which subscript will be called.</p><p>You can even overload <code>subscript</code> to return closures:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@dynamicMemberLookup</span></span>
<span class="line"><span class="token keyword">struct</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember member<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token omit keyword">_</span> input<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Void</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Hello! I live at the address </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation"><span class="token short-argument">$0</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> taylor <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">taylor<span class="token punctuation">.</span><span class="token function">printAddress</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;555 Taylor Swift Avenue&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When that‚Äôs run, <code>taylor.printAddress</code> returns a closure that prints out a string, and the <code>(&quot;555 Taylor Swift Avenue&quot;)</code> part immediately calls it with that input.</p><hr><h2 id="is-it-safe" tabindex="-1"><a class="header-anchor" href="#is-it-safe"><span>Is it safe?</span></a></h2><p>Swift already has the <code>AnyObject</code> type, which behaves like Objective-C‚Äôs <code>id</code> type ‚Äì you can use it to send any message to any object, and you may or may not get something sensible back.</p><p>For example, try casting a string to be <code>AnyObject</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Hello, Swift&quot;</span></span> <span class="token keyword">as</span> <span class="token class-name">AnyObject</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Even though that‚Äôs still a <code>String</code>, we‚Äôve erased Swift‚Äôs knowledge of that type ‚Äì it could be any kind of object as far as Swift is concerned. So, we could treating it as a <code>UILabel</code> and Swift will be fine with that:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> bounds <span class="token operator">=</span> str<span class="token punctuation">.</span>bounds</span>
<span class="line"><span class="token keyword">let</span> alignment <span class="token operator">=</span> str<span class="token punctuation">.</span>textAlignment</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Both those properties will be set to <code>nil</code> because Swift will try reading the <code>bounds</code> and <code>textAlignment</code> properties, fail to do so because they don‚Äôt exist on strings, and so send back an optional string ‚Äì everything gets wrapped in a layer of optionality because of the uncertainty.</p><p>That extra layer of optionality makes property access safe, but it doesn‚Äôt make <em>method</em> use safe. <code>AnyObject</code> makes available all methods as implicitly unwrapped optionals, so you can call them like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">str<span class="token punctuation">.</span><span class="token function">addSubview</span><span class="token punctuation">(</span><span class="token class-name">UIButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That will compile cleanly but crash at runtime because of course strings don‚Äôt have the <code>addSubview()</code> method. Instead, you need to be aware that you‚Äôre calling an implicitly unwrapped optional method and call it safely like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">str<span class="token punctuation">.</span>addSubview<span class="token operator">?</span><span class="token punctuation">(</span><span class="token class-name">UIButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Integer overflow is another common example of code that builds cleanly but can fail without warning:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">.</span>max</span>
<span class="line"><span class="token keyword">let</span> higher <span class="token operator">=</span> number <span class="token operator">+</span> <span class="token number">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>That will crash your app without warning, because <code>Int</code> is unable to store the number we requested.</p><p>However, these examples are different from the potential problems of dynamic member lookup. When using the <code>@dynamicMemberLookup</code> attribute, you can type literally any property after your instance name, and the compiler will be fine with it.</p><p>To give you a practical example, imagine if <code>UITextField</code> had been written using <code>@dynamicMemberLookup</code> ‚Äì all this code would compile cleanly:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> label <span class="token operator">=</span> <span class="token class-name">UILabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">label<span class="token punctuation">.</span>backgroundColour <span class="token operator">=</span> <span class="token punctuation">.</span>red</span>
<span class="line">label<span class="token punctuation">.</span>translatesAutoresizingMaskIntoConstraint <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">label<span class="token punctuation">.</span>inputAccessoryV√≠ew <span class="token operator">=</span> <span class="token class-name">UIToolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Each of those three properties don‚Äôt exist on <code>UILabel</code>, but you might not notice that during a casual read through ‚Äì <code>backgroundColor</code> has an extra U, <code>translatesAutoresizingMaskIntoConstraints</code> is missing its final S, and <code>inputAccessoryV√≠ew</code> shouldn‚Äôt have an accent over the final I.</p>`,39),M={href:"https://github.com/apple/swift-evolution/blob/master/proposals/0195-dynamic-member-lookup.md#future-directions-python-code-completion",target:"_blank",rel:"noopener noreferrer"},j=s("code",null,"apple/swift-evolution",-1),P=p(`<hr><h2 id="classes-and-protocols" tabindex="-1"><a class="header-anchor" href="#classes-and-protocols"><span>Classes and protocols</span></a></h2><p><code>@dynamicMemberLookup</code> plays a full part in Swift‚Äôs type system, which means you can assign them to protocols, structs, enums, and classes ‚Äì even classes that are marked <code>@objc</code>.</p><p>In practice, this means you can create a class using <code>@dynamicMemberLookup</code>, and any classes that inherit from it are also automatically <code>@dynamicMemberLookup</code>. So, this will print ‚ÄúTaylor Swift‚Äù because <code>User</code> inherits from <code>Person</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@dynamicMemberLookup</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember member<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;Taylor Swift&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">:</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> twostraws <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>twostraws<span class="token punctuation">.</span>username<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In his Swift Evolution proposal, Chris Lattner also gives an example <code>JSON</code> enum that uses dynamic member lookup to create more natural syntax for navigating through JSON:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@dynamicMemberLookup</span></span>
<span class="line"><span class="token keyword">enum</span> <span class="token constant">JSON</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token keyword">case</span> <span class="token function">intValue</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">case</span> <span class="token function">stringValue</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">case</span> <span class="token function">arrayValue</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token constant">JSON</span><span class="token operator">&gt;</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">case</span> <span class="token function">dictionaryValue</span><span class="token punctuation">(</span><span class="token class-name">Dictionary</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token operator">&gt;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">   <span class="token keyword">var</span> stringValue<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">stringValue</span><span class="token punctuation">(</span><span class="token keyword">let</span> str<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">self</span> <span class="token punctuation">{</span></span>
<span class="line">         <span class="token keyword">return</span> str</span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token nil constant">nil</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">   <span class="token keyword">subscript</span><span class="token punctuation">(</span>index<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token constant">JSON</span><span class="token operator">?</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">arrayValue</span><span class="token punctuation">(</span><span class="token keyword">let</span> arr<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">self</span> <span class="token punctuation">{</span></span>
<span class="line">         <span class="token keyword">return</span> index <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>count <span class="token operator">?</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token nil constant">nil</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token nil constant">nil</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">   <span class="token keyword">subscript</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token constant">JSON</span><span class="token operator">?</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">dictionaryValue</span><span class="token punctuation">(</span><span class="token keyword">let</span> dict<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">self</span> <span class="token punctuation">{</span></span>
<span class="line">         <span class="token keyword">return</span> dict<span class="token punctuation">[</span>key<span class="token punctuation">]</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token nil constant">nil</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">   <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember member<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token constant">JSON</span><span class="token operator">?</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">dictionaryValue</span><span class="token punctuation">(</span><span class="token keyword">let</span> dict<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">self</span> <span class="token punctuation">{</span></span>
<span class="line">         <span class="token keyword">return</span> dict<span class="token punctuation">[</span>member<span class="token punctuation">]</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token nil constant">nil</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Without dynamic member look up you would need to navigate an instance of that <code>JSON</code> enum like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">json<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;name&quot;</span></span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;first&quot;</span></span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">.</span>stringValue</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>But <em>with</em> dynamic member look up you can use this instead:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">json<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">.</span>name<span class="token operator">?</span><span class="token punctuation">.</span>first<span class="token operator">?</span><span class="token punctuation">.</span>stringValue</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>I think this example is particularly important because it gets to the nub of what <code>@dynamicMemberLookup</code> does: it‚Äôs syntactic sugar that turns a custom subscript into simple dot syntax.</p><hr><h2 id="so-what-about-python" tabindex="-1"><a class="header-anchor" href="#so-what-about-python"><span>So what about Python?</span></a></h2>`,14),L={href:"https://lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20171204/042029.html",target:"_blank",rel:"noopener noreferrer"},T=s("p",null,[n("The official Swift Evolution proposal mentions Python dozens of times, along with Perl, Ruby, and even JavaScript, so clearly the big win here is enabling interoperability with Python rather than using "),s("code",null,"@dynamicMemberLookup"),n(" in pure Swift code. Python is already hugely popular in the machine learning world amongst others, and if Swift coders can connect with that existing community and their incredible work then that just helps us.")],-1),A=s("code",null,"@dynamicCallable",-1),C=s("code",null,"@dynamicMemberLookup",-1),V=s("code",null,"@dynamicCallable",-1);function E(l,N){const c=t("VPCard"),o=t("router-link"),r=t("SiteInfo"),i=t("FontIcon"),u=t("RouteLink");return g(),k("div",null,[s("h1",w,[s("a",v,[s("span",null,m(l.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),a(c,h(b({title:"Swift > Article(s)",desc:"Article(s)",link:"/programming/swift/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",f,[s("ul",null,[s("li",null,[a(o,{to:"#why-change"},{default:e(()=>[n("Why change?")]),_:1})]),s("li",null,[a(o,{to:"#is-it-safe"},{default:e(()=>[n("Is it safe?")]),_:1})]),s("li",null,[a(o,{to:"#classes-and-protocols"},{default:e(()=>[n("Classes and protocols")]),_:1})]),s("li",null,[a(o,{to:"#so-what-about-python"},{default:e(()=>[n("So what about Python?")]),_:1})])])]),S,a(r,{name:"How to use Dynamic Member Lookup in Swift ‚Äì Hacking with Swift",desc:"SE-0195 has been approved, so here‚Äôs a guide to get you started.",url:"https://hackingwithswift.com/articles/55/how-to-use-dynamic-member-lookup-in-swift",logo:"https://hackingwithswift.com/favicon.svg",preview:"https://hackingwithswift.com/uploads/coding-man-3.jpg"}),_,s("p",null,[s("a",x,[n("Swift Evolution proposal SE-0195 ("),a(i,{icon:"iconfont icon-github"}),q,n(")")]),n(" brings Swift closer in behavior to scripting languages, but does so in a type-safe way ‚Äì you don‚Äôt lose any of Swift‚Äôs safety, but you do gain the ability to write the kind of code you‚Äôre more likely to see in PHP and Python.")]),I,s("p",null,[n("This also means that code completion loses much if not all of its usefulness, because there‚Äôs nothing to complete. This isn‚Äôt too much of a surprise, though, and it‚Äôs something that Python IDEs have had to deal with for some time. Chris Lattner (the author of SE-0195) discussed future possibilities for code completion in the proposal itself ‚Äì it‚Äôs "),s("a",M,[n("worth reading ("),a(i,{icon:"iconfont icon-github"}),j,n(")")]),n(".")]),P,s("p",null,[n("Chris "),s("a",L,[a(i,{icon:"fa-brands fa-swift"}),n("has made it no secret")]),n(" that he‚Äôs working hard to improve interoperability between Swift and Python, which ought not to be a surprise given that he works at Google where Python is used extensively.")]),T,s("p",null,[a(u,{to:"/hackingwithswift.com/how-to-use-dynamiccallable-in-swift.html"},{default:e(()=>[n("Swift 5.0 introduced "),A]),_:1}),n(" as a counterpart to "),C,n(", offering even more bridging for scripting languages. Although it's limited right now, future Swift versions might extend "),V,n(" so that it can call any kind of method ‚Äì we'll see!")])])}const H=d(y,[["render",E],["__file","how-to-use-dynamic-member-lookup-in-swift.html.vue"]]),J=JSON.parse('{"path":"/hackingwithswift.com/how-to-use-dynamic-member-lookup-in-swift.html","title":"How to use Dynamic Member Lookup in Swift","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"How to use Dynamic Member Lookup in Swift","description":"SE-0195 has been approved, so here‚Äôs a guide to get you started.","icon":"fa-brands fa-swift","category":["Swift","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swift-5.0","ios","xcode"],"head":[[{"meta":null},{"property":"og:title","content":"How to use Dynamic Member Lookup in Swift"},{"property":"og:description","content":"SE-0195 has been approved, so here‚Äôs a guide to get you started."},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/how-to-use-dynamic-member-lookup-in-swift.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/how-to-use-dynamic-member-lookup-in-swift.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"How to use Dynamic Member Lookup in Swift"}],["meta",{"property":"og:description","content":"SE-0195 has been approved, so here‚Äôs a guide to get you started."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/uploads/coding-man-3.jpg"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://hackingwithswift.com/uploads/coding-man-3.jpg"}],["meta",{"name":"twitter:image:alt","content":"How to use Dynamic Member Lookup in Swift"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swift-5.0"}],["meta",{"property":"article:tag","content":"ios"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:published_time","content":"2019-03-29T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to use Dynamic Member Lookup in Swift\\",\\"image\\":[\\"https://hackingwithswift.com/uploads/coding-man-3.jpg\\"],\\"datePublished\\":\\"2019-03-29T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"prev":"/programming/swift/articles/README.md","date":"2019-03-29T00:00:00.000Z","isOriginal":false,"cover":"https://hackingwithswift.com/uploads/coding-man-3.jpg"},"headers":[{"level":2,"title":"Why change?","slug":"why-change","link":"#why-change","children":[]},{"level":2,"title":"Is it safe?","slug":"is-it-safe","link":"#is-it-safe","children":[]},{"level":2,"title":"Classes and protocols","slug":"classes-and-protocols","link":"#classes-and-protocols","children":[]},{"level":2,"title":"So what about Python?","slug":"so-what-about-python","link":"#so-what-about-python","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":5.91,"words":1772},"filePathRelative":"hackingwithswift.com/how-to-use-dynamic-member-lookup-in-swift.md","localizedDate":"2019ÎÖÑ 3Ïõî 29Ïùº","excerpt":"\\n"}');export{H as comp,J as data};
