import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as m,b as e,t as g,e as i,n as v,g as _,w as n,d as t,f as c,r as s,o as f}from"./app-BgNevrm5.js";const y={},b={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},A={class:"table-of-contents"},k=e("hr",null,null,-1),S=e("p",null,"Layered architectures are the foundation of many software systems. However, layered architectures organize the system around technical layers. And the cohesion between layers is low.",-1),x=e("p",null,"What if you wanted to organize the system around features instead?",-1),E=e("p",null,"Minimize coupling between unrelated features and maximize coupling in a single feature.",-1),j=e("p",null,[t("Today I want to talk about "),e("strong",null,"Vertical Slice Architecture"),t(", which does precisely that.")],-1),P=e("hr",null,null,-1),R=e("h2",{id:"the-problem-with-layered-architectures",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#the-problem-with-layered-architectures"},[e("span",null,"The Problem With Layered Architectures")])],-1),V=e("p",null,"Layered architectures organize the software system into layers or tiers. Each of the layers is typically one project in your solution. Some of the popular implementations are N-tier architecture or Clean architecture.",-1),T=e("strong",null,"structured software design,",-1),C=c('<figure><img src="https://milanjovanovic.tech/blogs/mnw_062/clean_architecture.png?imwidth=3840" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>However, layered architectures also impose constraints or rigid rules on your system. The direction of dependencies between layers is pre-determined.</p><p>For example, in Clean Architecture:</p><ul><li>Domain should have no dependencies</li><li>Application layer can reference the Domain</li><li>Infrastructure can reference both Application and Domain</li><li>Presentation can reference both Application and Domain</li></ul><p>You end up having high coupling inside a layer and low coupling between layers. This doesn&#39;t mean layered architectures are bad. But it does mean you will have many abstractions between individual layers. And more abstractions mean increased complexity because there are more components to maintain.</p><hr><h2 id="what-is-vertical-slice-architecture" tabindex="-1"><a class="header-anchor" href="#what-is-vertical-slice-architecture"><span>What is Vertical Slice Architecture?</span></a></h2>',7),I={href:"https://jimmybogard.com/vertical-slice-architecture",target:"_blank",rel:"noopener noreferrer"},M={href:"https://github.com/jbogard/MediatR",target:"_blank",rel:"noopener noreferrer"},z=e("code",null,"jbogard/MediatR",-1),D={href:"https://github.com/AutoMapper/AutoMapper",target:"_blank",rel:"noopener noreferrer"},q=e("code",null,"AutoMapper/AutoMapper",-1),N=c('<p>Vertical Slice Architecture was born from the pain of working with layered architectures. They force you to make changes in many different layers to implement a feature.</p><p>Let&#39;s imagine what adding a new feature looks like in a layered architecture:</p><ul><li>Updating the domain model</li><li>Modifying validation logic</li><li>Creating a use case with MediatR</li><li>Exposing an API endpoint from a controller</li></ul><p>The cohesion is low because you are creating many files in different layers.</p><p>Vertical slices take a different approach:</p><blockquote><p>Minimize coupling between slices, and maximize coupling in a slice.</p></blockquote><p>Here&#39;s how you can visualize vertical slices:</p><figure><img src="https://milanjovanovic.tech/blogs/mnw_062/vertical_slice_architecture.png?imwidth=3840" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>All the files for a single use case are grouped inside one folder. So, the cohesion for a single use case is very high. This simplifies the development experience. It&#39;s easy to find all the relevant components for each feature since they are close together.</p><hr><h2 id="implementing-vertical-slices" tabindex="-1"><a class="header-anchor" href="#implementing-vertical-slices"><span>Implementing Vertical Slices</span></a></h2>',11),L=e("strong",null,"CQRS pattern.",-1),W=e("p",null,"Vertical slices narrowly focus on a single feature. This allows you to treat each use case separately and tailor the implementation to the specific requirements. One vertical slice can use EF Core to implement a GET request. Another vertical slice can use Dapper with raw SQL queries.",-1),F=e("figure",null,[e("img",{src:"https://milanjovanovic.tech/blogs/mnw_062/vertical_slices.png?imwidth=3840",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),H=e("p",null,"Another benefit of implementing vertical slices like this is:",-1),B=e("blockquote",null,[e("p",null,"New features only add code, you're not changing shared code and worrying about side effects.")],-1),G=e("strong",null,"pushing logic to the domain.",-1),J=e("hr",null,null,-1),Y=e("h2",{id:"solution-structure-with-repr-pattern",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#solution-structure-with-repr-pattern"},[e("span",null,"Solution Structure With REPR Pattern")])],-1),O=e("strong",null,"folder structure grouped by technical concerns.",-1),Q=e("p",null,"Vertical slice architecture, on the other hand, organizes the code around features or use cases.",-1),K={href:"https://deviq.com/design-patterns/repr-design-pattern",target:"_blank",rel:"noopener noreferrer"},Z=c(`<p>The REPR pattern defines that web API endpoints should have three components:</p><ul><li>Request</li><li>Endpoint</li><li>Response</li></ul><p>Here&#39;s an example solution structure in .NET. You&#39;ll notice the <code>Features</code> folder, which contains the vertical slices. Each vertical slice implements one API request (or use case).</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">üîó RunTracker.API</span>
<span class="line">|__ üìÅ Database</span>
<span class="line">|__ üìÅ Entities</span>
<span class="line">    |__ #Ô∏è‚É£ Activity.cs</span>
<span class="line">    |__ #Ô∏è‚É£ Workout.cs</span>
<span class="line">    |__ #Ô∏è‚É£ ...</span>
<span class="line">|__ üìÅ Features</span>
<span class="line">    |__ üìÅ Activities</span>
<span class="line">        |__ üìÅ GetActivity</span>
<span class="line">            |__ #Ô∏è‚É£ ActivityResponse.cs</span>
<span class="line">            |__ #Ô∏è‚É£ GetActivityEndpoint.cs</span>
<span class="line">            |__ #Ô∏è‚É£ GetActivityQuery.cs</span>
<span class="line">            |__ #Ô∏è‚É£ GetActivityQueryHandler.cs</span>
<span class="line">        |__ üìÅ CreateActivity</span>
<span class="line">            |__ #Ô∏è‚É£ CreateActivity.cs</span>
<span class="line">                |__ #Ô∏è‚É£ CreateActivity.Command.cs</span>
<span class="line">                |__ #Ô∏è‚É£ CreateActivity.Endpoint.cs</span>
<span class="line">                |__ #Ô∏è‚É£ CreateActivity.Handler.cs</span>
<span class="line">                |__ #Ô∏è‚É£ CreateActivity.Validator.cs</span>
<span class="line">    |__ üìÅ Workouts</span>
<span class="line">    |__ üìÅ ...</span>
<span class="line">|__ üìÅ Middleware</span>
<span class="line">|__ üìÑ appsettings.json</span>
<span class="line">|__ üìÑ appsettings.Development.json</span>
<span class="line">|__ #Ô∏è‚É£ Program.cs</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A few more libraries for implementing the REPR pattern:</p>`,5),U=e("hr",null,null,-1),$=e("h2",{id:"next-steps",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#next-steps"},[e("span",null,"Next Steps")])],-1),X=e("p",null,"Some of you may not like the idea of grouping all the files related to a feature in a single folder.",-1),ee=e("strong",null,"Pragmatic Clean Architecture.",-1),te={href:"https://youtu.be/msjnfdeDCmo",target:"_blank",rel:"noopener noreferrer"},ie=e("strong",null,"Vertical Slice Architecture,",-1),ne={href:"https://youtu.be/msjnfdeDCmo",target:"_blank",rel:"noopener noreferrer"},ae=e("strong",null,"here.",-1),se=e("p",null,"Thanks for reading, and stay awesome!",-1);function re(h,oe){const u=s("VPCard"),r=s("router-link"),l=s("SiteInfo"),o=s("RouteLink"),a=s("FontIcon"),p=s("VidStack");return f(),m("div",null,[e("h1",b,[e("a",w,[e("span",null,g(h.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),i(u,v(_({title:"C# > Article(s)",desc:"Article(s)",link:"/programming/cs/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),e("nav",A,[e("ul",null,[e("li",null,[i(r,{to:"#the-problem-with-layered-architectures"},{default:n(()=>[t("The Problem With Layered Architectures")]),_:1})]),e("li",null,[i(r,{to:"#what-is-vertical-slice-architecture"},{default:n(()=>[t("What is Vertical Slice Architecture?")]),_:1})]),e("li",null,[i(r,{to:"#implementing-vertical-slices"},{default:n(()=>[t("Implementing Vertical Slices")]),_:1})]),e("li",null,[i(r,{to:"#solution-structure-with-repr-pattern"},{default:n(()=>[t("Solution Structure With REPR Pattern")]),_:1})]),e("li",null,[i(r,{to:"#next-steps"},{default:n(()=>[t("Next Steps")]),_:1})])])]),k,i(l,{name:"Vertical Slice Architecture",desc:"Layered architectures are the foundation of many software systems. However, layered architectures organize the system around technical layers. And the cohesion between layers is low. What if you wanted to organize the system around features instead? This is where Vertical Slice Architecture comes in.",url:"https://milanjovanovic.tech/blog/vertical-slice-architecture/",logo:"https://milanjovanovic.tech/profile_favicon.png",preview:"https://milanjovanovic.tech/blog-covers/mnw_062.png"}),S,x,E,j,P,R,V,e("p",null,[t("Layered architectures focus on separating the concerns of the various components. This makes it easier to understand and maintain the software system. And there are many benefits of "),i(o,{to:"/milanjovanovic.tech/clean-architecture-and-the-benefits-of-structured-software-design.html"},{default:n(()=>[T]),_:1}),t(" such as maintainability, flexibility, and loose coupling.")]),C,e("p",null,[t("I first heard about "),e("a",I,[i(a,{icon:"fas fa-globe"}),t("Vertical Slice Architecture")]),t(" from Jimmy Bogard. He's also the creator of some popular open-source libraries like "),e("a",M,[t("MediatR ("),i(a,{icon:"iconfont icon-github"}),z,t(")")]),t(" and "),e("a",D,[t("Automapper. ("),i(a,{icon:"iconfont icon-github"}),q,t(")")])]),N,e("p",null,[t("If you're building an API, the system already breaks down into commands (POST/PUT/DELETE) and queries (GET). By splitting the requests into commands and queries, you're getting the benefits of the "),i(o,{to:"/milanjovanovic.tech/cqrs-pattern-with-mediatr.html"},{default:n(()=>[L]),_:1})]),W,F,H,B,e("p",null,[t("However, vertical slices have their own set of challenges. Because you are implementing much of the business logic inside a single use case, you need to be able to spot code smells. As the use case grows, it can end up doing too much. You will have to refactor the code by "),i(o,{to:"/milanjovanovic.tech/refactoring-from-an-anemic-domain-model-to-a-rich-domain-model.html"},{default:n(()=>[G]),_:1})]),J,Y,e("p",null,[t("Layered architectures, such as Clean architecture, organize the solution across layers. This results in a "),i(o,{to:"/milanjovanovic.tech/clean-architecture-folder-structure.html"},{default:n(()=>[O]),_:1})]),Q,e("p",null,[t("An interesting approach to structuring APIs around features is using the "),e("a",K,[i(a,{icon:"fas fa-globe"}),t("REPR pattern")]),t(". It stands for Request-EndPoint-Response. This aligns perfectly with the idea of vertical slices. You can achieve this with the MediatR library, for example.")]),Z,i(l,{name:"FastEndpoints/FastEndpoints",desc:"A light-weight REST API development framework for ASP.NET 6 and newer.",url:"https://github.com/FastEndpoints/FastEndpoints",logo:"https://avatars.githubusercontent.com/u/110555157?s=48&v=4",preview:"https://repository-images.githubusercontent.com/407023726/46f843f5-afe9-4452-9ad8-e4a9c1d11039"}),i(l,{name:"ardalis/ApiEndpoints",desc:"A project for supporting API Endpoints in ASP.NET Core web applications.",url:"https://github.com/ardalis/ApiEndpoints",logo:"https://avatars.githubusercontent.com/u/782127?s=48&v=4",preview:"https://repository-images.githubusercontent.com/239233346/db8fdc80-4e75-11ea-8bd7-308d2c10bb72"}),U,$,X,e("p",null,[t("However, there's a lot of value in grouping by features in general. You don't have to implement vertical slices. But you can apply this concept to your domain by grouping files around aggregates, for example. This is the approach I show in "),i(o,{to:"/milanjovanovic.tech/pragmatic-clean-architecture/"},{default:n(()=>[ee]),_:1})]),e("p",null,[t("I made a video about "),e("a",te,[i(a,{icon:"fa-brands fa-youtube"}),ie]),t(" showing how to implement the concepts discussed in today's issue. Check it out "),e("a",ne,[i(a,{icon:"fa-brands fa-youtube"}),ae])]),i(p,{src:"youtube/msjnfdeDCmo"}),se])}const he=d(y,[["render",re],["__file","vertical-slice-architecture.html.vue"]]),ue=JSON.parse('{"path":"/milanjovanovic.tech/vertical-slice-architecture.html","title":"Vertical Slice Architecture","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Vertical Slice Architecture","description":"Article(s) > Vertical Slice Architecture","icon":"iconfont icon-csharp","category":["C#","DotNet","Article(s)"],"tag":["blog","milanjovanovic.tech","cs","c#","csharp","dotnet"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Vertical Slice Architecture"},{"property":"og:description","content":"Vertical Slice Architecture"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/vertical-slice-architecture.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/vertical-slice-architecture.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Vertical Slice Architecture"}],["meta",{"property":"og:description","content":"Article(s) > Vertical Slice Architecture"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://milanjovanovic.tech/blog-covers/mnw_062.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://milanjovanovic.tech/blog-covers/mnw_062.png"}],["meta",{"name":"twitter:image:alt","content":"Vertical Slice Architecture"}],["meta",{"property":"article:author","content":"Milan Jovanoviƒá"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"milanjovanovic.tech"}],["meta",{"property":"article:tag","content":"cs"}],["meta",{"property":"article:tag","content":"c#"}],["meta",{"property":"article:tag","content":"csharp"}],["meta",{"property":"article:tag","content":"dotnet"}],["meta",{"property":"article:published_time","content":"2023-11-04T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Vertical Slice Architecture\\",\\"image\\":[\\"https://milanjovanovic.tech/blogs/mnw_062/clean_architecture.png?imwidth=3840\\",\\"https://milanjovanovic.tech/blogs/mnw_062/vertical_slice_architecture.png?imwidth=3840\\",\\"https://milanjovanovic.tech/blogs/mnw_062/vertical_slices.png?imwidth=3840\\"],\\"datePublished\\":\\"2023-11-04T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Milan Jovanoviƒá\\"}]}"]],"prev":"/programming/cs/articles/README.md","date":"2023-11-04T00:00:00.000Z","isOriginal":false,"author":"Milan Jovanoviƒá","cover":"https://milanjovanovic.tech/blog-covers/mnw_062.png"},"headers":[{"level":2,"title":"The Problem With Layered Architectures","slug":"the-problem-with-layered-architectures","link":"#the-problem-with-layered-architectures","children":[]},{"level":2,"title":"What is Vertical Slice Architecture?","slug":"what-is-vertical-slice-architecture","link":"#what-is-vertical-slice-architecture","children":[]},{"level":2,"title":"Implementing Vertical Slices","slug":"implementing-vertical-slices","link":"#implementing-vertical-slices","children":[]},{"level":2,"title":"Solution Structure With REPR Pattern","slug":"solution-structure-with-repr-pattern","link":"#solution-structure-with-repr-pattern","children":[]},{"level":2,"title":"Next Steps","slug":"next-steps","link":"#next-steps","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":3.95,"words":1186},"filePathRelative":"milanjovanovic.tech/vertical-slice-architecture.md","localizedDate":"2023ÎÖÑ 11Ïõî 4Ïùº","excerpt":"\\n","copyright":{"author":"Milan Jovanoviƒá"}}');export{he as comp,ue as data};
