import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,b as t,t as l,e,n,g as s,f as c,r as p,o as u}from"./app-BgNevrm5.js";const d={},m={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},h={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},w=t("nav",{class:"table-of-contents"},[t("ul")],-1),f=t("hr",null,null,-1),b=c(`<blockquote><p>Updated for Xcode 15</p></blockquote><p>Use the <code>@Attribute(.unique)</code> macro to mark properties as being unique in your model, meaning that SwiftData will not allow more than one object with that value.</p><p>For example, we could create a model that ensures all credit card numbers must be unique:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Model</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">CreditCard</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token attribute atrule">@Attribute</span><span class="token punctuation">(</span><span class="token punctuation">.</span>unique<span class="token punctuation">)</span> <span class="token keyword">var</span> number<span class="token punctuation">:</span> <span class="token class-name">Int</span></span>
<span class="line">    <span class="token keyword">var</span> balance<span class="token punctuation">:</span> <span class="token class-name">Decimal</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> balance<span class="token punctuation">:</span> <span class="token class-name">Decimal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>number <span class="token operator">=</span> number</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>balance <span class="token operator">=</span> balance</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This attribute has two important side effects that are not apparent from the code:</p><ol><li>Unique attributes are not supported by CloudKit, and if you attempt to use them your model container will simply refuse to load.</li><li>If you create an object using a unique value, then attempt to create a <em>second</em> object using the same unique value, SwiftData will detect this and perform an upsert rather than an insert.</li></ol><p>Upserts are SwiftData‚Äôs way of trying to honor your request for uniqueness, but also to ensure no data is lost: rather than trying to insert a duplicate value for the unique property, SwiftData instead locates the existing object with that unique property, and updates its other properties to match the values you attempted to insert.</p><p>So, using our credit card example the following might happen:</p><ol><li>We create a new credit card using the number 1234.</li><li>We set the balance that to be $1000.</li><li>We create a second credit card using the number 1234.</li><li>We set the balance of that to be $0.</li></ol><p>SwiftData will not allow us to have two credit cards with the same number, because we marked that attribute as unique, so instead when that code finishes we‚Äôll have just one card with a balance of $0 ‚Äì the most recent value.</p>`,10);function k(i,g){const a=p("VPCard");return u(),r("div",null,[t("h1",m,[t("a",h,[t("span",null,l(i.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(a,n(s({title:"SwiftData by Example",desc:"Back to Home",link:"/hackingwithswift.com/swiftdata/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),w,f,e(a,n(s({title:"How to make unique attributes in a SwiftData mode | SwiftData by Example",desc:"How to make unique attributes in a SwiftData mode",link:"https://hackingwithswift.com/quick-start/swiftdata/how-to-make-unique-attributes-in-a-swiftdata-model",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),b])}const q=o(d,[["render",k],["__file","how-to-make-unique-attributes-in-a-swiftdata-model.html.vue"]]),_=JSON.parse('{"path":"/hackingwithswift.com/swiftdata/how-to-make-unique-attributes-in-a-swiftdata-model.html","title":"How to make unique attributes in a SwiftData mode","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"How to make unique attributes in a SwiftData mode","description":"Article(s) > How to make unique attributes in a SwiftData mode","category":["Swift","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swiftdata","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > How to make unique attributes in a SwiftData mode"},{"property":"og:description","content":"How to make unique attributes in a SwiftData mode"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swiftdata/how-to-make-unique-attributes-in-a-swiftdata-model.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swiftdata/how-to-make-unique-attributes-in-a-swiftdata-model.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"How to make unique attributes in a SwiftData mode"}],["meta",{"property":"og:description","content":"Article(s) > How to make unique attributes in a SwiftData mode"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swiftdata"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:published_time","content":"2023-09-30T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to make unique attributes in a SwiftData mode\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-09-30T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"date":"2023-09-30T00:00:00.000Z","isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":1.48,"words":444},"filePathRelative":"hackingwithswift.com/swiftdata/how-to-make-unique-attributes-in-a-swiftdata-model.md","localizedDate":"2023ÎÖÑ 9Ïõî 30Ïùº","excerpt":"\\n"}');export{q as comp,_ as data};
