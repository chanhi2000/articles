import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,b as n,t as l,e as s,n as t,g as e,f as c,r,o as u}from"./app-BgNevrm5.js";const d={},f={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},h={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},k=n("nav",{class:"table-of-contents"},[n("ul")],-1),m=n("hr",null,null,-1),y=c(`<p>Many Swift game projects use this Fisher-Yates array shuffle algorithm implemented in Swift by Nate Cook:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">extension</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token punctuation">(</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">(</span><span class="token function">arc4random_uniform</span><span class="token punctuation">(</span><span class="token class-name">UInt32</span><span class="token punctuation">(</span>count <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> i</span>
<span class="line">            <span class="token function">swapAt</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>With GameplayKit there&#39;s a specific method you can call that does a similar thing: <code>arrayByShufflingObjects(in:)</code>. I say &quot;similar thing&quot; rather than &quot;identical thing&quot; because the GameplayKit returns a new array rather than modifying the original, whereas Nate&#39;s version shuffles in place.</p><p>For example, if you wanted to blithely ignore the inevitable legalities and set up a lottery in your neighborhood, you could create an array containing the numbers 1 to 49, randomize its order, then pick the first six balls:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> lotteryBalls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">...</span><span class="token number">49</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">let</span> shuffledBalls <span class="token operator">=</span> <span class="token class-name">GKRandomSource</span><span class="token punctuation">.</span><span class="token function">sharedRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arrayByShufflingObjects</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> lotteryBalls<span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>shuffledBalls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>shuffledBalls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>shuffledBalls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>shuffledBalls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>shuffledBalls<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>shuffledBalls<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that I&#39;m using the default system randomization because determinism is exactly what you <em>don&#39;t</em> want in a lottery. Actually, forget it: if you&#39;re going to ignore the law and set up your own lottery, you might as well fix it so you win, right?</p><p>One of the advantages of GameplayKit&#39;s randomization is that it is truly deterministic, even across devices. This means as long as you tell it where to start, it will produce the same series of random numbers in the future. This is perfect for our evil lottery plan, and it gives me the chance to show you one last thing: seeding GameplayKit&#39;s random sources.</p><p>When we created our random seeds earlier, we just used this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> mersenne <span class="token operator">=</span> <span class="token class-name">GKMersenneTwisterRandomSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That creates a new Mersenne Twister random source with a random starting point. But if you want to force a starting point ‚Äì either because you want to win your lottery or because you want players in a network game to be synchronized ‚Äì you can create your random source with a specific <em>seed</em>, which is a fixed starting point.</p><p>When you use a seed value, your random number generator becomes predictable ‚Äì you can always predict exactly what ‚Äúrandom‚Äù numbers get generated. But that&#39;s OK, because you can generate the seeds using a separate random number generator, so you&#39;re guaranteed uniqueness.</p><p>Here&#39;s our lottery example rewritten using a fixed seed value of 1001:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> fixedLotteryBalls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">...</span><span class="token number">49</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">let</span> fixedShuffledBalls <span class="token operator">=</span> <span class="token class-name">GKMersenneTwisterRandomSource</span><span class="token punctuation">(</span>seed<span class="token punctuation">:</span> <span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arrayByShufflingObjects</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> fixedLotteryBalls<span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>fixedShuffledBalls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>fixedShuffledBalls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>fixedShuffledBalls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>fixedShuffledBalls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>fixedShuffledBalls<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>fixedShuffledBalls<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you run that code now you&#39;ll see that the balls are shuffled identically every time. It&#39;s a random order, but <em>predictably</em> random if you know what I mean!</p>`,14);function g(i,b){const a=r("VPCard");return u(),o("div",null,[n("h1",f,[n("a",h,[n("span",null,l(i.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),s(a,t(e({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),k,m,s(a,t(e({title:"Shuffling an array with GameplayKit: arrayByShufflingObjects(in:) | Hacking with iOS",desc:"Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)",link:"https://hackingwithswift.com/read/35/6/shuffling-an-array-with-gameplaykit-arraybyshufflingobjectsin",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),y])}const S=p(d,[["render",g],["__file","06-shuffling-an-array-with-gameplaykit-arraybyshufflingobjectsin.html.vue"]]),B=JSON.parse('{"path":"/hackingwithswift.com/read/35/06-shuffling-an-array-with-gameplaykit-arraybyshufflingobjectsin.html","title":"Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)","description":"Article(s) > Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)"},{"property":"og:description","content":"Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/35/06-shuffling-an-array-with-gameplaykit-arraybyshufflingobjectsin.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/35/06-shuffling-an-array-with-gameplaykit-arraybyshufflingobjectsin.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)"}],["meta",{"property":"og:description","content":"Article(s) > Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Shuffling an array with GameplayKit: arrayByShufflingObjects(in:)\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":2.05,"words":614},"filePathRelative":"hackingwithswift.com/read/35/06-shuffling-an-array-with-gameplaykit-arraybyshufflingobjectsin.md","excerpt":"\\n"}');export{S as comp,B as data};
