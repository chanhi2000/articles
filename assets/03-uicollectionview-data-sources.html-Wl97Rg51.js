import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,b as e,t as p,e as t,n as a,g as s,f as d,r as o,o as u}from"./app-BgNevrm5.js";const h={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},m={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},k=e("nav",{class:"table-of-contents"},[e("ul")],-1),g=e("hr",null,null,-1),f=d(`<p>We‚Äôve now modified the user interface so that it considers <code>ViewController</code> to be a collection view controller, but we haven‚Äôt implemented any of the data source methods to make that work. This works just like table views, so we get questions like ‚Äúhow many items are there?‚Äù and ‚Äúwhat‚Äôs in item number 1?‚Äù that we need to provide sensible answers for.</p><p>To begin with, let&#39;s put together the most basic implementation that allows our app to work. Normally this would be straightforward, but here we have a small complication: when we call <code>dequeueReusableCell(withReuseIdentifier:for:)</code> we‚Äôll be sent back a regular <code>UICollectionViewCell</code> rather than our custom <code>PersonCell</code> type.</p><p>We can fix that we‚Äôll add a conditional typecast, but that adds a <em>second</em> problem: what do we do if our typecast fails? That is, what if we expected to get a <code>PersonCell</code> but actually got back a regular <code>UICollectionViewCell</code> instead? If this happens it means something is fundamentally broken in our app ‚Äì we screwed up in the storyboard, probably. As a result, we need to get out immediately; there‚Äôs no point trying to make our app limp onwards when something is really broken.</p><p>So, we‚Äôre going to be using a new function called <code>fatalError()</code>. When called this will unconditionally make your app crash ‚Äì it will die immediately, and print out any message you provide to it. That might sound awful, but:</p><ol><li>You should only call this when things really are bad and you don‚Äôt want to continue ‚Äì it‚Äôs really only a sense check to make sure everything is as we expect.</li><li>Swift knows that <code>fatalError()</code> always causes a crash, so we can use it to escape from a method that has a return value <em>without sending anything back</em>. This makes it really convenient to use in places like our current scenario.</li></ol><p>It‚Äôs best if you see <code>fatalError()</code> in some real code, so add these two methods now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">collectionView</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> collectionView<span class="token punctuation">:</span> <span class="token class-name">UICollectionView</span><span class="token punctuation">,</span> numberOfItemsInSection section<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">10</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">collectionView</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> collectionView<span class="token punctuation">:</span> <span class="token class-name">UICollectionView</span><span class="token punctuation">,</span> cellForItemAt indexPath<span class="token punctuation">:</span> <span class="token class-name">IndexPath</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">UICollectionViewCell</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">guard</span> <span class="token keyword">let</span> cell <span class="token operator">=</span> collectionView<span class="token punctuation">.</span><span class="token function">dequeueReusableCell</span><span class="token punctuation">(</span>withReuseIdentifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Person&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">for</span><span class="token punctuation">:</span> indexPath<span class="token punctuation">)</span> <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">PersonCell</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// we failed to get a PersonCell ‚Äì bail out!</span></span>
<span class="line">        <span class="token function">fatalError</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Unable to dequeue PersonCell.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// if we&#39;re still here it means we got a PersonCell, so we can return it</span></span>
<span class="line">    <span class="token keyword">return</span> cell</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We haven&#39;t looked at any of this code before, so I want to pull it apart in detail before continuing:</p><ul><li><code>collectionView(_:numberOfItemsInSection:)</code> This must return an integer, and tells the collection view how many items you want to show in its grid. I&#39;ve returned 10 from this method, but soon we&#39;ll switch to using an array.</li><li><code>collectionView(_:cellForItemAt:)</code> This must return an object of type <code>UICollectionViewCell</code>. We already designed a prototype in Interface Builder, and configured the <code>PersonCell</code> class for it, so we need to create and return one of these.</li><li><code>dequeueReusableCell(withReuseIdentifier:for:)</code> This creates a collection view cell using the reuse identified we specified, in this case &quot;Person&quot; because that was what we typed into Interface Builder earlier. But just like table views, this method will automatically try to reuse collection view cells, so as soon as a cell scrolls out of view it can be recycled so that we don&#39;t have to keep creating new ones.</li></ul><p>Note that we need to typecast our collection view cell as a <code>PersonCell</code> because we&#39;ll soon want to access its <code>imageView</code> and <code>name</code> outlets.</p><p>These two new methods both come from collection views, but I think you‚Äôll find them both remarkably similar to the table view methods we‚Äôve been using so far ‚Äì you can go back and open project 1 again to see just how similar!</p><p>Press <kbd>Cmd</kbd>+<kbd>R</kbd> to run your project now, and you&#39;ll see the beginning of things start to come together: the prototype cell you designed in Interface Builder will appear 10 times, and you can scroll up and down to view them all. As you&#39;ll see, you can fit two cells across the screen, which is what makes the collection view different to the table view. Plus, if you rotate to landscape you&#39;ll see it automatically (and beautifully) animates the movement of cells so they take up the full width.</p><figure><img src="https://hackingwithswift.com/img/books/hws/10-4@2x.png" alt="A UICollectionView filled with our basic cell design." tabindex="0" loading="lazy"><figcaption>A UICollectionView filled with our basic cell design.</figcaption></figure>`,13);function y(i,b){const n=o("VPCard"),l=o("VidStack");return u(),r("div",null,[e("h1",w,[e("a",m,[e("span",null,p(i.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(n,a(s({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),k,g,t(n,a(s({title:"UICollectionView data sources | Hacking with iOS",desc:"UICollectionView data sources",link:"https://hackingwithswift.com/read/10/3/uicollectionview-data-sources",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),t(l,{src:"youtube/JideUGciPiE"}),f])}const I=c(h,[["render",y],["__file","03-uicollectionview-data-sources.html.vue"]]),V=JSON.parse('{"path":"/hackingwithswift.com/read/10/03-uicollectionview-data-sources.html","title":"UICollectionView data sources","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"UICollectionView data sources","description":"Article(s) > UICollectionView data sources","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > UICollectionView data sources"},{"property":"og:description","content":"UICollectionView data sources"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/10/03-uicollectionview-data-sources.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/10/03-uicollectionview-data-sources.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"UICollectionView data sources"}],["meta",{"property":"og:description","content":"Article(s) > UICollectionView data sources"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/img/books/hws/10-4@2x.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"UICollectionView data sources\\",\\"image\\":[\\"https://hackingwithswift.com/img/books/hws/10-4@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":2.9,"words":871},"filePathRelative":"hackingwithswift.com/read/10/03-uicollectionview-data-sources.md","excerpt":"\\n"}');export{I as comp,V as data};
