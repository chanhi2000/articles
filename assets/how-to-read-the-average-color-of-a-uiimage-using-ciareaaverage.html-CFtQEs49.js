import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,b as e,t as g,e as o,n as r,g as i,a as t,r as s,o as m}from"./app-BgNevrm5.js";const h={},d={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},p={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},u=e("nav",{class:"table-of-contents"},[e("ul")],-1),f=e("hr",null,null,-1),w=e("blockquote",null,[e("p",null,"Available from iOS 9.0")],-1),I=e("details",{class:"hint-container details"},[e("summary",null,"Similar solutions‚Ä¶"),t(`
/example-code/core-graphics/how-to-use-core-graphics-blend-modes-to-draw-a-uiimage-differently">How to use Core Graphics blend modes to draw a UIImage differently 
/example-code/media/how-to-save-a-uiimage-to-a-file-using-jpegdata-and-pngdata">How to save a UIImage to a file using jpegData() and pngData() 
/example-code/media/how-to-render-a-uiview-to-a-uiimage">How to render a UIView to a UIImage 
/example-code/media/how-to-pixellate-a-uiimage">How to pixellate a UIImage 
/example-code/media/cidetectortypeface-how-to-detect-faces-in-a-uiimage">CIDetectorTypeFace: How to detect faces in a UIImage</a>
`)],-1);function v(n,y){const a=s("VPCard");return m(),c("div",null,[e("h1",d,[e("a",p,[e("span",null,g(n.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),o(a,r(i({title:"Media - free Swift example code",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/example-code/media/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),u,f,o(a,r(i({title:"How to read the average color of a UIImage using CIAreaAverage | Media - free Swift example code",desc:"How to read the average color of a UIImage using CIAreaAverage",link:"https://hackingwithswift.com/example-code/media/how-to-read-the-average-color-of-a-uiimage-using-ciareaaverage",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),w,t(" TODO: ÏûëÏÑ± "),t(` 
Core Image has a filter that resamples an image down to 1x1 pixels so you can read the most dominant color in an image, although it‚Äôs weirdly hard to use. 

To simplify things, here‚Äôs an extension on \`UIImage\` that returns an optional \`UIColor\` ‚Äì it will be nil only if something went wrong while reading your image, but otherwise it will contain the average color for the entire image:

\`\`\`swift
extension UIImage {
    var averageColor: UIColor? {
        guard let inputImage = CIImage(image: self) else { return nil }
        let extentVector = CIVector(x: inputImage.extent.origin.x, y: inputImage.extent.origin.y, z: inputImage.extent.size.width, w: inputImage.extent.size.height)

        guard let filter = CIFilter(name: "CIAreaAverage", parameters: [kCIInputImageKey: inputImage, kCIInputExtentKey: extentVector]) else { return nil }
        guard let outputImage = filter.outputImage else { return nil }

        var bitmap = [UInt8](repeating: 0, count: 4)
        let context = CIContext(options: [.workingColorSpace: kCFNull])
        context.render(outputImage, toBitmap: &bitmap, rowBytes: 4, bounds: CGRect(x: 0, y: 0, width: 1, height: 1), format: .RGBA8, colorSpace: nil)

        return UIColor(red: CGFloat(bitmap[0]) / 255, green: CGFloat(bitmap[1]) / 255, blue: CGFloat(bitmap[2]) / 255, alpha: CGFloat(bitmap[3]) / 255)
    }
}
\`\`\`

As you can see, that reads in the source image and creates an extent for the full image. It then uses the ‚ÄúCIAreaAverage‚Äù filter to do the actual work, then renders the average color to a 1x1 image. Finally, it reads each of the color values into a \`UIColor\`, and sends it back.

`),I])}const A=l(h,[["render",v],["__file","how-to-read-the-average-color-of-a-uiimage-using-ciareaaverage.html.vue"]]),b=JSON.parse('{"path":"/hackingwithswift.com/example-code/media/how-to-read-the-average-color-of-a-uiimage-using-ciareaaverage.html","title":"How to read the average color of a UIImage using CIAreaAverage","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"How to read the average color of a UIImage using CIAreaAverage","description":"Article(s) > How to read the average color of a UIImage using CIAreaAverage","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swift-5.10","ios","ios-9.0","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > How to read the average color of a UIImage using CIAreaAverage"},{"property":"og:description","content":"How to read the average color of a UIImage using CIAreaAverage"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/example-code/media/how-to-read-the-average-color-of-a-uiimage-using-ciareaaverage.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/example-code/media/how-to-read-the-average-color-of-a-uiimage-using-ciareaaverage.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"How to read the average color of a UIImage using CIAreaAverage"}],["meta",{"property":"og:description","content":"Article(s) > How to read the average color of a UIImage using CIAreaAverage"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swift-5.10"}],["meta",{"property":"article:tag","content":"ios"}],["meta",{"property":"article:tag","content":"ios-9.0"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:published_time","content":"2020-07-07T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to read the average color of a UIImage using CIAreaAverage\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-07-07T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"date":"2020-07-07T00:00:00.000Z","isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":1.76,"words":528},"filePathRelative":"hackingwithswift.com/example-code/media/how-to-read-the-average-color-of-a-uiimage-using-ciareaaverage.md","localizedDate":"2020ÎÖÑ 7Ïõî 7Ïùº","excerpt":"\\n"}');export{A as comp,b as data};
