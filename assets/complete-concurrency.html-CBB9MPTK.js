import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,b as n,t as p,e as t,n as a,g as s,a as d,d as h,f as u,r as o,o as m}from"./app-BgNevrm5.js";const w={},g={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},f={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},k=n("nav",{class:"table-of-contents"},[n("ul")],-1),y=n("hr",null,null,-1),v=u(`<blockquote><p>Available from Swift 5.10</p></blockquote><p>Swift concurrency was introduced back in Swift 5.5, but had a bit of a rocky adoption both in Apple&#39;s own frameworks and our own projects. However, with Swift 5.10 the team made a rather dramatic statement: &quot;Swift 5.10 closes all known static data-race safety holes in complete strict concurrency checking.&quot;</p><p>Concurrency checking is what allows the compiler to verify our use of concurrent code is safe â€“ that we aren&#39;t accidentally sharing mutable state in a way that can cause race conditions. Of course, the key word here is &quot;known&quot;: everything they <em>know about</em> has been resolved.</p><p>Apple&#39;s work here is not only hugely innovative, but hugely <em>complex</em>: similar to how type inference requires the Swift compiler to be able to reason about how various parts of our code are used, in concurrency the compiler is effectively running a series of algorithms that attempt to determine conclusively that our code is concurrency-safe.</p><p>To give you a concrete example, this code generated a warning in Swift 5.9:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">struct</span> <span class="token class-name">ContentView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Tap Me&quot;</span></span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> doWork<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">func</span> <span class="token function-definition function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Hello&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That would throw up the rather unhelpful warning, &quot;Converting function value of type <code>@MainActor () -&gt; ()</code> to <code>() -&gt; Void</code> loses global actor MainActor&quot;.</p><p>The problem here is that SwiftUI&#39;s <code>Button</code> view doesn&#39;t use <code>@MainActor</code> for its action, so Swift was throwing up a warning that we were calling a main actor-method from somewhere that isn&#39;t isolated to the main actor. This warning has been removed by the concurrency checking improvements in Swift 5.10: the compiler can now see the button action exists in side the <code>body</code> property, which <em>is</em> isolated to the main actor, and therefore is safe.</p>`,8),b={class:"hint-container details"},_=n("summary",null,"Other Changes in Swift 5.10",-1),S={href:"https://hackingwithswift.com/files/playgrounds/swift/playground-5-9-to-5-10.playground.zip",target:"_blank",rel:"noopener noreferrer"};function A(i,C){const e=o("VPCard"),c=o("FontIcon");return m(),l("div",null,[n("h1",g,[n("a",f,[n("span",null,p(i.$frontmatter.title)+" ê´€ë ¨",1)])]),t(e,a(s({title:"HACKING WITH SWIFT",desc:"What's new in Swift?",link:"/hackingwithswift.com/swift/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),k,y,t(e,a(s({title:"Data races are now clearly diagnosed | Changes in Swift 5.10",desc:"Data races are now clearly diagnosed",link:"https://hackingwithswift.com/swift/5.10/complete-concurrency",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),v,n("details",b,[_,d(` 
\`\`\`component VPCard
{
  "title": "Data races are now clearly diagnosed | Changes in Swift 5.10",
  "desc": "Data races are now clearly diagnosed",
  "link": "/hackingwithswift.com/swift/5.10/complete-concurrency.md",
  "logo": "https://hackingwithswift.com/favicon.svg",
  "background": "rgba(54,94,226,0.2)"
}
\`\`\`
`),t(e,a(s({title:"Allow Protocols to be Nested in Non-Generic Contexts | Changes in Swift 5.10",desc:"Allow Protocols to be Nested in Non-Generic Contexts",link:"/hackingwithswift.com/swift/5.10/nested-protocols.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),t(e,a(s({title:"Deprecate @UIApplicationMain and @NSApplicationMain | Changes in Swift 5.10",desc:"Deprecate @UIApplicationMain and @NSApplicationMain",link:"/hackingwithswift.com/swift/5.10/deprecate-uiapplicationmain.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),t(e,a(s({title:"Refined actor initialization and deinitialization | Changes in Swift 5.10",desc:"Refined actor initialization and deinitialization",link:"/hackingwithswift.com/swift/5.10/actor-initialization.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),n("p",null,[n("a",S,[t(c,{icon:"fas fa-file-zipper"}),h("Download Swift 5.10 playground")])])])])}const N=r(w,[["render",A],["__file","complete-concurrency.html.vue"]]),x=JSON.parse('{"path":"/hackingwithswift.com/swift/5.10/complete-concurrency.html","title":"Data races are now clearly diagnosed","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Data races are now clearly diagnosed","description":"Article(s) > Data races are now clearly diagnosed","category":["Swift","Article(s)"],"tag":["blog","hackingwithswift.com","swift","swift-5.10"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Data races are now clearly diagnosed"},{"property":"og:description","content":"Data races are now clearly diagnosed"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swift/5.10/complete-concurrency.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swift/5.10/complete-concurrency.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Data races are now clearly diagnosed"}],["meta",{"property":"og:description","content":"Article(s) > Data races are now clearly diagnosed"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swift-5.10"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Data races are now clearly diagnosed\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":1.88,"words":565},"filePathRelative":"hackingwithswift.com/swift/5.10/complete-concurrency.md","excerpt":"\\n"}');export{N as comp,x as data};
