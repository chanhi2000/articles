import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,b as e,t as w,e as n,n as i,g as r,d as t,f as l,r as a,o as u}from"./app-BgNevrm5.js";const m={},g={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},f=e("nav",{class:"table-of-contents"},[e("ul")],-1),y=e("hr",null,null,-1),k=e("p",null,[t("In our first two projects we used Interface Builder for a lot of layout work, but here our layout will be so simple that we can do the entire thing in code. You see, before we were adding buttons and images to our view, but in this project the web view is going to take up all the space so it might as well "),e("em",null,"be"),t(" the view controller's main view.")],-1),v=e("p",null,[t("So far, we've been using the "),e("code",null,"viewDidLoad()"),t(" method to configure our view once its layout has loaded. This time we need to override the actual loading of the view because we don't want that empty thing on the storyboard, we want our own code. It will still be placed inside the navigation controller, but the rest is up to us.")],-1),W=e("code",null,"WKWebView",-1),_=e("code",null,"ViewController.swift",-1),V=l(`<div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token class-name">WebKit</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>When we create the web view, we need to store it as a property so we can reference it later on. So, add this property to the class now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> webView<span class="token punctuation">:</span> <span class="token class-name">WKWebView</span><span class="token operator">!</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Finally, add this new method <em>before</em> <code>viewDidLoad()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">loadView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    webView <span class="token operator">=</span> <span class="token class-name">WKWebView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    webView<span class="token punctuation">.</span>navigationDelegate <span class="token operator">=</span> <span class="token keyword">self</span></span>
<span class="line">    view <span class="token operator">=</span> webView</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That code will trigger a compiler error for now, but we‚Äôll fix it in a moment.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>You don‚Äôt need to put <code>loadView()</code> before <code>viewDidLoad()</code>, and in fact you could put it anywhere between <code>class ViewController: UIViewController {</code> down to the last closing brace in the file. However, I encourage you to structure your methods in an organized way, and because <code>loadView()</code> gets called before <code>viewDidLoad()</code> it makes sense to position the code above it too.</p></div><p>Anyway, there are only three things we care about, because by now you should understand why we need to use the <code>override</code> keyword. (Hint: it&#39;s because there&#39;s a default implementation, which is to load the layout from the storyboard.)</p><p>First, we create a new instance of Apple&#39;s <code>WKWebView</code> web browser component and assign it to the <code>webView</code> property. Third, we make our view (the root view of the view controller) that web view.</p><p>Yes, I missed out the second line, and that&#39;s because it introduces new concept: delegation. Delegation is what&#39;s called a <em>programming pattern</em> ‚Äì a way of writing code ‚Äì and it&#39;s used extensively in iOS. And for good reason: it&#39;s easy to understand, easy to use, and extremely flexible.</p><p>A <em>delegate</em> is one thing acting in place of another, effectively answering questions and responding to events on its behalf. In our example, we&#39;re using WKWebView: Apple&#39;s powerful, flexible and efficient web renderer. But as smart as <code>WKWebView</code> is, it doesn&#39;t know (or care) how our application wants to behave, because that&#39;s our custom code.</p><p>The delegation solution is brilliant: we can tell <code>WKWebView</code> that we want to be informed when something interesting happens. In our code, we&#39;re setting the web view&#39;s <code>navigationDelegate</code> property to <code>self</code>, which means &quot;when any web page navigation happens, please tell me ‚Äì the current view controller.‚Äù</p><p>When you do this, two things happen:</p><ol><li>You must conform to the protocol. This is a fancy way of saying, &quot;if you&#39;re telling me you can handle being my delegate, here are the methods you need to implement.&quot; In the case of <code>navigationDelegate</code>, all these methods are optional, meaning that we don&#39;t <em>need</em> to implement any methods.</li><li>Any methods you do implement will now be given control over the <code>WKWebView</code>&#39;s behavior. Any you don&#39;t implement will use the default behavior of <code>WKWebView</code>.</li></ol><p>Before we go any further, it‚Äôs time to fix the compilation error. When you set any delegate, you need to conform to the protocol that matches the delegate. Yes, all the <code>navigationDelegate</code> protocol methods are optional, but Swift doesn&#39;t know that yet. All it knows is that we&#39;re promising we&#39;re a suitable delegate for the web view, and yet haven&#39;t implemented the protocol.</p><p>The fix for this is simple, but I&#39;m going to hijack it to introduce something else at the same time, because this is an opportune moment. First, the fix: find this line:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">ViewController</span><span class="token punctuation">:</span> <span class="token class-name">UIViewController</span> <span class="token punctuation">{</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>‚Ä¶and change it to this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">ViewController</span><span class="token punctuation">:</span> <span class="token class-name">UIViewController</span><span class="token punctuation">,</span> <span class="token class-name">WKNavigationDelegate</span> <span class="token punctuation">{</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That&#39;s the fix. But what I want to discuss is the way <code>ViewController</code> now appears to inherit from two things, which isn‚Äôt possible in Swift. As you know, when we say <code>class A: B</code> we‚Äôre defining a new class called <code>A</code> that builds on the functionality provided by class <code>B</code>. However, when we say <code>class A: B, C</code> we‚Äôre saying it inherits from <code>UIViewController</code> (the first item in the list), <em>and</em> promises it implements the <code>WKNavigationDelegate</code> protocol.</p><p>The order here really is important: the parent class (superclass) comes first, then all protocols implemented come next, all separated by commas. We&#39;re saying that we conform to only one protocol here ( <code>WKNavigationDelegate</code>) but you can specify as many as you need to.</p><p>So, the complete meaning of this line is &quot;create a new subclass of <code>UIViewController</code> called <code>ViewController</code>, and tell the compiler that we promise we‚Äôre safe to use as a <code>WKNavigationDelegate</code>.&quot;</p><p>This program is almost doing something useful, so before you run it let&#39;s add three more lines. Please place these in the <code>viewDidLoad()</code> method, just after the <code>super</code> call:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;https://hackingwithswift.com&quot;</span></span><span class="token punctuation">)</span><span class="token operator">!</span></span>
<span class="line">webView<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">URLRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> url<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">webView<span class="token punctuation">.</span>allowsBackForwardNavigationGestures <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24),x=e("code",null,"URL",-1),K={href:"https://hackingwithswift.com",target:"_blank",rel:"noopener noreferrer"},S=e("code",null,"URL",-1),C=e("code",null,"URL",-1),R={href:"https://hackingwithswift.com",target:"_blank",rel:"noopener noreferrer"},I=l('<div class="hint-container warning"><p class="hint-container-title">Warning</p><p><strong>you need to ensure you use <code>https://</code> for your websites, because iOS does not like apps sending or receiving data insecurely.</strong></p><p>If this is something you want to override, I wrote an article specifically about App Transport Security: &lt;/example-code/system/how-to-handle-the-https-requirements-in-ios-9-with-app-transport-security&gt;.</p></div><p>The second line does two things: it creates a new <code>URLRequest</code> object from that URL, and gives it to our web view to load.</p><p>Now, this probably seems like pointless obfuscation from Apple, but <code>WKWebViews</code> don&#39;t load websites from strings like www.hackingwithswift.com, or even from a <code>URL</code> made out of those strings. You need to turn the string into a <code>URL</code>, then put the <code>URL</code> into an <code>URLRequest</code>, and <code>WKWebView</code> will load <em>that</em>. Fortunately it&#39;s not hard to do!</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Your URL must be complete, and valid, in order for this process to work. That means including the <strong>https://</strong> part.</p></div><p>The third line enables a property on the web view that allows users to swipe from the left or right edge to move backward or forward in their web browsing. This is a feature from the Safari browser that many users rely on, so it&#39;s nice to keep it around.</p><p>It‚Äôs time to run the app, so please press <kbd>Cmd</kbd>+<kbd>R</kbd> to run your app, and you should be able to view your website. Step one done!</p><figure><img src="https://hackingwithswift.com/img/books/hws/4-1@2x.png" alt="Just by embedding a web view into the app, we can now render any website content ‚Äì win!" tabindex="0" loading="lazy"><figcaption>Just by embedding a web view into the app, we can now render any website content ‚Äì win!</figcaption></figure>',7);function L(c,A){const o=a("VPCard"),p=a("VidStack"),s=a("FontIcon");return u(),h("div",null,[e("h1",g,[e("a",b,[e("span",null,w(c.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),n(o,i(r({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),f,y,n(o,i(r({title:"Creating a simple browser with WKWebView | Hacking with iOS",desc:"Creating a simple browser with WKWebView",link:"https://hackingwithswift.com/read/4/2/creating-a-simple-browser-with-wkwebview",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),n(p,{src:"youtube/pLiT5DdjEbM"}),k,v,e("p",null,[t("iOS has two different ways of working with web views, but the one we‚Äôll be using for this project is called "),W,t(". It‚Äôs part of the WebKit framework rather than the UIKit framework, but we can import it by adding this line to the top of "),n(s,{icon:"fa-brands fa-swift"}),_,t(":")]),V,e("p",null,[t("The first line creates a new data type called "),x,t(", which is Swift‚Äôs way of storing the location of files. You‚Äôre probably already familiar with URLs as being used online, like with "),e("a",K,[n(s,{icon:"fas fa-globe"}),t("https://hackingwithswift.com")]),t(", but they are just as important for storing local filenames too ‚Äì they are flexible little things!")]),e("p",null,[t("Even though we‚Äôre used to URLs being strings of text, Swift stores URLs in a specific "),S,t(" data type that adds a lot of extra functionality. So, that first line of code creates a new "),C,t(" out of the string ‚Äú"),e("a",R,[n(s,{icon:"fas fa-globe"}),t("https://hackingwithswift.com")]),t("‚Äù. I'm using hackingwithswift.com as an example website, but please change it to something you like.")]),I])}const D=d(m,[["render",L],["__file","02-creating-a-simple-browser-with-wkwebview.html.vue"]]),j=JSON.parse('{"path":"/hackingwithswift.com/read/04/02-creating-a-simple-browser-with-wkwebview.html","title":"Creating a simple browser with WKWebView","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Creating a simple browser with WKWebView","description":"Article(s) > Creating a simple browser with WKWebView","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Creating a simple browser with WKWebView"},{"property":"og:description","content":"Creating a simple browser with WKWebView"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/04/02-creating-a-simple-browser-with-wkwebview.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/04/02-creating-a-simple-browser-with-wkwebview.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Creating a simple browser with WKWebView"}],["meta",{"property":"og:description","content":"Article(s) > Creating a simple browser with WKWebView"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/img/books/hws/4-1@2x.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Creating a simple browser with WKWebView\\",\\"image\\":[\\"https://hackingwithswift.com/img/books/hws/4-1@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":5.01,"words":1504},"filePathRelative":"hackingwithswift.com/read/04/02-creating-a-simple-browser-with-wkwebview.md","excerpt":"\\n"}');export{D as comp,j as data};
