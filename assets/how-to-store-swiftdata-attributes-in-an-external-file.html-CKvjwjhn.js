import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,b as t,t as l,e,n as s,g as n,f as c,r as p,o as d}from"./app-BgNevrm5.js";const u={},h={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},m={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},f=t("nav",{class:"table-of-contents"},[t("ul")],-1),w=t("hr",null,null,-1),g=c(`<blockquote><p>Updated for Xcode 15</p></blockquote><p>SwiftData is great for storing information such as strings, integers, dates, and custom <code>Codable</code> objects, but if you‚Äôre storing <em>larger</em> data such as images or even movies it‚Äôs a good idea to have SwiftData store them in external, peripheral files, then reference those filenames in your SwiftData object.</p><p>Helpfully, SwiftData makes this trivial using the <code>.externalStorage</code> attribute, which suggests to SwiftData that this data is best stored separately. It will, if needed, stash that data externally from your main SwiftData storage, store only the filename to the external data, then transparently connect the two so you don‚Äôt need to take any further action ‚Äì for the most part external data behaves no differently from internal data.</p><p>For example, if you were storing a game player‚Äôs avatar, you might have code like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Model</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token keyword">var</span> score<span class="token punctuation">:</span> <span class="token class-name">Int</span></span>
<span class="line">    <span class="token attribute atrule">@Attribute</span><span class="token punctuation">(</span><span class="token punctuation">.</span>externalStorage<span class="token punctuation">)</span> <span class="token keyword">var</span> avatar<span class="token punctuation">:</span> <span class="token class-name">Data</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> score<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> avatar<span class="token punctuation">:</span> <span class="token class-name">Data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>avatar <span class="token operator">=</span> avatar</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can combine this with other attributes, such as encryption, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Attribute</span><span class="token punctuation">(</span><span class="token punctuation">.</span>externalStorage<span class="token punctuation">,</span> <span class="token punctuation">.</span>allowsCloudEncryption<span class="token punctuation">)</span> <span class="token keyword">var</span> avatar<span class="token punctuation">:</span> <span class="token class-name">Data</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>There are three important provisos when dealing with external storage, and it‚Äôs important that you‚Äôre aware of them.</p><p>First, the <code>.externalStorage</code> attributes merely <em>suggests</em> to SwiftData that some information is best stored outside the main SQLite data store, but it doesn‚Äôt have to honor that request. In my tests with this attribute, SwiftData seems happy to store up to about 128K of a <code>Data</code> object right inside its main storage area, with larger data automatically being saved externally.</p><p>Second, if you‚Äôre using <code>String</code> rather than <code>Data</code>, SwiftData seems happy to store strings of unlimited size without using external files at all no matter whether you use the attribute or not.</p><p>Third, for the most part all this is an implementation detail: whether the data is stored right inside the database or not doesn‚Äôt matter to us, because it‚Äôs loaded and saved the same as internal data. However, you can‚Äôt use externally stored properties inside predicates, because the external files aren‚Äôt visible to the underlying data store ‚Äì if you see an error message like <strong>[Foundation.__NSSwiftData _bytesPtrForStore]: unrecognized selector sent to instance 0x600000c74ae0 with userInfo of (null)</strong> chances are you might have fallen into this trap.</p>`,11);function k(o,b){const a=p("VPCard");return d(),r("div",null,[t("h1",h,[t("a",m,[t("span",null,l(o.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(a,s(n({title:"SwiftData by Example",desc:"Back to Home",link:"/hackingwithswift.com/swiftdata/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),f,w,e(a,s(n({title:"How to store SwiftData attributes in an external file | SwiftData by Example",desc:"How to store SwiftData attributes in an external file",link:"https://hackingwithswift.com/quick-start/swiftdata/how-to-store-swiftdata-attributes-in-an-external-file",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),g])}const x=i(u,[["render",k],["__file","how-to-store-swiftdata-attributes-in-an-external-file.html.vue"]]),S=JSON.parse('{"path":"/hackingwithswift.com/swiftdata/how-to-store-swiftdata-attributes-in-an-external-file.html","title":"How to store SwiftData attributes in an external file","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"How to store SwiftData attributes in an external file","description":"Article(s) > How to store SwiftData attributes in an external file","category":["Swift","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swiftdata","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > How to store SwiftData attributes in an external file"},{"property":"og:description","content":"How to store SwiftData attributes in an external file"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swiftdata/how-to-store-swiftdata-attributes-in-an-external-file.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swiftdata/how-to-store-swiftdata-attributes-in-an-external-file.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"How to store SwiftData attributes in an external file"}],["meta",{"property":"og:description","content":"Article(s) > How to store SwiftData attributes in an external file"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swiftdata"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:published_time","content":"2023-10-31T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to store SwiftData attributes in an external file\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-10-31T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"date":"2023-10-31T00:00:00.000Z","isOriginal":false},"headers":[],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":1.81,"words":544},"filePathRelative":"hackingwithswift.com/swiftdata/how-to-store-swiftdata-attributes-in-an-external-file.md","localizedDate":"2023ÎÖÑ 10Ïõî 31Ïùº","excerpt":"\\n"}');export{x as comp,S as data};
