import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,b as e,t as u,e as a,n as i,g as l,w as s,f as m,r,o as h,d as t}from"./app-BgNevrm5.js";const k={},y={id:"frontmatter-title-관련",tabindex:"-1"},v={class:"header-anchor",href:"#frontmatter-title-관련"},f={class:"table-of-contents"},b=e("hr",null,null,-1),w=m(`<blockquote><p>Updated for Xcode 15</p></blockquote><p>There are a great many ways to screw up your SwiftData code, and sometimes the error messages are less than helpful. In this article I&#39;m going to walk through the most common errors you&#39;ll face, and also provide suggestions for solutions.</p><hr><h2 id="circular-reference-resolving-attached-macro-relationship" tabindex="-1"><a class="header-anchor" href="#circular-reference-resolving-attached-macro-relationship"><span>Circular reference resolving attached macro &#39;Relationship&#39;</span></a></h2><p>This error happens when you have a relationship between two model types, but have used the <code>@Relationship</code> macro on both sides of the relationship.</p><p>Code like this triggers the issue:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Model</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token attribute atrule">@Relationship</span><span class="token punctuation">(</span>inverse<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token class-name">TestResult</span><span class="token punctuation">.</span>student<span class="token punctuation">)</span> <span class="token keyword">var</span> testResults<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">TestResult</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> testResults<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">TestResult</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>testResults <span class="token operator">=</span> testResults</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute atrule">@Model</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">TestResult</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> subject<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token keyword">var</span> score<span class="token punctuation">:</span> <span class="token class-name">Int</span></span>
<span class="line">    <span class="token attribute atrule">@Relationship</span><span class="token punctuation">(</span>inverse<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token class-name">Student</span><span class="token punctuation">.</span>testResults<span class="token punctuation">)</span> <span class="token keyword">var</span> student<span class="token punctuation">:</span> <span class="token class-name">Student</span><span class="token operator">?</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>subject<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> score<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> student<span class="token punctuation">:</span> <span class="token class-name">Student</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>subject <span class="token operator">=</span> subject</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>student <span class="token operator">=</span> student</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Swift is unable to resolve this relationship because both sides depend on each other.</p><p>To solve the problem, remove one of the <code>@Relationship</code> macros. For example, I&#39;d edit the <code>student</code> property of <code>TestResult</code> to this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> student<span class="token punctuation">:</span> <span class="token class-name">Student</span><span class="token operator">?</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="nsfetchrequest-could-not-locate-an-nsentitydescription-for-entity-name-yourmodelname" tabindex="-1"><a class="header-anchor" href="#nsfetchrequest-could-not-locate-an-nsentitydescription-for-entity-name-yourmodelname"><span><code>NSFetchRequest</code> could not locate an <code>NSEntityDescription</code> for entity name YourModelName</span></a></h2><p>This usually happens because you&#39;ve written code to read a model but haven&#39;t added it to your model container.</p><p>To solve this, look for your <code>modelContainer()</code> modifier and make sure it includes all the model types you&#39;re using in your app.</p><p>For example, if the error says it can&#39;t find the entity name Painting, you&#39;d need something like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">modelContainer</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">Painting</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="set-a-modelcontext-in-view-s-environment-to-use-query" tabindex="-1"><a class="header-anchor" href="#set-a-modelcontext-in-view-s-environment-to-use-query"><span>Set a <code>.modelContext</code> in view&#39;s environment to use Query</span></a></h2><p>This error appears at runtime when you&#39;ve forgotten to provide any model context to a view. This normally happens because you&#39;ve missed off the <code>modelContainer()</code> modifier entirely, or perhaps used it on one part of your view hierarchy rather than applying it to all views.</p><p>To solve this check that you have the correct <code>modelContainer()</code> modifier in place for your views, which usually means attaching it to your <code>WindowGroup</code>.</p><hr><h2 id="a-stored-property-cannot-be-named-description" tabindex="-1"><a class="header-anchor" href="#a-stored-property-cannot-be-named-description"><span>A stored property cannot be named &#39;description&#39;</span></a></h2><p>This error appears when you attempt to use the reserved property name <code>description</code> in any SwiftData model. This is used internally by Core Data, so SwiftData simply doesn&#39;t allow you to use it.</p><p>The solution is just to find another word for that string – content, details, text, message, etc.</p><hr><h2 id="illegal-attempt-to-establish-a-relationship-between-objects-in-different-contexts" tabindex="-1"><a class="header-anchor" href="#illegal-attempt-to-establish-a-relationship-between-objects-in-different-contexts"><span>&quot;Illegal attempt to establish a relationship between objects in different contexts</span></a></h2><p>This error appears when you&#39;re linking two model objects that exist across different model contexts, which includes (and arguably is more commonly found in) situations where one object has been inserted into your model context and the other has not.</p><p>Xcode&#39;s crash backtrace will point you to where the actual problem happened, where you&#39;ll probably find code similar to this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> mi2 <span class="token operator">=</span> <span class="token class-name">Movie</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Mission: Impossible 2&quot;</span></span><span class="token punctuation">,</span> releaseYear<span class="token punctuation">:</span> <span class="token number">2000</span><span class="token punctuation">,</span> cast<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">modelContext<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>mi2<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> cruise <span class="token operator">=</span> <span class="token class-name">Actor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Tom Cruise&quot;</span></span><span class="token punctuation">,</span> movies<span class="token punctuation">:</span> <span class="token punctuation">[</span>mi2<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">modelContext<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>cruise<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As you can see, that inserts <code>mi2</code> into the model context, then creates a new actor linked to that movie. This is creating a relationship where one object is in the model context and the other is not, which will trigger a crash.</p><p>The correct approach is to remove <code>modelContext.insert(mi2)</code> entirely: create the <code>Movie</code> object, then create the <code>Actor</code> model linking to it, and finally insert the actor into the context.</p><hr><h2 id="exc-bad-access-code-1-address-0x0" tabindex="-1"><a class="header-anchor" href="#exc-bad-access-code-1-address-0x0"><span><code>EXC_BAD_ACCESS (code=1, address=0x0)</code></span></a></h2><p>If this occurs you&#39;re in trouble, because it could mean a whole range of things. In my experience, I&#39;ve found this occurs the most when I&#39;ve accidentally used a predicate that isn&#39;t supported by SwiftData – one that compiles cleanly, but crashes at runtime. If Xcode resolves the error to somewhere next to a <code>#Predicate</code> usage, well done: this is your error!</p><p>For example, if we have an <code>Author</code> model like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Model</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Author</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token keyword">var</span> books<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> books<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>books <span class="token operator">=</span> books</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then you might reasonably assume you could write a query like this one:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Query</span><span class="token punctuation">(</span>filter<span class="token punctuation">:</span> <span class="token other-directive property">#Predicate</span><span class="token operator">&lt;</span><span class="token class-name">Author</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token short-argument">$0</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;The Hobbit&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">var</span> authors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Author</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Certainly it compiles cleanly. However, it also triggers the dreaded <code>EXC_BAD_ACCESS</code>, because we&#39;re trying to search a string array in a predicate – something that isn&#39;t allowed in SwiftData.</p><p>To fix this you need to create a relationship rather than a simple array. Internally SwiftData sees something like <code>[String]</code> and uses <code>Codable</code> to convert it to a data blob that can be saved alongside its parent model. This makes it impossible to search by SQLite, the underlying data store.</p><p>So, you should create a second model and make a relationship with it, even if that model only has a single string property.</p><hr><h2 id="model-requires-an-initializer-be-provided-for-yourmodelname" tabindex="-1"><a class="header-anchor" href="#model-requires-an-initializer-be-provided-for-yourmodelname"><span><code>@Model</code> requires an initializer be provided for &#39;YourModelName&#39;</span></a></h2><p>All SwiftData models ned an initializer, even if they have default values for all their properties.</p><p>To solve this problem, create an initializer of any kind inside your model. This can be completely empty if you have default values already assigned, but I tend to use the initializer that&#39;s autocompleted by Xcode.</p><hr><h2 id="fatal-error-duplicate-registration-attempt-for-object-with-id" tabindex="-1"><a class="header-anchor" href="#fatal-error-duplicate-registration-attempt-for-object-with-id"><span>Fatal error: Duplicate registration attempt for object with id</span></a></h2><p>This error occurs when you&#39;re inserting the same object twice, and usually then because of a relationship.</p><p>Let&#39;s say you have a <code>School</code> model that has an array of <code>Student</code> objects. If you create a school then add some students to it, there&#39;s a problem: do you need to insert the school and all the students, just the school, or just the students?</p><p>SwiftData works hard to ensure your data remains consistent, so it automatically inserts related data for you. In this case, it&#39;s enough to insert the school object, because SwiftData will insert all the students that belong to it automatically.</p><p>However if you try to do both – if you try to insert the school and also the students – you&#39;ll get the error above: &quot;Fatal error: Duplicate registration attempt for object with id…&quot;</p><p>To solve it, look at the line that threw the error, because that will tell you the second place the object is being inserted. Now work backwards: was that object related to something else that you already inserted? Remove one of the two insertions, and the problem should go away.</p><hr><h2 id="coredata-warning-validation-recovery-attempt-failed-with-error-domain-nscocoaerrordomain-code-1570-property-is-a-required-value" tabindex="-1"><a class="header-anchor" href="#coredata-warning-validation-recovery-attempt-failed-with-error-domain-nscocoaerrordomain-code-1570-property-is-a-required-value"><span>CoreData: warning: validation recovery attempt FAILED with Error Domain=NSCocoaErrorDomain Code=1570 &quot;%{PROPERTY}@ is a required value.&quot;</span></a></h2><p>This runtime error will trigger a crash in your app, and it&#39;s the result of your data being in an inconsistent state. SwiftData generally avoids creating rules that can lead to this error, which usually means it&#39;s the result of your specific setup.</p><p>As an example, here are <code>School</code> and <code>Student</code> models that can trigger the error:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Model</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">School</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token attribute atrule">@Relationship</span><span class="token punctuation">(</span>inverse<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token class-name">Student</span><span class="token punctuation">.</span>school<span class="token punctuation">)</span> <span class="token keyword">var</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Student</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Student</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>students <span class="token operator">=</span> students</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute atrule">@Model</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token keyword">var</span> school<span class="token punctuation">:</span> <span class="token class-name">School</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> school<span class="token punctuation">:</span> <span class="token class-name">School</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>school <span class="token operator">=</span> school</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That sets each school has an array of students, and each student belongs to a school. That sounds sensible, but notice how I&#39;ve used the <code>@Relationship</code> macro there – I&#39;ve explicitly specified the inverse relationship, because without that SwiftData won&#39;t infer it for us.</p><p>The reason it won&#39;t infer is an important one: this is a dangerous relationship. The default delete rule for relationships is <code>.nullify</code>, which means &quot;set to nil any value that referred to me.&quot;</p><p>In our case, if we deleted a school from our data store, all the students would have their <code>school</code> property set to nil – something that isn&#39;t allowed, because we used <code>School</code> rather than <code>School?</code> for that property.</p><p>There are two ways to fix this problem, depending on what you want to happen:</p><ol><li>Set a <code>.cascade</code> delete rule for your relationship, ensuring that all students get deleted alongside their school.</li><li>Make the property in question optional, so that the default <code>.nullify</code> delete rule works.</li></ol><hr><h2 id="too-few-items-in-property-too-many-items-in-property" tabindex="-1"><a class="header-anchor" href="#too-few-items-in-property-too-many-items-in-property"><span>Too few items in <code>%{PROPERTY}@</code> / Too many items in <code>%{PROPERTY}@</code>.</span></a></h2><p>These messages appear when you&#39;ve used the <code>@Relationship</code> macro and provided too few or too many items in your relationship.</p><p>Annoyingly this problem is handled silently by SwiftData by default: when its autosave system detects the validation failure it simply doesn&#39;t save the invalid change. This can make it a little hard to find exactly what&#39;s causing the problem at first, but you should definitely start by searching your project for either <code>minimumModelCount</code> or <code>maximumModelCount</code> depending on which error you&#39;re receiving.</p><p>Once you&#39;ve found the offending data, you either need to avoid adding it to your relationship, or adjust the rules – one of the two has to change.</p><hr><h2 id="type-array-yourmodeltype-element-aka-yourmodeltype-does-not-conform-to-protocol-persistentmodel" tabindex="-1"><a class="header-anchor" href="#type-array-yourmodeltype-element-aka-yourmodeltype-does-not-conform-to-protocol-persistentmodel"><span>Type <code>Array&lt;YourModelType&gt;.Element</code> (aka &#39;YourModelType&#39;) does not conform to protocol &#39;PersistentModel&#39;</span></a></h2><p>This error occurs when you&#39;re using something as a SwiftData model that has not been marked with the <code>@Model</code> macro.</p><p>For example, this class is not a valid SwiftData model because it&#39;s missing the macro:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Author</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token keyword">var</span> books<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> books<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>books <span class="token operator">=</span> books</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To fix the error, place <code>@Model</code> before the class, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@Model</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Author</span> <span class="token punctuation">{</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="predicate-body-may-only-contain-one-expression" tabindex="-1"><a class="header-anchor" href="#predicate-body-may-only-contain-one-expression"><span>Predicate body may only contain one expression</span></a></h2><p>SwiftData&#39;s <code>#Predicate</code> macro does wonders to try to support complex expressions, but it does have limits. If you&#39;re seeing this error it means you&#39;ve gone outside of those limits and need to adjust your predicate to be compatible.</p><p>The usual suspects are trying to create local variables or constants inside your predicate, or not providing clear return statements for each branch of your condition.</p><hr><h2 id="i-m-confused-how-am-i-not-moored-but-i-don-t-have-an-unmoored-backing-data" tabindex="-1"><a class="header-anchor" href="#i-m-confused-how-am-i-not-moored-but-i-don-t-have-an-unmoored-backing-data"><span>I&#39;m confused, how am I not moored but I don&#39;t have an unmoored backing data?</span></a></h2><p>This error message appears if you have tried to subclass a model. While that was acceptable in Core Data, it&#39;s a very bad idea in SwiftData.</p><p>The solution is simple, but dull: don&#39;t subclass your SwiftData models. If it helps, try marking your model classes as <code>final</code> to avoid temptation.</p>`,82);function g(p,x){const o=r("VPCard"),n=r("router-link");return h(),d("div",null,[e("h1",y,[e("a",v,[e("span",null,u(p.$frontmatter.title)+" 관련",1)])]),a(o,i(l({title:"SwiftData by Example",desc:"Back to Home",link:"/hackingwithswift.com/swiftdata/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),e("nav",f,[e("ul",null,[e("li",null,[a(n,{to:"#circular-reference-resolving-attached-macro-relationship"},{default:s(()=>[t("Circular reference resolving attached macro 'Relationship'")]),_:1})]),e("li",null,[a(n,{to:"#nsfetchrequest-could-not-locate-an-nsentitydescription-for-entity-name-yourmodelname"},{default:s(()=>[t("NSFetchRequest could not locate an NSEntityDescription for entity name YourModelName")]),_:1})]),e("li",null,[a(n,{to:"#set-a-modelcontext-in-view-s-environment-to-use-query"},{default:s(()=>[t("Set a .modelContext in view's environment to use Query")]),_:1})]),e("li",null,[a(n,{to:"#a-stored-property-cannot-be-named-description"},{default:s(()=>[t("A stored property cannot be named 'description'")]),_:1})]),e("li",null,[a(n,{to:"#illegal-attempt-to-establish-a-relationship-between-objects-in-different-contexts"},{default:s(()=>[t('"Illegal attempt to establish a relationship between objects in different contexts')]),_:1})]),e("li",null,[a(n,{to:"#exc-bad-access-code-1-address-0x0"},{default:s(()=>[t("EXC_BAD_ACCESS (code=1, address=0x0)")]),_:1})]),e("li",null,[a(n,{to:"#model-requires-an-initializer-be-provided-for-yourmodelname"},{default:s(()=>[t("@Model requires an initializer be provided for 'YourModelName'")]),_:1})]),e("li",null,[a(n,{to:"#fatal-error-duplicate-registration-attempt-for-object-with-id"},{default:s(()=>[t("Fatal error: Duplicate registration attempt for object with id")]),_:1})]),e("li",null,[a(n,{to:"#coredata-warning-validation-recovery-attempt-failed-with-error-domain-nscocoaerrordomain-code-1570-property-is-a-required-value"},{default:s(()=>[t('CoreData: warning: validation recovery attempt FAILED with Error Domain=NSCocoaErrorDomain Code=1570 "%{PROPERTY}@ is a required value."')]),_:1})]),e("li",null,[a(n,{to:"#too-few-items-in-property-too-many-items-in-property"},{default:s(()=>[t("Too few items in %{PROPERTY}@ / Too many items in %{PROPERTY}@.")]),_:1})]),e("li",null,[a(n,{to:"#type-array-yourmodeltype-element-aka-yourmodeltype-does-not-conform-to-protocol-persistentmodel"},{default:s(()=>[t("Type Array<YourModelType>.Element (aka 'YourModelType') does not conform to protocol 'PersistentModel'")]),_:1})]),e("li",null,[a(n,{to:"#predicate-body-may-only-contain-one-expression"},{default:s(()=>[t("Predicate body may only contain one expression")]),_:1})]),e("li",null,[a(n,{to:"#i-m-confused-how-am-i-not-moored-but-i-don-t-have-an-unmoored-backing-data"},{default:s(()=>[t("I'm confused, how am I not moored but I don't have an unmoored backing data?")]),_:1})])])]),b,a(o,i(l({title:"How to read the contents of a SwiftData database store | SwiftData by Example",desc:"How to read the contents of a SwiftData database store",link:"https://hackingwithswift.com/quick-start/swiftdata/how-to-read-the-contents-of-a-swiftdata-database-store",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),w])}const D=c(k,[["render",g],["__file","common-swiftdata-errors-and-their-solutions.html.vue"]]),R=JSON.parse(`{"path":"/hackingwithswift.com/swiftdata/common-swiftdata-errors-and-their-solutions.html","title":"How to read the contents of a SwiftData database store","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"How to read the contents of a SwiftData database store","description":"Article(s) > How to read the contents of a SwiftData database store","category":["Swift","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","swiftdata","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > How to read the contents of a SwiftData database store"},{"property":"og:description","content":"How to read the contents of a SwiftData database store"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swiftdata/how-to-read-the-contents-of-a-swiftdata-database-store.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/swiftdata/common-swiftdata-errors-and-their-solutions.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"How to read the contents of a SwiftData database store"}],["meta",{"property":"og:description","content":"Article(s) > How to read the contents of a SwiftData database store"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swiftdata"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:published_time","content":"2023-09-30T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to read the contents of a SwiftData database store\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-09-30T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]],"next":"/hackingwithswift.com/swiftdata/README.md","date":"2023-09-30T00:00:00.000Z","isOriginal":false},"headers":[{"level":2,"title":"Circular reference resolving attached macro 'Relationship'","slug":"circular-reference-resolving-attached-macro-relationship","link":"#circular-reference-resolving-attached-macro-relationship","children":[]},{"level":2,"title":"NSFetchRequest could not locate an NSEntityDescription for entity name YourModelName","slug":"nsfetchrequest-could-not-locate-an-nsentitydescription-for-entity-name-yourmodelname","link":"#nsfetchrequest-could-not-locate-an-nsentitydescription-for-entity-name-yourmodelname","children":[]},{"level":2,"title":"Set a .modelContext in view's environment to use Query","slug":"set-a-modelcontext-in-view-s-environment-to-use-query","link":"#set-a-modelcontext-in-view-s-environment-to-use-query","children":[]},{"level":2,"title":"A stored property cannot be named 'description'","slug":"a-stored-property-cannot-be-named-description","link":"#a-stored-property-cannot-be-named-description","children":[]},{"level":2,"title":"\\"Illegal attempt to establish a relationship between objects in different contexts","slug":"illegal-attempt-to-establish-a-relationship-between-objects-in-different-contexts","link":"#illegal-attempt-to-establish-a-relationship-between-objects-in-different-contexts","children":[]},{"level":2,"title":"EXC_BAD_ACCESS (code=1, address=0x0)","slug":"exc-bad-access-code-1-address-0x0","link":"#exc-bad-access-code-1-address-0x0","children":[]},{"level":2,"title":"@Model requires an initializer be provided for 'YourModelName'","slug":"model-requires-an-initializer-be-provided-for-yourmodelname","link":"#model-requires-an-initializer-be-provided-for-yourmodelname","children":[]},{"level":2,"title":"Fatal error: Duplicate registration attempt for object with id","slug":"fatal-error-duplicate-registration-attempt-for-object-with-id","link":"#fatal-error-duplicate-registration-attempt-for-object-with-id","children":[]},{"level":2,"title":"CoreData: warning: validation recovery attempt FAILED with Error Domain=NSCocoaErrorDomain Code=1570 \\"%{PROPERTY}@ is a required value.\\"","slug":"coredata-warning-validation-recovery-attempt-failed-with-error-domain-nscocoaerrordomain-code-1570-property-is-a-required-value","link":"#coredata-warning-validation-recovery-attempt-failed-with-error-domain-nscocoaerrordomain-code-1570-property-is-a-required-value","children":[]},{"level":2,"title":"Too few items in %{PROPERTY}@ / Too many items in %{PROPERTY}@.","slug":"too-few-items-in-property-too-many-items-in-property","link":"#too-few-items-in-property-too-many-items-in-property","children":[]},{"level":2,"title":"Type Array<YourModelType>.Element (aka 'YourModelType') does not conform to protocol 'PersistentModel'","slug":"type-array-yourmodeltype-element-aka-yourmodeltype-does-not-conform-to-protocol-persistentmodel","link":"#type-array-yourmodeltype-element-aka-yourmodeltype-does-not-conform-to-protocol-persistentmodel","children":[]},{"level":2,"title":"Predicate body may only contain one expression","slug":"predicate-body-may-only-contain-one-expression","link":"#predicate-body-may-only-contain-one-expression","children":[]},{"level":2,"title":"I'm confused, how am I not moored but I don't have an unmoored backing data?","slug":"i-m-confused-how-am-i-not-moored-but-i-don-t-have-an-unmoored-backing-data","link":"#i-m-confused-how-am-i-not-moored-but-i-don-t-have-an-unmoored-backing-data","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":6.15,"words":1846},"filePathRelative":"hackingwithswift.com/swiftdata/common-swiftdata-errors-and-their-solutions.md","localizedDate":"2023년 9월 30일","excerpt":"\\n"}`);export{D as comp,R as data};
