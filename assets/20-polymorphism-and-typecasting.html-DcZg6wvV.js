import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,b as s,t as k,e as n,n as o,g as i,w as p,f as m,r as a,o as h,d as l}from"./app-BgNevrm5.js";const v={},b={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},y={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},g={class:"table-of-contents"},w=s("hr",null,null,-1),f=m(`<p>Because classes can inherit from each other (e.g. <code>CountrySinger</code> can inherit from <code>Singer</code>) it means one class is effectively a superset of another: class B has all the things A has, with a few extras. This in turn means that you can treat B as type B or as type A, depending on your needs.</p><p>Confused? Let&#39;s try some code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Album</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">:</span> <span class="token class-name">Album</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> studio<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>studio <span class="token operator">=</span> studio</span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">LiveAlbum</span><span class="token punctuation">:</span> <span class="token class-name">Album</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> location<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> location<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>location <span class="token operator">=</span> location</span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That defines three classes: albums, studio albums and live albums, with the latter two both inheriting from <code>Album</code>. Because any instance of <code>LiveAlbum</code> is inherited from <code>Album</code> it can be treated just as either <code>Album</code> or <code>LiveAlbum</code> ‚Äì it&#39;s both at the same time. This is called &quot;polymorphism,&quot; but it means you can write code like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> taylorSwift <span class="token operator">=</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Taylor Swift&quot;</span></span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;The Castles Studios&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">var</span> fearless <span class="token operator">=</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Speak Now&quot;</span></span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Aimeeland Studio&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">var</span> iTunesLive <span class="token operator">=</span> <span class="token class-name">LiveAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;iTunes Live from SoHo&quot;</span></span><span class="token punctuation">,</span> location<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;New York&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> allAlbums<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Album</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>taylorSwift<span class="token punctuation">,</span> fearless<span class="token punctuation">,</span> iTunesLive<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There we create an array that holds only albums, but put inside it two studio albums and a live album. This is perfectly fine in Swift because they are all descended from the <code>Album</code> class, so they share the same basic behavior.</p><p>We can push this a step further to really demonstrate how polymorphism works. Let&#39;s add a <code>getPerformance()</code> method to all three classes:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Album</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">func</span> <span class="token function-definition function">getPerformance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;The album </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> sold lots&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">:</span> <span class="token class-name">Album</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> studio<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>studio <span class="token operator">=</span> studio</span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">getPerformance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;The studio album </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> sold lots&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">LiveAlbum</span><span class="token punctuation">:</span> <span class="token class-name">Album</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> location<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> location<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">self</span><span class="token punctuation">.</span>location <span class="token operator">=</span> location</span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">getPerformance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;The live album </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> sold lots&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>getPerformance()</code> method exists in the <code>Album</code> class, but both child classes override it. When we create an array that holds <code>Albums</code>, we&#39;re actually filling it with subclasses of albums: <code>LiveAlbum</code> and <code>StudioAlbum</code>. They go into the array just fine because they inherit from the <code>Album</code> class, but they never lose their original class. So, we could write code like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> taylorSwift <span class="token operator">=</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Taylor Swift&quot;</span></span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;The Castles Studios&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">var</span> fearless <span class="token operator">=</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Speak Now&quot;</span></span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Aimeeland Studio&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">var</span> iTunesLive <span class="token operator">=</span> <span class="token class-name">LiveAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;iTunes Live from SoHo&quot;</span></span><span class="token punctuation">,</span> location<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;New York&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> allAlbums<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Album</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>taylorSwift<span class="token punctuation">,</span> fearless<span class="token punctuation">,</span> iTunesLive<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> album <span class="token keyword">in</span> allAlbums <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span>album<span class="token punctuation">.</span><span class="token function">getPerformance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://hackingwithswift.com/img/books/hws/polymorphism-and-typecasting-1@2x.png" alt="Using the overridden methods, ‚ÄúThe studio album...‚Äù and ‚ÄúThe live album...‚Äù are printed out." tabindex="0" loading="lazy"><figcaption>Using the overridden methods, ‚ÄúThe studio album...‚Äù and ‚ÄúThe live album...‚Äù are printed out.</figcaption></figure><p>That will automatically use the override version of <code>getPerformance()</code> depending on the subclass in question. That&#39;s polymorphism in action: an object can work as its class and its parent classes, all at the same time.</p><hr><h2 id="converting-types-with-typecasting" tabindex="-1"><a class="header-anchor" href="#converting-types-with-typecasting"><span>Converting types with typecasting</span></a></h2><p>You will often find you have an object of a certain type, but really you know it&#39;s a different type. Sadly, if Swift doesn&#39;t know what you know, it won&#39;t build your code. So, there&#39;s a solution, and it&#39;s called typecasting: converting an object of one type to another.</p><p>Chances are you&#39;re struggling to think why this might be necessary, but I can give you a very simple example:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">for</span> album <span class="token keyword">in</span> allAlbums <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span>album<span class="token punctuation">.</span><span class="token function">getPerformance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That was our loop from a few minutes ago. The <code>allAlbums</code> array holds the type <code>Album</code>, but we know that really it&#39;s holding one of the subclasses: <code>StudioAlbum</code> or <code>LiveAlbum</code>. Swift doesn&#39;t know that, so if you try to write something like <code>print(album.studio)</code> it will refuse to build because only <code>StudioAlbum</code> objects have that property.</p><figure><img src="https://hackingwithswift.com/img/books/hws/polymorphism-and-typecasting-2@2x.png" alt="Trying to access  on  results in an error." tabindex="0" loading="lazy"><figcaption>Trying to access <code>studio</code> on <code>Album</code> results in an error.</figcaption></figure><p>Typecasting in Swift comes in three forms, but most of the time you&#39;ll only meet two: <code>as?</code> and <code>as!</code>, known as optional downcasting and forced downcasting. The former means &quot;I think this conversion might be true, but it might fail,&quot; and the second means &quot;I know this conversion is true, and I&#39;m happy for my app to crash if I&#39;m wrong.&quot;</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>when I say &quot;conversion&quot; I don&#39;t mean that the object literally gets transformed. Instead, it&#39;s just converting how Swift treats the object ‚Äì you&#39;re telling Swift that an object it thought was type A is actually type E.</p></div><p>The question and exclamation marks should give you a hint of what&#39;s going on, because this is very similar to optional territory. For example, if you write this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">for</span> album <span class="token keyword">in</span> allAlbums <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> studioAlbum <span class="token operator">=</span> album <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">StudioAlbum</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Swift will make <code>studioAlbum</code> have the data type <code>StudioAlbum?</code>. That is, an optional studio album: the conversion might have worked, in which case you have a studio album you can work with, or it might have failed, in which case you have nil.</p><p>This is most commonly used with <code>if let</code> to automatically unwrap the optional result, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">for</span> album <span class="token keyword">in</span> allAlbums <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span>album<span class="token punctuation">.</span><span class="token function">getPerformance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">let</span> studioAlbum <span class="token operator">=</span> album <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">StudioAlbum</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">print</span><span class="token punctuation">(</span>studioAlbum<span class="token punctuation">.</span>studio<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">let</span> liveAlbum <span class="token operator">=</span> album <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">LiveAlbum</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">print</span><span class="token punctuation">(</span>liveAlbum<span class="token punctuation">.</span>location<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That will go through every album and print its performance details, because that&#39;s common to the <code>Album</code> class and all its subclasses. It then checks whether it can convert the <code>album</code> value into a <code>StudioAlbum</code>, and if it can it prints out the studio name. The same thing is done for the <code>LiveAlbum</code> in the array.</p><p>Forced downcasting is when you&#39;re really sure an object of one type can be treated like a different type, but if you&#39;re wrong your program will just crash. Forced downcasting doesn&#39;t need to return an optional value, because you&#39;re saying the conversion is definitely going to work ‚Äì if you&#39;re wrong, it means you wrote your code wrong.</p><p>To demonstrate this in a non-crashy way, let&#39;s strip out the live album so that we just have studio albums in the array:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> taylorSwift <span class="token operator">=</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Taylor Swift&quot;</span></span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;The Castles Studios&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">var</span> fearless <span class="token operator">=</span> <span class="token class-name">StudioAlbum</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Speak Now&quot;</span></span><span class="token punctuation">,</span> studio<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Aimeeland Studio&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> allAlbums<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Album</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>taylorSwift<span class="token punctuation">,</span> fearless<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> album <span class="token keyword">in</span> allAlbums <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> studioAlbum <span class="token operator">=</span> album <span class="token keyword">as</span><span class="token operator">!</span> <span class="token class-name">StudioAlbum</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span>studioAlbum<span class="token punctuation">.</span>studio<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That&#39;s obviously a contrived example, because if that really were your code you would just change <code>allAlbums</code> so that it had the data type <code>[StudioAlbum]</code>. Still, it shows how forced downcasting works, and the example won&#39;t crash because it makes the correct assumptions.</p><p>Swift lets you downcast as part of the array loop, which in this case would be more efficient. If you wanted to write that forced downcast at the array level, you would write this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">for</span> album <span class="token keyword">in</span> allAlbums <span class="token keyword">as</span><span class="token operator">!</span> <span class="token punctuation">[</span><span class="token class-name">StudioAlbum</span><span class="token punctuation">]</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span>album<span class="token punctuation">.</span>studio<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That no longer needs to downcast every item inside the loop, because it happens when the loop begins. Again, you had better be correct that all items in the array are <code>StudioAlbums</code>, otherwise your code will crash.</p><p>Swift also allows optional downcasting at the array level, although it&#39;s a bit more tricksy because you need to use the nil coalescing operator to ensure there&#39;s always a value for the loop. Here&#39;s an example:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">for</span> album <span class="token keyword">in</span> allAlbums <span class="token keyword">as</span><span class="token operator">?</span> <span class="token punctuation">[</span><span class="token class-name">LiveAlbum</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token class-name">LiveAlbum</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span>album<span class="token punctuation">.</span>location<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>What that means is, ‚Äútry to convert <code>allAlbums</code> to be an array of <code>LiveAlbum</code> objects, but if that fails just create an empty array of live albums and use that instead‚Äù ‚Äì i.e., do nothing.</p><hr><h2 id="converting-common-types-with-initializers" tabindex="-1"><a class="header-anchor" href="#converting-common-types-with-initializers"><span>Converting common types with initializers</span></a></h2><p>Typecasting is useful when you know something that Swift doesn‚Äôt, for example when you have an object of type <code>A</code> that Swift thinks is actually type <code>B</code>. However, typecasting is useful only when those types really are what you say ‚Äì you can‚Äôt force a type <code>A</code> into a type <code>Z</code> if they aren‚Äôt actually related.</p><p>For example, if you have an integer called <code>number</code>, you couldn‚Äôt write code like this to make it a string:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">5</span></span>
<span class="line"><span class="token keyword">let</span> text <span class="token operator">=</span> number <span class="token keyword">as</span><span class="token operator">!</span> <span class="token class-name">String</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>That is, you can‚Äôt force an integer into a string, because they are two completely different types. Instead, you need to create a new string by feeding it the integer, and Swift knows how to convert the two. The difference is subtle: this is a <em>new</em> value, rather than just a re-interpretation of the same value.</p><p>So, that code should be rewritten like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">5</span></span>
<span class="line"><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span></span>
<span class="line"><span class="token function">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This only works for some of Swift‚Äôs built-in data types: you can convert integers and floats to strings and back again, for example, but if you created two custom structs Swift can‚Äôt magically convert one to the other ‚Äì you need to write that code yourself.</p>`,46);function S(c,A){const e=a("VPCard"),t=a("router-link"),u=a("VidStack");return h(),d("div",null,[s("h1",b,[s("a",y,[s("span",null,k(c.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),n(e,o(i({title:"Hacking with iOS ‚Äì learn to code iPhone and iPad apps with free Swift tutorials",desc:"Learn Swift coding for iOS with these free tutorials ‚Äì learn Swift, iOS, and Xcode",link:"/hackingwithswift.com/read/README.md",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),s("nav",g,[s("ul",null,[s("li",null,[n(t,{to:"#converting-types-with-typecasting"},{default:p(()=>[l("Converting types with typecasting")]),_:1})]),s("li",null,[n(t,{to:"#converting-common-types-with-initializers"},{default:p(()=>[l("Converting common types with initializers")]),_:1})])])]),w,n(e,o(i({title:"Polymorphism and typecasting | Hacking with iOS",desc:"Polymorphism and typecasting",link:"https://hackingwithswift.com/read/0/20/polymorphism-and-typecasting",logo:"https://hackingwithswift.com/favicon.svg",background:"rgba(174,10,10,0.2)"})),null,16),n(u,{src:"youtube/575cMa-XTX8"}),f])}const x=r(v,[["render",S],["__file","20-polymorphism-and-typecasting.html.vue"]]),_=JSON.parse('{"path":"/hackingwithswift.com/read/00/20-polymorphism-and-typecasting.html","title":"Polymorphism and typecasting","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Polymorphism and typecasting","description":"Article(s) > Polymorphism and typecasting","category":["Swift","iOS","Article(s)"],"tag":["blog","hackingwithswift.com","crashcourse","swift","xcode","appstore","ios"],"head":[[{"meta":null},{"property":"og:title","content":"Article(s) > Polymorphism and typecasting"},{"property":"og:description","content":"Polymorphism and typecasting"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/00/20-polymorphism-and-typecasting.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/hackingwithswift.com/read/00/20-polymorphism-and-typecasting.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Polymorphism and typecasting"}],["meta",{"property":"og:description","content":"Article(s) > Polymorphism and typecasting"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hackingwithswift.com/img/books/hws/polymorphism-and-typecasting-1@2x.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:tag","content":"hackingwithswift.com"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:tag","content":"ios"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Polymorphism and typecasting\\",\\"image\\":[\\"https://hackingwithswift.com/img/books/hws/polymorphism-and-typecasting-1@2x.png\\",\\"https://hackingwithswift.com/img/books/hws/polymorphism-and-typecasting-2@2x.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]],"isOriginal":false},"headers":[{"level":2,"title":"Converting types with typecasting","slug":"converting-types-with-typecasting","link":"#converting-types-with-typecasting","children":[]},{"level":2,"title":"Converting common types with initializers","slug":"converting-common-types-with-initializers","link":"#converting-common-types-with-initializers","children":[]}],"git":{"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":2}]},"readingTime":{"minutes":5.42,"words":1626},"filePathRelative":"hackingwithswift.com/read/00/20-polymorphism-and-typecasting.md","excerpt":"\\n"}');export{x as comp,_ as data};
